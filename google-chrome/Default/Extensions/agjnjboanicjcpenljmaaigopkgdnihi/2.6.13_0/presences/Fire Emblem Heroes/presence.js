"use strict";var __webpack_exports__={};const presence=new Presence({clientId:"1133602327476047873"}),slideshow=presence.createSlideshow();function truncateText(e){return e.length>127?`${e.slice(0,124)}...`:e}function loadImage(e,t){return new Promise((a=>{e.addEventListener("load",(()=>a())),e.src=t}))}function getCanvasBlob(){return new Promise(((e,t)=>{canvas.toBlob((a=>{a||t(),e(a)}),"image/png")}))}const canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.height=512,canvas.width=512;const squareImageCache={};let isUploading=!1;async function squareImage(e){if(squareImageCache[e])return squareImageCache[e];if(isUploading)return"https://cdn.rcd.gg/PreMiD/websites/F/Fire%20Emblem%20Heroes/assets/logo.png";isUploading=!0;const t=document.createElement("img");t.crossOrigin="anonymous",await loadImage(t,e);const a=canvas.width,s=canvas.height,r=t.naturalWidth,n=t.naturalHeight,o=Math.min(a/r,s/n),i=r*o,c=n*o;ctx.clearRect(0,0,512,512),ctx.drawImage(t,(a-i)/2,(s-c)/2,i,c);const l=await getCanvasBlob(),u=new FormData;u.append("file",l,"file");const d=await fetch("https://pd.premid.app/create/image",{method:"POST",body:u}).then((e=>e.text()));return isUploading=!1,squareImageCache[e]=d,d}let section="",intersectionObserversActivated=!1;const observer=new IntersectionObserver((e=>{let t=section;for(const a of e){const{id:e}=a.target,s=a.intersectionRatio;if(s>.05){t=e;break}t===e&&s<.05&&(t="")}t!==section&&(section=t)}),{threshold:[0,.05]});function activateIntersectionObservers(e){if(!intersectionObserversActivated){switch(e[0]??""){case"":observer.observe(document.querySelector("#cont2")),observer.observe(document.querySelector("#cont4"));break;case"topics":{const e=[...document.querySelectorAll(".article")];for(const t of e)observer.observe(t);break}}intersectionObserversActivated=!0}}function areObserversActivated(){return intersectionObserversActivated}function resetObservers(){intersectionObserversActivated=!1,section="",observer.disconnect()}function getSection(){return section}function applyMainHostDetails(e,t){switch(t[0]??""){case"":switch(activateIntersectionObservers(t),getSection()){case"":e.details="Browsing the home page";break;case"cont2":e.details="Reading FEH Lore",e.state=document.querySelector("#storySlide .flex-active .on").alt;break;case"cont4":{const t=document.querySelector(".characterSlide-summery-item.active h3").textContent;e.details="Meeting the Heroes",e.state=t,e.largeImageKey=document.querySelector("#characterSlide .flex-active-slide img").src,e.smallImageKey=document.querySelector(".characterSlide-thumb-item.flex-active").src,e.smallImageText=t}}break;case"countries":e.details="Viewing game availability";break;case"illustrations":{const t=[...document.querySelectorAll("#topics-detail-content img")];for(const a of t){const t=Object.assign({},e);t.details="Browsing illustrations",t.largeImageKey=a.src,slideshow.addSlide(a.getAttribute("src"),t,5e3)}break}case"manga":t[1]?(e.details="Reading A Day in the Life",e.buttons=[{label:"Read Manga",url:document.location.href}]):e.details="Browsing manga";break;case"system":e.details="Reading about the gameplay";break;case"topics":if(activateIntersectionObservers(t),e.details="Browsing articles",getSection()){const t=document.querySelector(`#${getSection()}`);e.state=`${t.querySelector(".heading").textContent} - ${t.querySelector(".date").textContent}`,e.largeImageKey=t.querySelector(".img > img").src,e.buttons=[{label:"Read Article",url:`${document.location.href}#${getSection()}`}]}}}async function applyCYLDetails(e,t){const a=document.querySelector(".campaigns-title")?.textContent??document.title.match(/(?<=-\s).+?(?=$|\s-)/)?.[0]??document.title;switch(e.buttons=[{label:"View Campaign",url:document.location.href}],t[0]??""){case"":e.details=`Viewing ${a}`;break;case"about":e.details=`Reading about ${a}`;break;case"mypage":e.details=`Viewing ${a}`,e.state="Viewing their votes";break;case"random":e.details=`Voting for ${a}`,e.state="Choosing a random character";break;case"result":case"result-detail":case"result_detail":case"results":if(new URLSearchParams(document.location.search).get("overall")||t[0].includes("detail")||"result"===t[0]&&t[1])e.details=`Viewing ${a} results`;else{const t=await Promise.all([...document.querySelectorAll(".result-special-character [class*=result-special-character-wrap]"),...document.querySelectorAll(".HeroItem.-golden"),...document.querySelectorAll(".result-stand-heroes .hero")].map((async t=>{let s=(t.querySelector(".result-stand > img")??t.querySelector(".hero-image")??t.querySelector(".HeroItem__Image")??t.querySelector("p > img"))?.src;s||(s=getComputedStyle(t.querySelector("[class*=result-stand]"))?.backgroundImage.match(/url\(["']?(.+?)["']?\)/)[1]);let r=(t.querySelector(".star > img")??t.querySelector(".icon-rank")??t.querySelector(".HeroItem__Rank"))?.src;return r||(r=getComputedStyle(t,"::after").backgroundImage.match(/url\(['"]?(.+?)['"]?\)/)[1]),{...e,details:`Viewing winners of ${a}`,state:`${t.querySelector(".hero-result-hero-name, .hero-name, .HeroItem__Name").textContent} - ${t.querySelector(".hero-result-series-name, .series-name, .HeroItem__SeriesName").textContent}`,largeImageKey:await squareImage(s),smallImageKey:r,smallImageText:`${t.querySelector(".hero-result-vote-count, .HeroItem__VoteCount, .vote-count").textContent} votes`,buttons:[{label:"View Results",url:document.location.href}]}})));for(const[e,a]of t.entries())slideshow.addSlide(`${e}`,a,5e3)}break;case"series":if(e.details=`Voting for ${a}`,t[1])if("heroes"===t[t.length-1]){const t=document.title.split(":")[1]?.trim();e.state=t?`Selecting a character from ${t}`:"Selecting a character from a series",e.buttons=[{label:"View Series",url:document.location.href}]}else{const t=document.querySelector(".hero-vote-name")?.textContent;e.state=t?`Voting for ${t}`:"Voting for a character",e.buttons=[{label:"Vote Character",url:document.location.href}]}else e.state="Selecting a series"}}function applyFehPassDetails(e,t){switch(t[0]??""){case"":e.details="Browsing FEH Pass";break;case"faq":e.details="Reading FEH Pass FAQ";break;case"talk":if(t[1]){const t=document.querySelector(".text.active");e.details="Reading FEH Pass Talk",e.state=`${document.querySelector(".chara_name.anime").textContent}: ${[...t.classList].find((e=>/\d$/.test(e))).match(/\d+/)[0]} / ${[...document.querySelector(".text:last-of-type").classList].find((e=>/\d$/.test(e))).match(/\d+/)[0]}`,e.smallImageKey="https://cdn.rcd.gg/PreMiD/resources/question.png",e.smallImageText=truncateText(t.textContent),e.buttons=[{label:"View Talk",url:document.location.href}]}else e.details="Browsing FEH Pass Talk";break;default:e.details="Viewing a Resplendent Hero",e.state=`${document.querySelector(".chara_name").textContent}: ${document.querySelector(".chara_catch").textContent}`,e.largeImageKey=document.querySelector(".chara_icon > img").src,e.smallImageKey=document.querySelector(".mini_img > img").src,e.smallImageText=truncateText(document.querySelector(".chara_wrap > p:last-child").textContent),e.buttons=[{label:"View Hero",url:document.location.href}]}}function applyGuideDetails(e,t){switch(t[0]??""){case"":e.details="Browsing the Guide";break;case"category":if("character"===t[1])e.details="Browsing the Guide: Character List",e.state=document.querySelector(".select_character").selectedOptions[0].textContent;else if("comeback"===t[1])switch(t[2]??""){case"":e.details="Browsing the Guide: Returner Tips";break;case"elementary":case"intermediate":case"advanced":e.details="Browsing the Guide: Advanced Training Tips",e.details=`Browsing the Guide: ${t[2][0].toUpperCase()}${t[2].slice(1)} Training Tips`;break;case"weapon":e.details="Browsing the Guide: List of Weapons",e.state=document.querySelector(".select_weapon").selectedOptions[0].textContent}break;default:{const t=document.querySelector(".sec_gif > img").src,a=[...document.querySelectorAll("dl dt")].map((e=>({text:e.textContent,image:e.nextElementSibling.querySelector("img").src})));e.details=`Reading about ${document.querySelector(".sec_charaname").textContent}: ${document.querySelector(".sec_charanick").textContent}`,e.largeImageKey=document.querySelector(".slick-slide.slick-current img").src,e.smallImageKey=t,e.buttons=[{label:"View Character",url:document.location.href}],slideshow.addSlide(t,e,5e3);for(const t of a){const a=Object.assign({},e);a.smallImageText=truncateText(t.text),a.smallImageKey=t.image,slideshow.addSlide(t.image,a,5e3)}}}}function applyNewGuideDetails(e){e.details="Browsing the Guide",e.state=document.querySelector("h1").textContent,e.buttons=[{label:"Read Guide",url:document.location.href}]}function applySupportDetails(e,t){switch(t[0]){case"mjolnir":switch(t[1]??""){case"":e.details="Reading about Mjölnir's Strike";break;case"archives":e.details="Viewing Mjölnir's Strike archives";break;case"terms":e.details=`Viewing Mjölnir's Strike: ${document.querySelector(".subtitle-section-white").textContent}`,e.state=`Askr: ${document.querySelector(".battle-left .battle-score").textContent} vs. Strike: ${document.querySelector(".battle-right .battle-score").textContent}`,e.buttons=[{label:"View Situation",url:document.location.href}]}break;case"voting_gauntlet":switch(t[1]){case"howtoplay":e.details="Reading about Voting Gauntlet";break;case"archives":e.details="Viewing Voting Gauntlet archives";break;case"tournaments":{e.details=`Viewing Gauntlet: ${document.querySelector("h4 > span").textContent}`,e.buttons=[{label:"View Gauntlet",url:document.location.href}];const t=[...document.querySelectorAll(".body-section-tournament")].filter((e=>!!e.querySelector("h2")));for(let a=t.length-1;a>=0;a--)for(const[s,r]of[...t[a].querySelectorAll(".tournaments-battle")].entries()){const n=[...r.querySelectorAll(".name")],o=n.map((e=>e.textContent)),i=n.map((e=>e.nextElementSibling.textContent)),c=getComputedStyle(r.querySelector(".tournaments-art-win").parentElement).backgroundImage.match(/url\(['"]?(.+?)["']?\)/)[1],l=Object.assign({},e);l.state=`Round ${t.length-a}: ${o[0]} vs. ${o[1]}`,l.smallImageKey=c,l.smallImageText=`${i[0]} vs. ${i[1]}`,slideshow.addSlide(`round${a}battle${s}`,l,5e3)}break}}}}const browsingTimestamp=Math.floor(Date.now()/1e3);let oldPath="";presence.on("UpdateData",(async()=>{const e={largeImageKey:"https://cdn.rcd.gg/PreMiD/websites/F/Fire%20Emblem%20Heroes/assets/logo.png",startTimestamp:browsingTimestamp},{pathname:t,hostname:a}=document.location,s=t.split("/").filter((e=>e));switch(oldPath!==t&&(oldPath=t,resetObservers(),slideshow.deleteAllSlides()),!0){case"fire-emblem-heroes.com"===a:applyMainHostDetails(e,s.slice(1));break;case"events.fire-emblem-heroes.com"===a:case/vote\d+[.]campaigns[.]fire-emblem-heroes[.]com/.test(a):case"support.fire-emblem-heroes.com"===a:a.startsWith("support")?"vote"===s[0]||"vote2"===s[0]?await applyCYLDetails(e,s.slice(1)):applySupportDetails(e,s):a.startsWith("vote3")?await applyCYLDetails(e,s):await applyCYLDetails(e,s.slice(1));break;case"fehpass.fire-emblem-heroes.com"===a:applyFehPassDetails(e,s.slice(1));break;case"guide.fire-emblem-heroes.com"===a:applyGuideDetails(e,s.slice(1));break;case"new-guide.fire-emblem-heroes.com"===a:applyNewGuideDetails(e)}slideshow.getSlides().length?presence.setActivity(slideshow):e.details?presence.setActivity(e):presence.setActivity()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBZSxDQUNqQk0sY0FBZSw4RUFDZm9FLGVBQWdCTixvQkFDakIsU0FBRU8sRUFBUSxTQUFFQyxHQUFhdEksU0FBUzJFLFNBQVU1QixFQUFXc0YsRUFBU3BDLE1BQU0sS0FBS29CLFFBQU9rQixHQUFRQSxJQU03RixPQUxJTCxVQUFZRyxJQUNaSCxRQUFVRyxFQUNWL0UsaUJBQ0F4RSxVQUFVMEosb0JBRU4sR0FDSixJQUFrQiwyQkFBYkYsRUFDRDdFLHFCQUFxQkMsRUFBY1gsRUFBUzVELE1BQU0sSUFDbEQsTUFDSixJQUFrQixrQ0FBYm1KLEVBQ0wsSUFBSyxpREFBaUQ3QixLQUFLNkIsR0FDM0QsSUFBa0IsbUNBQWJBLEVBQ0dBLEVBQVNHLFdBQVcsV0FDQSxTQUFoQjFGLEVBQVMsSUFBaUMsVUFBaEJBLEVBQVMsU0FDN0IrQixnQkFBZ0JwQixFQUFjWCxFQUFTNUQsTUFBTSxJQUVuRGdJLG9CQUFvQnpELEVBQWNYLEdBRWpDdUYsRUFBU0csV0FBVyxlQUNuQjNELGdCQUFnQnBCLEVBQWNYLFNBRTlCK0IsZ0JBQWdCcEIsRUFBY1gsRUFBUzVELE1BQU0sSUFDdkQsTUFFSixJQUFrQixtQ0FBYm1KLEVBQ0RsQyxvQkFBb0IxQyxFQUFjWCxFQUFTNUQsTUFBTSxJQUNqRCxNQUVKLElBQWtCLGlDQUFibUosRUFDRDVCLGtCQUFrQmhELEVBQWNYLEVBQVM1RCxNQUFNLElBQy9DLE1BRUosSUFBa0IscUNBQWJtSixFQUNEcEIscUJBQXFCeEQsR0FJekI1RSxVQUFVNEosWUFBWXhKLE9BQ3RCUCxTQUFTZ0ssWUFBWTdKLFdBQ2hCNEUsRUFBYUMsUUFDbEJoRixTQUFTZ0ssWUFBWWpGLEdBRXJCL0UsU0FBU2dLLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi91dGlsLnRzIiwid2VicGFjazovLy8uL3BhZ2VzL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvY3lsLnRzIiwid2VicGFjazovLy8uL3BhZ2VzL2ZlaHBhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvZ3VpZGUudHMiLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvbmV3Z3VpZGUudHMiLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvc3VwcG9ydC50cyIsIndlYnBhY2s6Ly8vLi9wcmVzZW5jZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcHJlc2VuY2UgPSBuZXcgUHJlc2VuY2Uoe1xuICAgIGNsaWVudElkOiBcIjExMzM2MDIzMjc0NzYwNDc4NzNcIixcbn0pO1xuZXhwb3J0IGNvbnN0IHNsaWRlc2hvdyA9IHByZXNlbmNlLmNyZWF0ZVNsaWRlc2hvdygpO1xuZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlVGV4dCh0ZXh0KSB7XG4gICAgaWYgKHRleHQubGVuZ3RoID4gMTI3KVxuICAgICAgICByZXR1cm4gYCR7dGV4dC5zbGljZSgwLCAxMjQpfS4uLmA7XG4gICAgcmV0dXJuIHRleHQ7XG59XG5mdW5jdGlvbiBsb2FkSW1hZ2UoaW1hZ2UsIHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0Q2FudmFzQmxvYigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjYW52YXMudG9CbG9iKGJsb2IgPT4ge1xuICAgICAgICAgICAgaWYgKCFibG9iKVxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgcmVzb2x2ZShibG9iKTtcbiAgICAgICAgfSwgXCJpbWFnZS9wbmdcIik7XG4gICAgfSk7XG59XG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuY2FudmFzLmhlaWdodCA9IDUxMjtcbmNhbnZhcy53aWR0aCA9IDUxMjtcbmNvbnN0IHNxdWFyZUltYWdlQ2FjaGUgPSB7fTtcbmxldCBpc1VwbG9hZGluZyA9IGZhbHNlO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNxdWFyZUltYWdlKHVybCkge1xuICAgIGlmIChzcXVhcmVJbWFnZUNhY2hlW3VybF0pXG4gICAgICAgIHJldHVybiBzcXVhcmVJbWFnZUNhY2hlW3VybF07XG4gICAgaWYgKGlzVXBsb2FkaW5nKVxuICAgICAgICByZXR1cm4gXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL0YvRmlyZSUyMEVtYmxlbSUyMEhlcm9lcy9hc3NldHMvbG9nby5wbmdcIjtcbiAgICBpc1VwbG9hZGluZyA9IHRydWU7XG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGltYWdlLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICBhd2FpdCBsb2FkSW1hZ2UoaW1hZ2UsIHVybCk7XG4gICAgY29uc3QgY2FudmFzV2lkdGggPSBjYW52YXMud2lkdGgsIGNhbnZhc0hlaWdodCA9IGNhbnZhcy5oZWlnaHQsIGltYWdlV2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGgsIGltYWdlSGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodCwgc2NhbGUgPSBNYXRoLm1pbihjYW52YXNXaWR0aCAvIGltYWdlV2lkdGgsIGNhbnZhc0hlaWdodCAvIGltYWdlSGVpZ2h0KSwgc2NhbGVkV2lkdGggPSBpbWFnZVdpZHRoICogc2NhbGUsIHNjYWxlZEhlaWdodCA9IGltYWdlSGVpZ2h0ICogc2NhbGU7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCA1MTIsIDUxMik7XG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgKGNhbnZhc1dpZHRoIC0gc2NhbGVkV2lkdGgpIC8gMiwgKGNhbnZhc0hlaWdodCAtIHNjYWxlZEhlaWdodCkgLyAyLCBzY2FsZWRXaWR0aCwgc2NhbGVkSGVpZ2h0KTtcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgZ2V0Q2FudmFzQmxvYigpLCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgZmlsZSwgXCJmaWxlXCIpO1xuICAgIGNvbnN0IHJlc3VsdFVSTCA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9wZC5wcmVtaWQuYXBwL2NyZWF0ZS9pbWFnZVwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgIH0pLnRoZW4ociA9PiByLnRleHQoKSk7XG4gICAgaXNVcGxvYWRpbmcgPSBmYWxzZTtcbiAgICBzcXVhcmVJbWFnZUNhY2hlW3VybF0gPSByZXN1bHRVUkw7XG4gICAgcmV0dXJuIHJlc3VsdFVSTDtcbn1cbmxldCBzZWN0aW9uID0gXCJcIiwgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJzQWN0aXZhdGVkID0gZmFsc2U7XG5jb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICBsZXQgdmlzaWJsZVNlY3Rpb24gPSBzZWN0aW9uO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICBjb25zdCB7IGlkIH0gPSBlbnRyeS50YXJnZXQsIHJhdGlvID0gZW50cnkuaW50ZXJzZWN0aW9uUmF0aW87XG4gICAgICAgIGlmIChyYXRpbyA+IDAuMDUpIHtcbiAgICAgICAgICAgIHZpc2libGVTZWN0aW9uID0gaWQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlzaWJsZVNlY3Rpb24gPT09IGlkICYmIHJhdGlvIDwgMC4wNSlcbiAgICAgICAgICAgIHZpc2libGVTZWN0aW9uID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKHZpc2libGVTZWN0aW9uICE9PSBzZWN0aW9uKVxuICAgICAgICBzZWN0aW9uID0gdmlzaWJsZVNlY3Rpb247XG59LCB7XG4gICAgdGhyZXNob2xkOiBbMC4wLCAwLjA1XSxcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGFjdGl2YXRlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJzKHBhdGhMaXN0KSB7XG4gICAgaWYgKGludGVyc2VjdGlvbk9ic2VydmVyc0FjdGl2YXRlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIHN3aXRjaCAocGF0aExpc3RbMF0gPz8gXCJcIikge1xuICAgICAgICBjYXNlIFwiXCI6IHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250MlwiKSk7XG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udDRcIikpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInRvcGljc1wiOiB7XG4gICAgICAgICAgICBjb25zdCBhcnRpY2xlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFydGljbGVcIildO1xuICAgICAgICAgICAgZm9yIChjb25zdCBhcnRpY2xlIG9mIGFydGljbGVzKVxuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoYXJ0aWNsZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnRlcnNlY3Rpb25PYnNlcnZlcnNBY3RpdmF0ZWQgPSB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFyZU9ic2VydmVyc0FjdGl2YXRlZCgpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0aW9uT2JzZXJ2ZXJzQWN0aXZhdGVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0T2JzZXJ2ZXJzKCkge1xuICAgIGludGVyc2VjdGlvbk9ic2VydmVyc0FjdGl2YXRlZCA9IGZhbHNlO1xuICAgIHNlY3Rpb24gPSBcIlwiO1xuICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWN0aW9uKCkge1xuICAgIHJldHVybiBzZWN0aW9uO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pZFhScGJDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpJanBiSW5WMGFXd3VkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUVVFc1RVRkJUU3hEUVVGRExFMUJRVTBzVVVGQlVTeEhRVUZITEVsQlFVa3NVVUZCVVN4RFFVRkRPMGxCUTNCRExGRkJRVkVzUlVGQlJTeHhRa0ZCY1VJN1EwRkRMMElzUTBGQlF5eERRVUZETzBGQlEwZ3NUVUZCVFN4RFFVRkRMRTFCUVUwc1UwRkJVeXhIUVVGSExGRkJRVkVzUTBGQlF5eGxRVUZsTEVWQlFVVXNRMEZCUXp0QlFVMXdSQ3hOUVVGTkxGVkJRVlVzV1VGQldTeERRVUZETEVsQlFWazdTVUZEZUVNc1NVRkJTU3hKUVVGSkxFTkJRVU1zVFVGQlRTeEhRVUZITEVkQlFVYzdVVUZCUlN4UFFVRlBMRWRCUVVjc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eERRVUZETEVWQlFVVXNSMEZCUnl4RFFVRkRMRXRCUVVzc1EwRkJRenRKUVVONlJDeFBRVUZQTEVsQlFVa3NRMEZCUXp0QlFVTmlMRU5CUVVNN1FVRkZSQ3hUUVVGVExGTkJRVk1zUTBGQlF5eExRVUYxUWl4RlFVRkZMRWRCUVZjN1NVRkRkRVFzVDBGQlR5eEpRVUZKTEU5QlFVOHNRMEZCUXl4UFFVRlBMRU5CUVVNc1JVRkJSVHRSUVVNMVFpeExRVUZMTEVOQlFVTXNaMEpCUVdkQ0xFTkJRVU1zVFVGQlRTeEZRVUZGTEVkQlFVY3NSVUZCUlN4RFFVRkRMRTlCUVU4c1JVRkJSU3hEUVVGRExFTkJRVU03VVVGRGFFUXNTMEZCU3l4RFFVRkRMRWRCUVVjc1IwRkJSeXhIUVVGSExFTkJRVU03U1VGRGFrSXNRMEZCUXl4RFFVRkRMRU5CUVVNN1FVRkRTaXhEUVVGRE8wRkJSVVFzVTBGQlV5eGhRVUZoTzBsQlEzSkNMRTlCUVU4c1NVRkJTU3hQUVVGUExFTkJRVU1zUTBGQlF5eFBRVUZQTEVWQlFVVXNUVUZCVFN4RlFVRkZMRVZCUVVVN1VVRkRkRU1zVFVGQlRTeERRVUZETEUxQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc1JVRkJSVHRaUVVOd1FpeEpRVUZKTEVOQlFVTXNTVUZCU1R0blFrRkJSU3hOUVVGTkxFVkJRVVVzUTBGQlF6dFpRVU53UWl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03VVVGRFppeERRVUZETEVWQlFVVXNWMEZCVnl4RFFVRkRMRU5CUVVNN1NVRkRha0lzUTBGQlF5eERRVUZETEVOQlFVTTdRVUZEU2l4RFFVRkRPMEZCUlVRc1RVRkJUU3hOUVVGTkxFZEJRVWNzVVVGQlVTeERRVUZETEdGQlFXRXNRMEZCUXl4UlFVRlJMRU5CUVVNc1JVRkRPVU1zUjBGQlJ5eEhRVUZITEUxQlFVMHNRMEZCUXl4VlFVRlZMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UVVGRkwwSXNUVUZCVFN4RFFVRkRMRTFCUVUwc1IwRkJSeXhIUVVGSExFTkJRVU03UVVGRGNFSXNUVUZCVFN4RFFVRkRMRXRCUVVzc1IwRkJSeXhIUVVGSExFTkJRVU03UVVGRmJrSXNUVUZCVFN4blFrRkJaMElzUjBGQk1rSXNSVUZCUlN4RFFVRkRPMEZCUTNCRUxFbEJRVWtzVjBGQlZ5eEhRVUZITEV0QlFVc3NRMEZCUXp0QlFVVjRRaXhOUVVGTkxFTkJRVU1zUzBGQlN5eFZRVUZWTEZkQlFWY3NRMEZCUXl4SFFVRlhPMGxCUXpWRExFbEJRVWtzWjBKQlFXZENMRU5CUVVNc1IwRkJSeXhEUVVGRE8xRkJRVVVzVDBGQlR5eG5Ra0ZCWjBJc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF6dEpRVU40UkN4SlFVRkpMRmRCUVZjN1VVRkJSU3h4UmtGQmJVSTdTVUZEY0VNc1YwRkJWeXhIUVVGSExFbEJRVWtzUTBGQlF6dEpRVU51UWl4TlFVRk5MRXRCUVVzc1IwRkJSeXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPMGxCUXpWRExFdEJRVXNzUTBGQlF5eFhRVUZYTEVkQlFVY3NWMEZCVnl4RFFVRkRPMGxCUTJoRExFMUJRVTBzVTBGQlV5eERRVUZETEV0QlFVc3NSVUZCUlN4SFFVRkhMRU5CUVVNc1EwRkJRenRKUVVNMVFpeE5RVUZOTEZkQlFWY3NSMEZCUnl4TlFVRk5MRU5CUVVNc1MwRkJTeXhGUVVNdlFpeFpRVUZaTEVkQlFVY3NUVUZCVFN4RFFVRkRMRTFCUVUwc1JVRkROVUlzVlVGQlZTeEhRVUZITEV0QlFVc3NRMEZCUXl4WlFVRlpMRVZCUXk5Q0xGZEJRVmNzUjBGQlJ5eExRVUZMTEVOQlFVTXNZVUZCWVN4RlFVTnFReXhMUVVGTExFZEJRVWNzU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4WFFVRlhMRWRCUVVjc1ZVRkJWU3hGUVVGRkxGbEJRVmtzUjBGQlJ5eFhRVUZYTEVOQlFVTXNSVUZEZEVVc1YwRkJWeXhIUVVGSExGVkJRVlVzUjBGQlJ5eExRVUZMTEVWQlEyaERMRmxCUVZrc1IwRkJSeXhYUVVGWExFZEJRVWNzUzBGQlN5eERRVUZETzBsQlJYQkRMRWRCUVVjc1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNSVUZCUlN4SFFVRkhMRVZCUVVVc1IwRkJSeXhEUVVGRExFTkJRVU03U1VGRE9VSXNSMEZCUnl4RFFVRkRMRk5CUVZNc1EwRkRXaXhMUVVGTExFVkJRMHdzUTBGQlF5eFhRVUZYTEVkQlFVY3NWMEZCVnl4RFFVRkRMRWRCUVVjc1EwRkJReXhGUVVNdlFpeERRVUZETEZsQlFWa3NSMEZCUnl4WlFVRlpMRU5CUVVNc1IwRkJSeXhEUVVGRExFVkJRMnBETEZkQlFWY3NSVUZEV0N4WlFVRlpMRU5CUTFvc1EwRkJRenRKUVVWR0xFMUJRVTBzU1VGQlNTeEhRVUZITEUxQlFVMHNZVUZCWVN4RlFVRkZMRVZCUTJwRExGRkJRVkVzUjBGQlJ5eEpRVUZKTEZGQlFWRXNSVUZCUlN4RFFVRkRPMGxCUXpOQ0xGRkJRVkVzUTBGQlF5eE5RVUZOTEVOQlFVTXNUVUZCVFN4RlFVRkZMRWxCUVVrc1JVRkJSU3hOUVVGTkxFTkJRVU1zUTBGQlF6dEpRVVYwUXl4TlFVRk5MRk5CUVZNc1IwRkJSeXhOUVVGTkxFdEJRVXNzUTBGQlF5eHZRMEZCYjBNc1JVRkJSVHRSUVVOdVJTeE5RVUZOTEVWQlFVVXNUVUZCVFR0UlFVTmtMRWxCUVVrc1JVRkJSU3hSUVVGUk8wdEJRMlFzUTBGQlF5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU1zUTBGQlF5eEpRVUZKTEVWQlFVVXNRMEZCUXl4RFFVRkRPMGxCUTNaQ0xGZEJRVmNzUjBGQlJ5eExRVUZMTEVOQlFVTTdTVUZEY0VJc1owSkJRV2RDTEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1UwRkJVeXhEUVVGRE8wbEJRMnhETEU5QlFVOHNVMEZCVXl4RFFVRkRPMEZCUTJ4Q0xFTkJRVU03UVVGRlJDeEpRVUZKTEU5QlFVOHNSMEZCUnl4RlFVRkZMRVZCUTJZc09FSkJRVGhDTEVkQlFVY3NTMEZCU3l4RFFVRkRPMEZCUTNoRExFMUJRVTBzVVVGQlVTeEhRVUZITEVsQlFVa3NiMEpCUVc5Q0xFTkJRM2hETEU5QlFVOHNRMEZCUXl4RlFVRkZPMGxCUTFRc1NVRkJTU3hqUVVGakxFZEJRVWNzVDBGQlR5eERRVUZETzBsQlF6ZENMRXRCUVVzc1RVRkJUU3hMUVVGTExFbEJRVWtzVDBGQlR5eEZRVUZGTzFGQlF6VkNMRTFCUVUwc1JVRkJSU3hGUVVGRkxFVkJRVVVzUjBGQlJ5eExRVUZMTEVOQlFVTXNUVUZCVFN4RlFVTXhRaXhMUVVGTExFZEJRVWNzUzBGQlN5eERRVUZETEdsQ1FVRnBRaXhEUVVGRE8xRkJRMnBETEVsQlFVa3NTMEZCU3l4SFFVRkhMRWxCUVVrc1JVRkJSVHRaUVVOcVFpeGpRVUZqTEVkQlFVY3NSVUZCUlN4RFFVRkRPMWxCUTNCQ0xFMUJRVTA3VTBGRFRqdFJRVU5FTEVsQlFVa3NZMEZCWXl4TFFVRkxMRVZCUVVVc1NVRkJTU3hMUVVGTExFZEJRVWNzU1VGQlNUdFpRVUZGTEdOQlFXTXNSMEZCUnl4RlFVRkZMRU5CUVVNN1MwRkRMMFE3U1VGRFJDeEpRVUZKTEdOQlFXTXNTMEZCU3l4UFFVRlBPMUZCUVVVc1QwRkJUeXhIUVVGSExHTkJRV01zUTBGQlF6dEJRVU14UkN4RFFVRkRMRVZCUTBRN1NVRkRReXhUUVVGVExFVkJRVVVzUTBGQlF5eEhRVUZITEVWQlFVVXNTVUZCU1N4RFFVRkRPME5CUTNSQ0xFTkJRMFFzUTBGQlF6dEJRVTFHTEUxQlFVMHNWVUZCVlN3MlFrRkJOa0lzUTBGQlF5eFJRVUZyUWp0SlFVTXZSQ3hKUVVGSkxEaENRVUU0UWp0UlFVRkZMRTlCUVU4N1NVRkRNME1zVVVGQlVTeFJRVUZSTEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVrc1JVRkJSU3hGUVVGRk8xRkJRekZDTEV0QlFVc3NSVUZCUlN4RFFVRkRMRU5CUVVNN1dVRkRVaXhSUVVGUkxFTkJRVU1zVDBGQlR5eERRVUZETEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc1VVRkJVU3hEUVVGRExFTkJRVU1zUTBGQlF6dFpRVU51UkN4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFVTXNVVUZCVVN4RFFVRkRMRU5CUVVNc1EwRkJRenRaUVVOdVJDeE5RVUZOTzFOQlEwNDdVVUZEUkN4TFFVRkxMRkZCUVZFc1EwRkJReXhEUVVGRE8xbEJRMlFzVFVGQlRTeFJRVUZSTEVkQlFVY3NRMEZCUXl4SFFVRkhMRkZCUVZFc1EwRkJReXhuUWtGQlowSXNRMEZCUXl4VlFVRlZMRU5CUVVNc1EwRkJReXhEUVVGRE8xbEJRelZFTEV0QlFVc3NUVUZCVFN4UFFVRlBMRWxCUVVrc1VVRkJVVHRuUWtGQlJTeFJRVUZSTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTlCUVU4c1EwRkJReXhEUVVGRE8xbEJRekZFTEUxQlFVMDdVMEZEVGp0TFFVTkVPMGxCUTBRc09FSkJRVGhDTEVkQlFVY3NTVUZCU1N4RFFVRkRPMEZCUTNaRExFTkJRVU03UVVGRlJDeE5RVUZOTEZWQlFWVXNjVUpCUVhGQ08wbEJRM0JETEU5QlFVOHNPRUpCUVRoQ0xFTkJRVU03UVVGRGRrTXNRMEZCUXp0QlFVVkVMRTFCUVUwc1ZVRkJWU3hqUVVGak8wbEJRemRDTERoQ1FVRTRRaXhIUVVGSExFdEJRVXNzUTBGQlF6dEpRVU4yUXl4UFFVRlBMRWRCUVVjc1JVRkJSU3hEUVVGRE8wbEJRMklzVVVGQlVTeERRVUZETEZWQlFWVXNSVUZCUlN4RFFVRkRPMEZCUTNaQ0xFTkJRVU03UVVGRlJDeE5RVUZOTEZWQlFWVXNWVUZCVlR0SlFVTjZRaXhQUVVGUExFOUJRVThzUTBGQlF6dEJRVU5vUWl4RFFVRkRJbjA9IiwiaW1wb3J0IHsgYWN0aXZhdGVJbnRlcnNlY3Rpb25PYnNlcnZlcnMsIGdldFNlY3Rpb24sIHNsaWRlc2hvdyB9IGZyb20gXCIuLi91dGlsXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseU1haW5Ib3N0RGV0YWlscyhwcmVzZW5jZURhdGEsIHBhdGhMaXN0KSB7XG4gICAgc3dpdGNoIChwYXRoTGlzdFswXSA/PyBcIlwiKSB7XG4gICAgICAgIGNhc2UgXCJcIjoge1xuICAgICAgICAgICAgYWN0aXZhdGVJbnRlcnNlY3Rpb25PYnNlcnZlcnMocGF0aExpc3QpO1xuICAgICAgICAgICAgc3dpdGNoIChnZXRTZWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIkJyb3dzaW5nIHRoZSBob21lIHBhZ2VcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJjb250MlwiOiB7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gXCJSZWFkaW5nIEZFSCBMb3JlXCI7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RvcnlTbGlkZSAuZmxleC1hY3RpdmUgLm9uXCIpLmFsdDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJjb250NFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlcm9OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFyYWN0ZXJTbGlkZS1zdW1tZXJ5LWl0ZW0uYWN0aXZlIGgzXCIpLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiTWVldGluZyB0aGUgSGVyb2VzXCI7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IGhlcm9OYW1lO1xuICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEubGFyZ2VJbWFnZUtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hhcmFjdGVyU2xpZGUgLmZsZXgtYWN0aXZlLXNsaWRlIGltZ1wiKS5zcmM7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFyYWN0ZXJTbGlkZS10aHVtYi1pdGVtLmZsZXgtYWN0aXZlXCIpLnNyYztcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VUZXh0ID0gaGVyb05hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImNvdW50cmllc1wiOiB7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiVmlld2luZyBnYW1lIGF2YWlsYWJpbGl0eVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImlsbHVzdHJhdGlvbnNcIjoge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VzID0gW1xuICAgICAgICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjdG9waWNzLWRldGFpbC1jb250ZW50IGltZ1wiKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIGltYWdlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBwcmVzZW5jZURhdGEpO1xuICAgICAgICAgICAgICAgIHRtcERhdGEuZGV0YWlscyA9IFwiQnJvd3NpbmcgaWxsdXN0cmF0aW9uc1wiO1xuICAgICAgICAgICAgICAgIHRtcERhdGEubGFyZ2VJbWFnZUtleSA9IGltYWdlLnNyYztcbiAgICAgICAgICAgICAgICBzbGlkZXNob3cuYWRkU2xpZGUoaW1hZ2UuZ2V0QXR0cmlidXRlKFwic3JjXCIpLCB0bXBEYXRhLCA1ZTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm1hbmdhXCI6IHtcbiAgICAgICAgICAgIGlmIChwYXRoTGlzdFsxXSkge1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gXCJSZWFkaW5nIEEgRGF5IGluIHRoZSBMaWZlXCI7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IFwiUmVhZCBNYW5nYVwiLCB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gXCJCcm93c2luZyBtYW5nYVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN5c3RlbVwiOiB7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiUmVhZGluZyBhYm91dCB0aGUgZ2FtZXBsYXlcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0b3BpY3NcIjoge1xuICAgICAgICAgICAgYWN0aXZhdGVJbnRlcnNlY3Rpb25PYnNlcnZlcnMocGF0aExpc3QpO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIkJyb3dzaW5nIGFydGljbGVzXCI7XG4gICAgICAgICAgICBpZiAoZ2V0U2VjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJ0aWNsZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2dldFNlY3Rpb24oKX1gKTtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBgJHthcnRpY2xlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAudGV4dENvbnRlbnR9IC0gJHthcnRpY2xlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZGF0ZVwiKS50ZXh0Q29udGVudH1gO1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5sYXJnZUltYWdlS2V5ID1cbiAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmltZyA+IGltZ1wiKS5zcmM7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlJlYWQgQXJ0aWNsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtkb2N1bWVudC5sb2NhdGlvbi5ocmVmfSMke2dldFNlY3Rpb24oKX1gLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWJXRnBiaTVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYkltMWhhVzR1ZEhNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRXNUMEZCVHl4RlFVRkZMRFpDUVVFMlFpeEZRVUZGTEZWQlFWVXNSVUZCUlN4VFFVRlRMRVZCUVVVc1RVRkJUU3hUUVVGVExFTkJRVU03UVVGRkwwVXNUVUZCVFN4RFFVRkRMRTlCUVU4c1ZVRkJWU3h2UWtGQmIwSXNRMEZETTBNc1dVRkJNRUlzUlVGRE1VSXNVVUZCYTBJN1NVRkZiRUlzVVVGQlVTeFJRVUZSTEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVrc1JVRkJSU3hGUVVGRk8xRkJRekZDTEV0QlFVc3NSVUZCUlN4RFFVRkRMRU5CUVVNN1dVRkRVaXcyUWtGQk5rSXNRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJRenRaUVVONFF5eFJRVUZSTEZWQlFWVXNSVUZCUlN4RlFVRkZPMmRDUVVOeVFpeExRVUZMTEVWQlFVVXNRMEZCUXl4RFFVRkRPMjlDUVVOU0xGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NkMEpCUVhkQ0xFTkJRVU03YjBKQlEyaEVMRTFCUVUwN2FVSkJRMDQ3WjBKQlEwUXNTMEZCU3l4UFFVRlBMRU5CUVVNc1EwRkJRenR2UWtGRFlpeFpRVUZaTEVOQlFVTXNUMEZCVHl4SFFVRkhMR3RDUVVGclFpeERRVUZETzI5Q1FVTXhReXhaUVVGWkxFTkJRVU1zUzBGQlN5eEhRVUZITEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUXpGRExEaENRVUU0UWl4RFFVTTVRaXhEUVVGRExFZEJRVWNzUTBGQlF6dHZRa0ZEVGl4TlFVRk5PMmxDUVVOT08yZENRVU5FTEV0QlFVc3NUMEZCVHl4RFFVRkRMRU5CUVVNN2IwSkJRMklzVFVGQlRTeFJRVUZSTEVkQlFVY3NVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkRkRU1zZDBOQlFYZERMRU5CUTNoRExFTkJRVU1zVjBGQlZ5eERRVUZETzI5Q1FVTmtMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzYjBKQlFXOUNMRU5CUVVNN2IwSkJRelZETEZsQlFWa3NRMEZCUXl4TFFVRkxMRWRCUVVjc1VVRkJVU3hEUVVGRE8yOUNRVU01UWl4WlFVRlpMRU5CUVVNc1lVRkJZU3hIUVVGSExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlEyeEVMSGREUVVGM1F5eERRVU40UXl4RFFVRkRMRWRCUVVjc1EwRkJRenR2UWtGRFRpeFpRVUZaTEVOQlFVTXNZVUZCWVN4SFFVRkhMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRMnhFTEhkRFFVRjNReXhEUVVONFF5eERRVUZETEVkQlFVY3NRMEZCUXp0dlFrRkRUaXhaUVVGWkxFTkJRVU1zWTBGQll5eEhRVUZITEZGQlFWRXNRMEZCUXp0cFFrRkRka003WVVGRFJEdFpRVU5FTEUxQlFVMDdVMEZEVGp0UlFVTkVMRXRCUVVzc1YwRkJWeXhEUVVGRExFTkJRVU03V1VGRGFrSXNXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSeXd5UWtGQk1rSXNRMEZCUXp0WlFVTnVSQ3hOUVVGTk8xTkJRMDQ3VVVGRFJDeExRVUZMTEdWQlFXVXNRMEZCUXl4RFFVRkRPMWxCUTNKQ0xFMUJRVTBzVFVGQlRTeEhRVUZITzJkQ1FVTmtMRWRCUVVjc1VVRkJVU3hEUVVGRExHZENRVUZuUWl4RFFVTXpRaXcwUWtGQk5FSXNRMEZETlVJN1lVRkRSQ3hEUVVGRE8xbEJRMFlzUzBGQlN5eE5RVUZOTEV0QlFVc3NTVUZCU1N4TlFVRk5MRVZCUVVVN1owSkJRek5DTEUxQlFVMHNUMEZCVHl4SFFVRnBRaXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEVWQlFVVXNSVUZCUlN4WlFVRlpMRU5CUVVNc1EwRkJRenRuUWtGRE9VUXNUMEZCVHl4RFFVRkRMRTlCUVU4c1IwRkJSeXgzUWtGQmQwSXNRMEZCUXp0blFrRkRNME1zVDBGQlR5eERRVUZETEdGQlFXRXNSMEZCUnl4TFFVRkxMRU5CUVVNc1IwRkJSeXhEUVVGRE8yZENRVU5zUXl4VFFVRlRMRU5CUVVNc1VVRkJVU3hEUVVGRExFdEJRVXNzUTBGQlF5eFpRVUZaTEVOQlFVTXNTMEZCU3l4RFFVRkRMRVZCUVVVc1QwRkJUeXhGUVVGRkxFZEJRVWNzUTBGQlF5eERRVUZETzJGQlF6VkVPMWxCUTBRc1RVRkJUVHRUUVVOT08xRkJRMFFzUzBGQlN5eFBRVUZQTEVOQlFVTXNRMEZCUXp0WlFVTmlMRWxCUVVrc1VVRkJVU3hEUVVGRExFTkJRVU1zUTBGQlF5eEZRVUZGTzJkQ1FVTm9RaXhaUVVGWkxFTkJRVU1zVDBGQlR5eEhRVUZITERKQ1FVRXlRaXhEUVVGRE8yZENRVU51UkN4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSE8yOUNRVU4wUWl4RlFVRkZMRXRCUVVzc1JVRkJSU3haUVVGWkxFVkJRVVVzUjBGQlJ5eEZRVUZGTEZGQlFWRXNRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hGUVVGRk8ybENRVU53UkN4RFFVRkRPMkZCUTBZN08yZENRVUZOTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc1owSkJRV2RDTEVOQlFVTTdXVUZGTDBNc1RVRkJUVHRUUVVOT08xRkJRMFFzUzBGQlN5eFJRVUZSTEVOQlFVTXNRMEZCUXp0WlFVTmtMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzTkVKQlFUUkNMRU5CUVVNN1dVRkRjRVFzVFVGQlRUdFRRVU5PTzFGQlEwUXNTMEZCU3l4UlFVRlJMRU5CUVVNc1EwRkJRenRaUVVOa0xEWkNRVUUyUWl4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRE8xbEJRM2hETEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc2JVSkJRVzFDTEVOQlFVTTdXVUZETTBNc1NVRkJTU3hWUVVGVkxFVkJRVVVzUlVGQlJUdG5Ra0ZEYWtJc1RVRkJUU3huUWtGQlowSXNSMEZCUnl4UlFVRlJMRU5CUVVNc1lVRkJZU3hEUVVNNVF5eEpRVUZKTEZWQlFWVXNSVUZCUlN4RlFVRkZMRU5CUTJ4Q0xFTkJRVU03WjBKQlJVWXNXVUZCV1N4RFFVRkRMRXRCUVVzc1IwRkJSeXhIUVVOd1FpeG5Ra0ZCWjBJc1EwRkJReXhoUVVGaExFTkJRWFZDTEZWQlFWVXNRMEZCUXp0eFFrRkRPVVFzVjBGRFNDeE5RVU5ETEdkQ1FVRm5RaXhEUVVGRExHRkJRV0VzUTBGQmEwSXNUMEZCVHl4RFFVRkRMRU5CUVVNc1YwRkRNVVFzUlVGQlJTeERRVUZETzJkQ1FVTklMRmxCUVZrc1EwRkJReXhoUVVGaE8yOUNRVU42UWl4blFrRkJaMElzUTBGQlF5eGhRVUZoTEVOQlFXMUNMRmxCUVZrc1EwRkJReXhEUVVGRExFZEJRVWNzUTBGQlF6dG5Ra0ZEY0VVc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ6dHZRa0ZEZEVJN2QwSkJRME1zUzBGQlN5eEZRVUZGTEdOQlFXTTdkMEpCUTNKQ0xFZEJRVWNzUlVGQlJTeEhRVUZITEZGQlFWRXNRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hKUVVGSkxGVkJRVlVzUlVGQlJTeEZRVUZGTzNGQ1FVTm9SRHRwUWtGRFJDeERRVUZETzJGQlEwWTdXVUZEUkN4TlFVRk5PMU5CUTA0N1MwRkRSRHRCUVVOR0xFTkJRVU1pZlE9PSIsImltcG9ydCB7IHNsaWRlc2hvdywgc3F1YXJlSW1hZ2UgfSBmcm9tIFwiLi4vdXRpbFwiO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYXBwbHlDWUxEZXRhaWxzKHByZXNlbmNlRGF0YSwgcGF0aExpc3QpIHtcbiAgICBjb25zdCBjYW1wYWlnblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW1wYWlnbnMtdGl0bGVcIik/LnRleHRDb250ZW50ID8/XG4gICAgICAgIGRvY3VtZW50LnRpdGxlLm1hdGNoKC8oPzw9LVxccykuKz8oPz0kfFxccy0pLyk/LlswXSA/P1xuICAgICAgICBkb2N1bWVudC50aXRsZTtcbiAgICBwcmVzZW5jZURhdGEuYnV0dG9ucyA9IFtcbiAgICAgICAgeyBsYWJlbDogXCJWaWV3IENhbXBhaWduXCIsIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZiB9LFxuICAgIF07XG4gICAgc3dpdGNoIChwYXRoTGlzdFswXSA/PyBcIlwiKSB7XG4gICAgICAgIGNhc2UgXCJcIjoge1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBgVmlld2luZyAke2NhbXBhaWduVGl0bGV9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJhYm91dFwiOiB7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IGBSZWFkaW5nIGFib3V0ICR7Y2FtcGFpZ25UaXRsZX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm15cGFnZVwiOiB7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IGBWaWV3aW5nICR7Y2FtcGFpZ25UaXRsZX1gO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gXCJWaWV3aW5nIHRoZWlyIHZvdGVzXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmFuZG9tXCI6IHtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gYFZvdGluZyBmb3IgJHtjYW1wYWlnblRpdGxlfWA7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBcIkNob29zaW5nIGEgcmFuZG9tIGNoYXJhY3RlclwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJlc3VsdFwiOlxuICAgICAgICBjYXNlIFwicmVzdWx0LWRldGFpbFwiOlxuICAgICAgICBjYXNlIFwicmVzdWx0X2RldGFpbFwiOlxuICAgICAgICBjYXNlIFwicmVzdWx0c1wiOiB7XG4gICAgICAgICAgICBpZiAobmV3IFVSTFNlYXJjaFBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpLmdldChcIm92ZXJhbGxcIikgfHxcbiAgICAgICAgICAgICAgICBwYXRoTGlzdFswXS5pbmNsdWRlcyhcImRldGFpbFwiKSB8fFxuICAgICAgICAgICAgICAgIChwYXRoTGlzdFswXSA9PT0gXCJyZXN1bHRcIiAmJiBwYXRoTGlzdFsxXSkpXG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBgVmlld2luZyAke2NhbXBhaWduVGl0bGV9IHJlc3VsdHNgO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyRGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXN1bHQtc3BlY2lhbC1jaGFyYWN0ZXIgW2NsYXNzKj1yZXN1bHQtc3BlY2lhbC1jaGFyYWN0ZXItd3JhcF1cIiksXG4gICAgICAgICAgICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuSGVyb0l0ZW0uLWdvbGRlblwiKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXN1bHQtc3RhbmQtaGVyb2VzIC5oZXJvXCIpLFxuICAgICAgICAgICAgICAgIF0ubWFwKGFzeW5jICh3aW5uZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1haW5JbWFnZSA9ICh3aW5uZXIucXVlcnlTZWxlY3RvcihcIi5yZXN1bHQtc3RhbmQgPiBpbWdcIikgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbm5lci5xdWVyeVNlbGVjdG9yKFwiLmhlcm8taW1hZ2VcIikgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbm5lci5xdWVyeVNlbGVjdG9yKFwiLkhlcm9JdGVtX19JbWFnZVwiKSA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyLnF1ZXJ5U2VsZWN0b3IoXCJwID4gaW1nXCIpKT8uc3JjO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1haW5JbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkltYWdlID0gZ2V0Q29tcHV0ZWRTdHlsZSh3aW5uZXIucXVlcnlTZWxlY3RvcihcIltjbGFzcyo9cmVzdWx0LXN0YW5kXVwiKSk/LmJhY2tncm91bmRJbWFnZS5tYXRjaCgvdXJsXFwoW1wiJ10/KC4rPylbXCInXT9cXCkvKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgcmFua0ltYWdlID0gKHdpbm5lci5xdWVyeVNlbGVjdG9yKFwiLnN0YXIgPiBpbWdcIikgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbm5lci5xdWVyeVNlbGVjdG9yKFwiLmljb24tcmFua1wiKSA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyLnF1ZXJ5U2VsZWN0b3IoXCIuSGVyb0l0ZW1fX1JhbmtcIikpPy5zcmM7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmFua0ltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5rSW1hZ2UgPSBnZXRDb21wdXRlZFN0eWxlKHdpbm5lciwgXCI6OmFmdGVyXCIpLmJhY2tncm91bmRJbWFnZS5tYXRjaCgvdXJsXFwoWydcIl0/KC4rPylbJ1wiXT9cXCkvKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJlc2VuY2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFZpZXdpbmcgd2lubmVycyBvZiAke2NhbXBhaWduVGl0bGV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBgJHt3aW5uZXIucXVlcnlTZWxlY3RvcihcIi5oZXJvLXJlc3VsdC1oZXJvLW5hbWUsIC5oZXJvLW5hbWUsIC5IZXJvSXRlbV9fTmFtZVwiKS50ZXh0Q29udGVudH0gLSAke3dpbm5lci5xdWVyeVNlbGVjdG9yKFwiLmhlcm8tcmVzdWx0LXNlcmllcy1uYW1lLCAuc2VyaWVzLW5hbWUsIC5IZXJvSXRlbV9fU2VyaWVzTmFtZVwiKS50ZXh0Q29udGVudH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFyZ2VJbWFnZUtleTogYXdhaXQgc3F1YXJlSW1hZ2UobWFpbkltYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsSW1hZ2VLZXk6IHJhbmtJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsSW1hZ2VUZXh0OiBgJHt3aW5uZXIucXVlcnlTZWxlY3RvcihcIi5oZXJvLXJlc3VsdC12b3RlLWNvdW50LCAuSGVyb0l0ZW1fX1ZvdGVDb3VudCwgLnZvdGUtY291bnRcIikudGV4dENvbnRlbnR9IHZvdGVzYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFt7IGxhYmVsOiBcIlZpZXcgUmVzdWx0c1wiLCB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgfV0sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ksIHdpbm5lckRhdHVtXSBvZiB3aW5uZXJEYXRhLmVudHJpZXMoKSlcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzaG93LmFkZFNsaWRlKGAke2l9YCwgd2lubmVyRGF0dW0sIDVlMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic2VyaWVzXCI6IHtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gYFZvdGluZyBmb3IgJHtjYW1wYWlnblRpdGxlfWA7XG4gICAgICAgICAgICBpZiAocGF0aExpc3RbMV0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aExpc3RbcGF0aExpc3QubGVuZ3RoIC0gMV0gPT09IFwiaGVyb2VzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzVGl0bGUgPSBkb2N1bWVudC50aXRsZS5zcGxpdChcIjpcIilbMV0/LnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gc2VyaWVzVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYFNlbGVjdGluZyBhIGNoYXJhY3RlciBmcm9tICR7c2VyaWVzVGl0bGV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlNlbGVjdGluZyBhIGNoYXJhY3RlciBmcm9tIGEgc2VyaWVzXCI7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogXCJWaWV3IFNlcmllc1wiLCB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3Rlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlcm8tdm90ZS1uYW1lXCIpPy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gY2hhcmFjdGVyTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgVm90aW5nIGZvciAke2NoYXJhY3Rlck5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlZvdGluZyBmb3IgYSBjaGFyYWN0ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiBcIlZvdGUgQ2hhcmFjdGVyXCIsIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBcIlNlbGVjdGluZyBhIHNlcmllc1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lZM2xzTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhNaU9sc2lZM2xzTG5SeklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFVRkJMRTlCUVU4c1JVRkJSU3hUUVVGVExFVkJRVVVzVjBGQlZ5eEZRVUZGTEUxQlFVMHNVMEZCVXl4RFFVRkRPMEZCUldwRUxFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNTMEZCU3l4VlFVRlZMR1ZCUVdVc1EwRkROVU1zV1VGQk1FSXNSVUZETVVJc1VVRkJhMEk3U1VGRmJFSXNUVUZCVFN4aFFVRmhMRWRCUTJ4Q0xGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFXbENMR3RDUVVGclFpeERRVUZETEVWQlFVVXNWMEZCVnp0UlFVTjJSU3hSUVVGUkxFTkJRVU1zUzBGQlN5eERRVUZETEV0QlFVc3NRMEZCUXl4elFrRkJjMElzUTBGQlF5eEZRVUZGTEVOQlFVTXNRMEZCUXl4RFFVRkRPMUZCUTJwRUxGRkJRVkVzUTBGQlF5eExRVUZMTEVOQlFVTTdTVUZEYUVJc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ6dFJRVU4wUWl4RlFVRkZMRXRCUVVzc1JVRkJSU3hsUVVGbExFVkJRVVVzUjBGQlJ5eEZRVUZGTEZGQlFWRXNRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hGUVVGRk8wdEJRM1pFTEVOQlFVTTdTVUZEUml4UlFVRlJMRkZCUVZFc1EwRkJReXhEUVVGRExFTkJRVU1zU1VGQlNTeEZRVUZGTEVWQlFVVTdVVUZETVVJc1MwRkJTeXhGUVVGRkxFTkJRVU1zUTBGQlF6dFpRVU5TTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc1YwRkJWeXhoUVVGaExFVkJRVVVzUTBGQlF6dFpRVU5zUkN4TlFVRk5PMU5CUTA0N1VVRkRSQ3hMUVVGTExFOUJRVThzUTBGQlF5eERRVUZETzFsQlEySXNXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhwUWtGQmFVSXNZVUZCWVN4RlFVRkZMRU5CUVVNN1dVRkRlRVFzVFVGQlRUdFRRVU5PTzFGQlEwUXNTMEZCU3l4UlFVRlJMRU5CUVVNc1EwRkJRenRaUVVOa0xGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NWMEZCVnl4aFFVRmhMRVZCUVVVc1EwRkJRenRaUVVOc1JDeFpRVUZaTEVOQlFVTXNTMEZCU3l4SFFVRkhMSEZDUVVGeFFpeERRVUZETzFsQlF6TkRMRTFCUVUwN1UwRkRUanRSUVVORUxFdEJRVXNzVVVGQlVTeERRVUZETEVOQlFVTTdXVUZEWkN4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExHTkJRV01zWVVGQllTeEZRVUZGTEVOQlFVTTdXVUZEY2tRc1dVRkJXU3hEUVVGRExFdEJRVXNzUjBGQlJ5dzJRa0ZCTmtJc1EwRkJRenRaUVVOdVJDeE5RVUZOTzFOQlEwNDdVVUZEUkN4TFFVRkxMRkZCUVZFc1EwRkJRenRSUVVOa0xFdEJRVXNzWlVGQlpTeERRVUZETzFGQlEzSkNMRXRCUVVzc1pVRkJaU3hEUVVGRE8xRkJRM0pDTEV0QlFVc3NVMEZCVXl4RFFVRkRMRU5CUVVNN1dVRkRaaXhKUVVORExFbEJRVWtzWlVGQlpTeERRVUZETEZGQlFWRXNRMEZCUXl4UlFVRlJMRU5CUVVNc1RVRkJUU3hEUVVGRExFTkJRVU1zUjBGQlJ5eERRVUZETEZOQlFWTXNRMEZCUXp0blFrRkROVVFzVVVGQlVTeERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRkZCUVZFc1EwRkJReXhSUVVGUkxFTkJRVU03WjBKQlF6bENMRU5CUVVNc1VVRkJVU3hEUVVGRExFTkJRVU1zUTBGQlF5eExRVUZMTEZGQlFWRXNTVUZCU1N4UlFVRlJMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03WjBKQlJYcERMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzVjBGQlZ5eGhRVUZoTEZWQlFWVXNRMEZCUXp0cFFrRkRkRVE3WjBKQlNVb3NUVUZCVFN4VlFVRlZMRWRCUVVjc1RVRkJUU3hQUVVGUExFTkJRVU1zUjBGQlJ5eERRVU51UXp0dlFrRkRReXhIUVVGSExGRkJRVkVzUTBGQlF5eG5Ra0ZCWjBJc1EwRkRNMElzYTBWQlFXdEZMRU5CUTJ4Rk8yOUNRVU5FTEVkQlFVY3NVVUZCVVN4RFFVRkRMR2RDUVVGblFpeERRVUZwUWl4dFFrRkJiVUlzUTBGQlF6dHZRa0ZEYWtVc1IwRkJSeXhSUVVGUkxFTkJRVU1zWjBKQlFXZENMRU5CUXpOQ0xEUkNRVUUwUWl4RFFVTTFRanRwUWtGRFJDeERRVUZETEVkQlFVY3NRMEZCZDBJc1MwRkJTeXhGUVVGRExFMUJRVTBzUlVGQlF5eEZRVUZGTzI5Q1FVTXpReXhKUVVGSkxGTkJRVk1zUjBGQlJ5eERRVU5tTEUxQlFVMHNRMEZCUXl4aFFVRmhMRU5CUVcxQ0xIRkNRVUZ4UWl4RFFVRkRPM2RDUVVNM1JDeE5RVUZOTEVOQlFVTXNZVUZCWVN4RFFVRnRRaXhoUVVGaExFTkJRVU03ZDBKQlEzSkVMRTFCUVUwc1EwRkJReXhoUVVGaExFTkJRVzFDTEd0Q1FVRnJRaXhEUVVGRE8zZENRVU14UkN4TlFVRk5MRU5CUVVNc1lVRkJZU3hEUVVGdFFpeFRRVUZUTEVOQlFVTXNRMEZEYWtRc1JVRkJSU3hIUVVGSExFTkJRVU03YjBKQlExQXNTVUZCU1N4RFFVRkRMRk5CUVZNc1JVRkJSVHQzUWtGRFppeFRRVUZUTEVkQlFVY3NaMEpCUVdkQ0xFTkJRek5DTEUxQlFVMHNRMEZCUXl4aFFVRmhMRU5CUTI1Q0xIVkNRVUYxUWl4RFFVTjJRaXhEUVVORUxFVkJRVVVzWlVGQlpTeERRVUZETEV0QlFVc3NRMEZCUXl4M1FrRkJkMElzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPM0ZDUVVOMFJEdHZRa0ZEUkN4SlFVRkpMRk5CUVZNc1IwRkJSeXhEUVVObUxFMUJRVTBzUTBGQlF5eGhRVUZoTEVOQlFXMUNMR0ZCUVdFc1EwRkJRenQzUWtGRGNrUXNUVUZCVFN4RFFVRkRMR0ZCUVdFc1EwRkJiVUlzV1VGQldTeERRVUZETzNkQ1FVTndSQ3hOUVVGTkxFTkJRVU1zWVVGQllTeERRVUZ0UWl4cFFrRkJhVUlzUTBGQlF5eERRVU42UkN4RlFVRkZMRWRCUVVjc1EwRkJRenR2UWtGRFVDeEpRVUZKTEVOQlFVTXNVMEZCVXl4RlFVRkZPM2RDUVVObUxGTkJRVk1zUjBGQlJ5eG5Ra0ZCWjBJc1EwRkRNMElzVFVGQlRTeEZRVU5PTEZOQlFWTXNRMEZEVkN4RFFVRkRMR1ZCUVdVc1EwRkJReXhMUVVGTExFTkJRVU1zZDBKQlFYZENMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dHhRa0ZEY2tRN2IwSkJRMFFzVDBGQlR6dDNRa0ZEVGl4SFFVRkhMRmxCUVZrN2QwSkJRMllzVDBGQlR5eEZRVUZGTEhOQ1FVRnpRaXhoUVVGaExFVkJRVVU3ZDBKQlF6bERMRXRCUVVzc1JVRkJSU3hIUVVOT0xFMUJRVTBzUTBGQlF5eGhRVUZoTEVOQlEyNUNMSEZFUVVGeFJDeERRVU55UkN4RFFVRkRMRmRCUTBnc1RVRkRReXhOUVVGTkxFTkJRVU1zWVVGQllTeERRVU51UWl3clJFRkJLMFFzUTBGREwwUXNRMEZCUXl4WFFVTklMRVZCUVVVN2QwSkJRMFlzWVVGQllTeEZRVUZGTEUxQlFVMHNWMEZCVnl4RFFVRkRMRk5CUVZNc1EwRkJRenQzUWtGRE0wTXNZVUZCWVN4RlFVRkZMRk5CUVZNN2QwSkJRM2hDTEdOQlFXTXNSVUZCUlN4SFFVTm1MRTFCUVUwc1EwRkJReXhoUVVGaExFTkJRMjVDTERSRVFVRTBSQ3hEUVVNMVJDeERRVUZETEZkQlEwZ3NVVUZCVVR0M1FrRkRVaXhQUVVGUExFVkJRVVVzUTBGQlF5eEZRVUZGTEV0QlFVc3NSVUZCUlN4alFVRmpMRVZCUVVVc1IwRkJSeXhGUVVGRkxGRkJRVkVzUTBGQlF5eFJRVUZSTEVOQlFVTXNTVUZCU1N4RlFVRkZMRU5CUVVNN2NVSkJRMnBGTEVOQlFVTTdaMEpCUTBnc1EwRkJReXhEUVVGRExFTkJRMFlzUTBGQlF6dG5Ra0ZEUml4TFFVRkxMRTFCUVUwc1EwRkJReXhEUVVGRExFVkJRVVVzVjBGQlZ5eERRVUZETEVsQlFVa3NWVUZCVlN4RFFVRkRMRTlCUVU4c1JVRkJSVHR2UWtGRGJFUXNVMEZCVXl4RFFVRkRMRkZCUVZFc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGQlJTeEZRVUZGTEZkQlFWY3NSVUZCUlN4SFFVRkhMRU5CUVVNc1EwRkJRenRoUVVNNVF6dFpRVU5FTEUxQlFVMDdVMEZEVGp0UlFVTkVMRXRCUVVzc1VVRkJVU3hEUVVGRExFTkJRVU03V1VGRFpDeFpRVUZaTEVOQlFVTXNUMEZCVHl4SFFVRkhMR05CUVdNc1lVRkJZU3hGUVVGRkxFTkJRVU03V1VGRGNrUXNTVUZCU1N4UlFVRlJMRU5CUVVNc1EwRkJReXhEUVVGRExFVkJRVVU3WjBKQlEyaENMRWxCUVVrc1VVRkJVU3hEUVVGRExGRkJRVkVzUTBGQlF5eE5RVUZOTEVkQlFVY3NRMEZCUXl4RFFVRkRMRXRCUVVzc1VVRkJVU3hGUVVGRk8yOUNRVU12UXl4TlFVRk5MRmRCUVZjc1IwRkJSeXhSUVVGUkxFTkJRVU1zUzBGQlN5eERRVUZETEV0QlFVc3NRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJTeEpRVUZKTEVWQlFVVXNRMEZCUXp0dlFrRkRla1FzV1VGQldTeERRVUZETEV0QlFVc3NSMEZCUnl4WFFVRlhPM2RDUVVNdlFpeERRVUZETEVOQlFVTXNPRUpCUVRoQ0xGZEJRVmNzUlVGQlJUdDNRa0ZETjBNc1EwRkJReXhEUVVGRExIRkRRVUZ4UXl4RFFVRkRPMjlDUVVONlF5eFpRVUZaTEVOQlFVTXNUMEZCVHl4SFFVRkhPM2RDUVVOMFFpeEZRVUZGTEV0QlFVc3NSVUZCUlN4aFFVRmhMRVZCUVVVc1IwRkJSeXhGUVVGRkxGRkJRVkVzUTBGQlF5eFJRVUZSTEVOQlFVTXNTVUZCU1N4RlFVRkZPM0ZDUVVOeVJDeERRVUZETzJsQ1FVTkdPM0ZDUVVGTk8yOUNRVU5PTEUxQlFVMHNZVUZCWVN4SFFVTnNRaXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVU55UWl4cFFrRkJhVUlzUTBGRGFrSXNSVUZCUlN4WFFVRlhMRU5CUVVNN2IwSkJRMmhDTEZsQlFWa3NRMEZCUXl4TFFVRkxMRWRCUVVjc1lVRkJZVHQzUWtGRGFrTXNRMEZCUXl4RFFVRkRMR05CUVdNc1lVRkJZU3hGUVVGRk8zZENRVU12UWl4RFFVRkRMRU5CUVVNc2QwSkJRWGRDTEVOQlFVTTdiMEpCUXpWQ0xGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVYzdkMEpCUTNSQ0xFVkJRVVVzUzBGQlN5eEZRVUZGTEdkQ1FVRm5RaXhGUVVGRkxFZEJRVWNzUlVGQlJTeFJRVUZSTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1JVRkJSVHR4UWtGRGVFUXNRMEZCUXp0cFFrRkRSanRoUVVORU96dG5Ra0ZCVFN4WlFVRlpMRU5CUVVNc1MwRkJTeXhIUVVGSExHOUNRVUZ2UWl4RFFVRkRPMWxCUTJwRUxFMUJRVTA3VTBGRFRqdExRVU5FTzBGQlEwWXNRMEZCUXlKOSIsImltcG9ydCB7IHRydW5jYXRlVGV4dCB9IGZyb20gXCIuLi91dGlsXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseUZlaFBhc3NEZXRhaWxzKHByZXNlbmNlRGF0YSwgcGF0aExpc3QpIHtcbiAgICBzd2l0Y2ggKHBhdGhMaXN0WzBdID8/IFwiXCIpIHtcbiAgICAgICAgY2FzZSBcIlwiOiB7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiQnJvd3NpbmcgRkVIIFBhc3NcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmYXFcIjoge1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIlJlYWRpbmcgRkVIIFBhc3MgRkFRXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidGFsa1wiOiB7XG4gICAgICAgICAgICBpZiAocGF0aExpc3RbMV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZXh0LmFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiUmVhZGluZyBGRUggUGFzcyBUYWxrXCI7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFyYV9uYW1lLmFuaW1lXCIpLnRleHRDb250ZW50fTogJHtbLi4uYWN0aXZlVGV4dC5jbGFzc0xpc3RdLmZpbmQoYyA9PiAvXFxkJC8udGVzdChjKSkubWF0Y2goL1xcZCsvKVswXX0gLyAke1tcbiAgICAgICAgICAgICAgICAgICAgLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZXh0Omxhc3Qtb2YtdHlwZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzTGlzdCxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKGMgPT4gL1xcZCQvLnRlc3QoYykpXG4gICAgICAgICAgICAgICAgICAgIC5tYXRjaCgvXFxkKy8pWzBdfWA7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VLZXkgPSBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvcmVzb3VyY2VzL3F1ZXN0aW9uLnBuZ1wiO1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlVGV4dCA9IHRydW5jYXRlVGV4dChhY3RpdmVUZXh0LnRleHRDb250ZW50KTtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuYnV0dG9ucyA9IFtcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogXCJWaWV3IFRhbGtcIiwgdXJsOiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiQnJvd3NpbmcgRkVIIFBhc3MgVGFsa1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIlZpZXdpbmcgYSBSZXNwbGVuZGVudCBIZXJvXCI7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoYXJhX25hbWVcIikudGV4dENvbnRlbnR9OiAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hhcmFfY2F0Y2hcIikudGV4dENvbnRlbnR9YDtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5sYXJnZUltYWdlS2V5ID1cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoYXJhX2ljb24gPiBpbWdcIikuc3JjO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VLZXkgPVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWluaV9pbWcgPiBpbWdcIikuc3JjO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VUZXh0ID0gdHJ1bmNhdGVUZXh0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hhcmFfd3JhcCA+IHA6bGFzdC1jaGlsZFwiKS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuYnV0dG9ucyA9IFtcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiBcIlZpZXcgSGVyb1wiLCB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2labVZvY0dGemN5NXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpJanBiSW1abGFIQmhjM011ZEhNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRXNUMEZCVHl4RlFVRkZMRmxCUVZrc1JVRkJSU3hOUVVGTkxGTkJRVk1zUTBGQlF6dEJRVVYyUXl4TlFVRk5MRU5CUVVNc1QwRkJUeXhWUVVGVkxHMUNRVUZ0UWl4RFFVTXhReXhaUVVFd1FpeEZRVU14UWl4UlFVRnJRanRKUVVWc1FpeFJRVUZSTEZGQlFWRXNRMEZCUXl4RFFVRkRMRU5CUVVNc1NVRkJTU3hGUVVGRkxFVkJRVVU3VVVGRE1VSXNTMEZCU3l4RlFVRkZMRU5CUVVNc1EwRkJRenRaUVVOU0xGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NiVUpCUVcxQ0xFTkJRVU03V1VGRE0wTXNUVUZCVFR0VFFVTk9PMUZCUTBRc1MwRkJTeXhMUVVGTExFTkJRVU1zUTBGQlF6dFpRVU5ZTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc2MwSkJRWE5DTEVOQlFVTTdXVUZET1VNc1RVRkJUVHRUUVVOT08xRkJRMFFzUzBGQlN5eE5RVUZOTEVOQlFVTXNRMEZCUXp0WlFVTmFMRWxCUVVrc1VVRkJVU3hEUVVGRExFTkJRVU1zUTBGQlF5eEZRVUZGTzJkQ1FVTm9RaXhOUVVGTkxGVkJRVlVzUjBGRFppeFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRm5RaXhqUVVGakxFTkJRVU1zUTBGQlF6dG5Ra0ZEZGtRc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ5eDFRa0ZCZFVJc1EwRkJRenRuUWtGREwwTXNXVUZCV1N4RFFVRkRMRXRCUVVzc1IwRkJSeXhIUVVOd1FpeFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRm5RaXh0UWtGQmJVSXNRMEZCUXl4RFFVRkRMRmRCUXpWRUxFdEJRME1zUTBGQlF5eEhRVUZITEZWQlFWVXNRMEZCUXl4VFFVRlRMRU5CUVVNc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF5eERRVUZETEVWQlFVVXNRMEZCUXl4TFFVRkxMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNTMEZCU3l4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGRGJFVXNUVUZEUXp0dlFrRkRReXhIUVVGSExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFXZENMRzlDUVVGdlFpeERRVUZETzNsQ1FVTTFSQ3hUUVVGVE8ybENRVU5ZTzNGQ1FVTkRMRWxCUVVrc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEV0QlFVc3NRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03Y1VKQlEzaENMRXRCUVVzc1EwRkJReXhMUVVGTExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlEycENMRVZCUVVVc1EwRkJRenRuUWtGRFNDeFpRVUZaTEVOQlFVTXNZVUZCWVN4eFJFRkJhMElzUTBGQlF6dG5Ra0ZETjBNc1dVRkJXU3hEUVVGRExHTkJRV01zUjBGQlJ5eFpRVUZaTEVOQlFVTXNWVUZCVlN4RFFVRkRMRmRCUVZjc1EwRkJReXhEUVVGRE8yZENRVU51UlN4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSE8yOUNRVU4wUWl4RlFVRkZMRXRCUVVzc1JVRkJSU3hYUVVGWExFVkJRVVVzUjBGQlJ5eEZRVUZGTEZGQlFWRXNRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hGUVVGRk8ybENRVU51UkN4RFFVRkRPMkZCUTBZN08yZENRVUZOTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc2QwSkJRWGRDTEVOQlFVTTdXVUZEZGtRc1RVRkJUVHRUUVVOT08xRkJRMFFzVDBGQlR5eERRVUZETEVOQlFVTTdXVUZEVWl4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExEUkNRVUUwUWl4RFFVRkRPMWxCUTNCRUxGbEJRVmtzUTBGQlF5eExRVUZMTEVkQlFVY3NSMEZEY0VJc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGQmRVSXNZVUZCWVN4RFFVRkRMRU5CUVVNc1YwRkROMFFzUzBGRFF5eFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRjFRaXhqUVVGakxFTkJRVU1zUTBGQlF5eFhRVU01UkN4RlFVRkZMRU5CUVVNN1dVRkRTQ3haUVVGWkxFTkJRVU1zWVVGQllUdG5Ra0ZEZWtJc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGQmJVSXNiVUpCUVcxQ0xFTkJRVU1zUTBGQlF5eEhRVUZITEVOQlFVTTdXVUZEYmtVc1dVRkJXU3hEUVVGRExHRkJRV0U3WjBKQlEzcENMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRVzFDTEdsQ1FVRnBRaXhEUVVGRExFTkJRVU1zUjBGQlJ5eERRVUZETzFsQlEycEZMRmxCUVZrc1EwRkJReXhqUVVGakxFZEJRVWNzV1VGQldTeERRVU42UXl4UlFVRlJMRU5CUVVNc1lVRkJZU3hEUVVGRExEUkNRVUUwUWl4RFFVRkRMRU5CUVVNc1YwRkJWeXhEUVVOb1JTeERRVUZETzFsQlEwWXNXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSenRuUWtGRGRFSXNSVUZCUlN4TFFVRkxMRVZCUVVVc1YwRkJWeXhGUVVGRkxFZEJRVWNzUlVGQlJTeFJRVUZSTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1JVRkJSVHRoUVVOdVJDeERRVUZETzFOQlEwWTdTMEZEUkR0QlFVTkdMRU5CUVVNaWZRPT0iLCJpbXBvcnQgeyBzbGlkZXNob3csIHRydW5jYXRlVGV4dCB9IGZyb20gXCIuLi91dGlsXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseUd1aWRlRGV0YWlscyhwcmVzZW5jZURhdGEsIHBhdGhMaXN0KSB7XG4gICAgc3dpdGNoIChwYXRoTGlzdFswXSA/PyBcIlwiKSB7XG4gICAgICAgIGNhc2UgXCJcIjoge1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIkJyb3dzaW5nIHRoZSBHdWlkZVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImNhdGVnb3J5XCI6IHtcbiAgICAgICAgICAgIGlmIChwYXRoTGlzdFsxXSA9PT0gXCJjaGFyYWN0ZXJcIikge1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gXCJCcm93c2luZyB0aGUgR3VpZGU6IENoYXJhY3RlciBMaXN0XCI7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID1cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RfY2hhcmFjdGVyXCIpLnNlbGVjdGVkT3B0aW9uc1swXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGhMaXN0WzFdID09PSBcImNvbWViYWNrXCIpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhdGhMaXN0WzJdID8/IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiQnJvd3NpbmcgdGhlIEd1aWRlOiBSZXR1cm5lciBUaXBzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZWxlbWVudGFyeVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJtZWRpYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhZHZhbmNlZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiQnJvd3NpbmcgdGhlIEd1aWRlOiBBZHZhbmNlZCBUcmFpbmluZyBUaXBzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IGBCcm93c2luZyB0aGUgR3VpZGU6ICR7cGF0aExpc3RbMl1bMF0udG9VcHBlckNhc2UoKX0ke3BhdGhMaXN0WzJdLnNsaWNlKDEpfSBUcmFpbmluZyBUaXBzYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ3ZWFwb25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIkJyb3dzaW5nIHRoZSBHdWlkZTogTGlzdCBvZiBXZWFwb25zXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0X3dlYXBvblwiKS5zZWxlY3RlZE9wdGlvbnNbMF0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWNfZ2lmID4gaW1nXCIpLnNyYywgY2hhcmFjdGVyRGVzY3JpcHRpb25zID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkbCBkdFwiKV0ubWFwKGR0ID0+ICh7XG4gICAgICAgICAgICAgICAgdGV4dDogZHQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgaW1hZ2U6IGR0Lm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpLnNyYyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gYFJlYWRpbmcgYWJvdXQgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlY19jaGFyYW5hbWVcIikudGV4dENvbnRlbnR9OiAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VjX2NoYXJhbmlja1wiKVxuICAgICAgICAgICAgICAgIC50ZXh0Q29udGVudH1gO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmxhcmdlSW1hZ2VLZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWNrLXNsaWRlLnNsaWNrLWN1cnJlbnQgaW1nXCIpLnNyYztcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5ID0gY2hhcmFjdGVySW1hZ2U7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuYnV0dG9ucyA9IFtcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiBcIlZpZXcgQ2hhcmFjdGVyXCIsIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZiB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHNsaWRlc2hvdy5hZGRTbGlkZShjaGFyYWN0ZXJJbWFnZSwgcHJlc2VuY2VEYXRhLCA1ZTMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBkZXNjcmlwdGlvbiBvZiBjaGFyYWN0ZXJEZXNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0bXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgcHJlc2VuY2VEYXRhKTtcbiAgICAgICAgICAgICAgICB0bXBEYXRhLnNtYWxsSW1hZ2VUZXh0ID0gdHJ1bmNhdGVUZXh0KGRlc2NyaXB0aW9uLnRleHQpO1xuICAgICAgICAgICAgICAgIHRtcERhdGEuc21hbGxJbWFnZUtleSA9IGRlc2NyaXB0aW9uLmltYWdlO1xuICAgICAgICAgICAgICAgIHNsaWRlc2hvdy5hZGRTbGlkZShkZXNjcmlwdGlvbi5pbWFnZSwgdG1wRGF0YSwgNWUzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVozVnBaR1V1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5Sm5kV2xrWlM1MGN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hQUVVGUExFVkJRVVVzVTBGQlV5eEZRVUZGTEZsQlFWa3NSVUZCUlN4TlFVRk5MRk5CUVZNc1EwRkJRenRCUVVWc1JDeE5RVUZOTEVOQlFVTXNUMEZCVHl4VlFVRlZMR2xDUVVGcFFpeERRVU40UXl4WlFVRXdRaXhGUVVNeFFpeFJRVUZyUWp0SlFVVnNRaXhSUVVGUkxGRkJRVkVzUTBGQlF5eERRVUZETEVOQlFVTXNTVUZCU1N4RlFVRkZMRVZCUVVVN1VVRkRNVUlzUzBGQlN5eEZRVUZGTEVOQlFVTXNRMEZCUXp0WlFVTlNMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzYjBKQlFXOUNMRU5CUVVNN1dVRkROVU1zVFVGQlRUdFRRVU5PTzFGQlEwUXNTMEZCU3l4VlFVRlZMRU5CUVVNc1EwRkJRenRaUVVOb1FpeEpRVUZKTEZGQlFWRXNRMEZCUXl4RFFVRkRMRU5CUVVNc1MwRkJTeXhYUVVGWExFVkJRVVU3WjBKQlEyaERMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzYjBOQlFXOURMRU5CUVVNN1owSkJRelZFTEZsQlFWa3NRMEZCUXl4TFFVRkxPMjlDUVVOcVFpeFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVTnlRaXh0UWtGQmJVSXNRMEZEYmtJc1EwRkJReXhsUVVGbExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNWMEZCVnl4RFFVRkRPMkZCUTJ4RE8ybENRVUZOTEVsQlFVa3NVVUZCVVN4RFFVRkRMRU5CUVVNc1EwRkJReXhMUVVGTExGVkJRVlVzUlVGQlJUdG5Ra0ZEZEVNc1VVRkJVU3hSUVVGUkxFTkJRVU1zUTBGQlF5eERRVUZETEVsQlFVa3NSVUZCUlN4RlFVRkZPMjlDUVVNeFFpeExRVUZMTEVWQlFVVXNRMEZCUXl4RFFVRkRPM2RDUVVOU0xGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NiVU5CUVcxRExFTkJRVU03ZDBKQlF6TkVMRTFCUVUwN2NVSkJRMDQ3YjBKQlEwUXNTMEZCU3l4WlFVRlpMRU5CUVVNN2IwSkJRMnhDTEV0QlFVc3NZMEZCWXl4RFFVRkRPMjlDUVVOd1FpeExRVUZMTEZWQlFWVXNRMEZCUXl4RFFVRkRPM2RDUVVOb1FpeFpRVUZaTEVOQlFVTXNUMEZCVHl4SFFVRkhMRFJEUVVFMFF5eERRVUZETzNkQ1FVTndSU3haUVVGWkxFTkJRVU1zVDBGQlR5eEhRVUZITEhWQ1FVRjFRaXhSUVVGUkxFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1YwRkJWeXhGUVVGRkxFZEJRVWNzVVVGQlVTeERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRXRCUVVzc1EwRkROMFlzUTBGQlF5eERRVU5FTEdkQ1FVRm5RaXhEUVVGRE8zZENRVU5zUWl4TlFVRk5PM0ZDUVVOT08yOUNRVU5FTEV0QlFVc3NVVUZCVVN4RFFVRkRMRU5CUVVNN2QwSkJRMlFzV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnl4eFEwRkJjVU1zUTBGQlF6dDNRa0ZETjBRc1dVRkJXU3hEUVVGRExFdEJRVXM3TkVKQlEycENMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRM0pDTEdkQ1FVRm5RaXhEUVVOb1FpeERRVUZETEdWQlFXVXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhYUVVGWExFTkJRVU03ZDBKQlEyeERMRTFCUVUwN2NVSkJRMDQ3YVVKQlEwUTdZVUZEUkR0WlFVTkVMRTFCUVUwN1UwRkRUanRSUVVORUxFOUJRVThzUTBGQlF5eERRVUZETzFsQlExSXNUVUZCVFN4alFVRmpMRWRCUTJ4Q0xGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFXMUNMR2RDUVVGblFpeERRVUZETEVOQlFVTXNSMEZCUnl4RlFVTXZSQ3h4UWtGQmNVSXNSMEZCUnl4RFFVRkRMRWRCUVVjc1VVRkJVU3hEUVVGRExHZENRVUZuUWl4RFFVRkRMRTlCUVU4c1EwRkJReXhEUVVGRExFTkJRVU1zUjBGQlJ5eERRVU5zUlN4RlFVRkZMRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU03WjBKQlEwNHNTVUZCU1N4RlFVRkZMRVZCUVVVc1EwRkJReXhYUVVGWE8yZENRVU53UWl4TFFVRkxMRVZCUVVVc1JVRkJSU3hEUVVGRExHdENRVUZyUWl4RFFVRkRMR0ZCUVdFc1EwRkJReXhMUVVGTExFTkJRVU1zUTBGQlF5eEhRVUZITzJGQlEzSkVMRU5CUVVNc1EwRkRSaXhEUVVGRE8xbEJRMGdzV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnl4cFFrRkRkRUlzVVVGQlVTeERRVUZETEdGQlFXRXNRMEZCY1VJc1owSkJRV2RDTEVOQlFVTXNRMEZCUXl4WFFVTTVSQ3hMUVVORExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFYVkNMR2RDUVVGblFpeERRVUZETzJsQ1FVTTFSQ3hYUVVOSUxFVkJRVVVzUTBGQlF6dFpRVU5JTEZsQlFWa3NRMEZCUXl4aFFVRmhMRWRCUVVjc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGRGJFUXNaME5CUVdkRExFTkJRMmhETEVOQlFVTXNSMEZCUnl4RFFVRkRPMWxCUTA0c1dVRkJXU3hEUVVGRExHRkJRV0VzUjBGQlJ5eGpRVUZqTEVOQlFVTTdXVUZETlVNc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ6dG5Ra0ZEZEVJc1JVRkJSU3hMUVVGTExFVkJRVVVzWjBKQlFXZENMRVZCUVVVc1IwRkJSeXhGUVVGRkxGRkJRVkVzUTBGQlF5eFJRVUZSTEVOQlFVTXNTVUZCU1N4RlFVRkZPMkZCUTNoRUxFTkJRVU03V1VGRFJpeFRRVUZUTEVOQlFVTXNVVUZCVVN4RFFVRkRMR05CUVdNc1JVRkJSU3haUVVGWkxFVkJRVVVzUjBGQlJ5eERRVUZETEVOQlFVTTdXVUZEZEVRc1MwRkJTeXhOUVVGTkxGZEJRVmNzU1VGQlNTeHhRa0ZCY1VJc1JVRkJSVHRuUWtGRGFFUXNUVUZCVFN4UFFVRlBMRWRCUVdsQ0xFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNSVUZCUlN4RlFVRkZMRmxCUVZrc1EwRkJReXhEUVVGRE8yZENRVU01UkN4UFFVRlBMRU5CUVVNc1kwRkJZeXhIUVVGSExGbEJRVmtzUTBGQlF5eFhRVUZYTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1owSkJRM2hFTEU5QlFVOHNRMEZCUXl4aFFVRmhMRWRCUVVjc1YwRkJWeXhEUVVGRExFdEJRVXNzUTBGQlF6dG5Ra0ZETVVNc1UwRkJVeXhEUVVGRExGRkJRVkVzUTBGQlF5eFhRVUZYTEVOQlFVTXNTMEZCU3l4RlFVRkZMRTlCUVU4c1JVRkJSU3hIUVVGSExFTkJRVU1zUTBGQlF6dGhRVU53UkR0VFFVTkVPMHRCUTBRN1FVRkRSaXhEUVVGREluMD0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseU5ld0d1aWRlRGV0YWlscyhwcmVzZW5jZURhdGEpIHtcbiAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiQnJvd3NpbmcgdGhlIEd1aWRlXCI7XG4gICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImgxXCIpLnRleHRDb250ZW50O1xuICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW3sgbGFiZWw6IFwiUmVhZCBHdWlkZVwiLCB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgfV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2libVYzWjNWcFpHVXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lKdVpYZG5kV2xrWlM1MGN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRU3hOUVVGTkxFTkJRVU1zVDBGQlR5eFZRVUZWTEc5Q1FVRnZRaXhEUVVGRExGbEJRVEJDTzBsQlEzUkZMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzYjBKQlFXOUNMRU5CUVVNN1NVRkROVU1zV1VGQldTeERRVUZETEV0QlFVc3NSMEZCUnl4UlFVRlJMRU5CUVVNc1lVRkJZU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEZkQlFWY3NRMEZCUXp0SlFVTTVSQ3haUVVGWkxFTkJRVU1zVDBGQlR5eEhRVUZITEVOQlFVTXNSVUZCUlN4TFFVRkxMRVZCUVVVc1dVRkJXU3hGUVVGRkxFZEJRVWNzUlVGQlJTeFJRVUZSTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1JVRkJSU3hEUVVGRExFTkJRVU03UVVGREwwVXNRMEZCUXlKOSIsImltcG9ydCB7IHNsaWRlc2hvdyB9IGZyb20gXCIuLi91dGlsXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseVN1cHBvcnREZXRhaWxzKHByZXNlbmNlRGF0YSwgcGF0aExpc3QpIHtcbiAgICBzd2l0Y2ggKHBhdGhMaXN0WzBdKSB7XG4gICAgICAgIGNhc2UgXCJtam9sbmlyXCI6IHtcbiAgICAgICAgICAgIHN3aXRjaCAocGF0aExpc3RbMV0gPz8gXCJcIikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJcIjoge1xuICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiUmVhZGluZyBhYm91dCBNasO2bG5pcidzIFN0cmlrZVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImFyY2hpdmVzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIlZpZXdpbmcgTWrDtmxuaXIncyBTdHJpa2UgYXJjaGl2ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXJtc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gYFZpZXdpbmcgTWrDtmxuaXIncyBTdHJpa2U6ICR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJ0aXRsZS1zZWN0aW9uLXdoaXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dENvbnRlbnR9YDtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gYEFza3I6ICR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYXR0bGUtbGVmdCAuYmF0dGxlLXNjb3JlXCIpLnRleHRDb250ZW50fSB2cy4gU3RyaWtlOiAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmF0dGxlLXJpZ2h0IC5iYXR0bGUtc2NvcmVcIikudGV4dENvbnRlbnR9YDtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiBcIlZpZXcgU2l0dWF0aW9uXCIsIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZiB9LFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidm90aW5nX2dhdW50bGV0XCI6IHtcbiAgICAgICAgICAgIHN3aXRjaCAocGF0aExpc3RbMV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaG93dG9wbGF5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIlJlYWRpbmcgYWJvdXQgVm90aW5nIEdhdW50bGV0XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwiYXJjaGl2ZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiVmlld2luZyBWb3RpbmcgR2F1bnRsZXQgYXJjaGl2ZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0b3VybmFtZW50c1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gYFZpZXdpbmcgR2F1bnRsZXQ6ICR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImg0ID4gc3BhblwiKS50ZXh0Q29udGVudH1gO1xuICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuYnV0dG9ucyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6IFwiVmlldyBHYXVudGxldFwiLCB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgfSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm91bmRTZWN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9keS1zZWN0aW9uLXRvdXJuYW1lbnRcIiksXG4gICAgICAgICAgICAgICAgICAgIF0uZmlsdGVyKHNlY3Rpb24gPT4gISFzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCJoMlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSByb3VuZFNlY3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtqLCBiYXR0bGVdIG9mIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yb3VuZFNlY3Rpb25zW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG91cm5hbWVudHMtYmF0dGxlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lRWxlbWVudHMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhdHRsZS5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSwgbmFtZXMgPSBuYW1lRWxlbWVudHMubWFwKG5hbWUgPT4gbmFtZS50ZXh0Q29udGVudCksIHNjb3JlcyA9IG5hbWVFbGVtZW50cy5tYXAobmFtZSA9PiBuYW1lLm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudCksIHdpbm5pbmdJbWFnZSA9IGdldENvbXB1dGVkU3R5bGUoYmF0dGxlLnF1ZXJ5U2VsZWN0b3IoXCIudG91cm5hbWVudHMtYXJ0LXdpblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50RWxlbWVudCkuYmFja2dyb3VuZEltYWdlLm1hdGNoKC91cmxcXChbJ1wiXT8oLis/KVtcIiddP1xcKS8pWzFdLCB0bXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgcHJlc2VuY2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBEYXRhLnN0YXRlID0gYFJvdW5kICR7cm91bmRTZWN0aW9ucy5sZW5ndGggLSBpfTogJHtuYW1lc1swXX0gdnMuICR7bmFtZXNbMV19YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBEYXRhLnNtYWxsSW1hZ2VLZXkgPSB3aW5uaW5nSW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wRGF0YS5zbWFsbEltYWdlVGV4dCA9IGAke3Njb3Jlc1swXX0gdnMuICR7c2NvcmVzWzFdfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzaG93LmFkZFNsaWRlKGByb3VuZCR7aX1iYXR0bGUke2p9YCwgdG1wRGF0YSwgNWUzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWMzVndjRzl5ZEM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWeklqcGJJbk4xY0hCdmNuUXVkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUVVFc1QwRkJUeXhGUVVGRkxGTkJRVk1zUlVGQlJTeE5RVUZOTEZOQlFWTXNRMEZCUXp0QlFVVndReXhOUVVGTkxFTkJRVU1zVDBGQlR5eFZRVUZWTEcxQ1FVRnRRaXhEUVVNeFF5eFpRVUV3UWl4RlFVTXhRaXhSUVVGclFqdEpRVVZzUWl4UlFVRlJMRkZCUVZFc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJUdFJRVU53UWl4TFFVRkxMRk5CUVZNc1EwRkJReXhEUVVGRE8xbEJRMllzVVVGQlVTeFJRVUZSTEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVrc1JVRkJSU3hGUVVGRk8yZENRVU14UWl4TFFVRkxMRVZCUVVVc1EwRkJReXhEUVVGRE8yOUNRVU5TTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc1owTkJRV2RETEVOQlFVTTdiMEpCUTNoRUxFMUJRVTA3YVVKQlEwNDdaMEpCUTBRc1MwRkJTeXhWUVVGVkxFTkJRVU1zUTBGQlF6dHZRa0ZEYUVJc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ5eHRRMEZCYlVNc1EwRkJRenR2UWtGRE0wUXNUVUZCVFR0cFFrRkRUanRuUWtGRFJDeExRVUZMTEU5QlFVOHNRMEZCUXl4RFFVRkRPMjlDUVVOaUxGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NOa0pCUTNSQ0xGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFXbENMSGxDUVVGNVFpeERRVUZETzNsQ1FVTXZSQ3hYUVVOSUxFVkJRVVVzUTBGQlF6dHZRa0ZEU0N4WlFVRlpMRU5CUVVNc1MwRkJTeXhIUVVGSExGTkJRM0JDTEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc05FSkJRVFJDTEVOQlFVTXNRMEZCUXl4WFFVTjBSQ3huUWtGRFF5eFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRkRMRFpDUVVFMlFpeERRVUZETEVOQlFVTXNWMEZEZGtRc1JVRkJSU3hEUVVGRE8yOUNRVU5JTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjN2QwSkJRM1JDTEVWQlFVVXNTMEZCU3l4RlFVRkZMR2RDUVVGblFpeEZRVUZGTEVkQlFVY3NSVUZCUlN4UlFVRlJMRU5CUVVNc1VVRkJVU3hEUVVGRExFbEJRVWtzUlVGQlJUdHhRa0ZEZUVRc1EwRkJRenR2UWtGRFJpeE5RVUZOTzJsQ1FVTk9PMkZCUTBRN1dVRkRSQ3hOUVVGTk8xTkJRMDQ3VVVGRFJDeExRVUZMTEdsQ1FVRnBRaXhEUVVGRExFTkJRVU03V1VGRGRrSXNVVUZCVVN4UlFVRlJMRU5CUVVNc1EwRkJReXhEUVVGRExFVkJRVVU3WjBKQlEzQkNMRXRCUVVzc1YwRkJWeXhEUVVGRExFTkJRVU03YjBKQlEycENMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzSzBKQlFTdENMRU5CUVVNN2IwSkJRM1pFTEUxQlFVMDdhVUpCUTA0N1owSkJRMFFzUzBGQlN5eFZRVUZWTEVOQlFVTXNRMEZCUXp0dlFrRkRhRUlzV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnl4clEwRkJhME1zUTBGQlF6dHZRa0ZETVVRc1RVRkJUVHRwUWtGRFRqdG5Ra0ZEUkN4TFFVRkxMR0ZCUVdFc1EwRkJReXhEUVVGRE8yOUNRVU51UWl4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExIRkNRVU4wUWl4UlFVRlJMRU5CUVVNc1lVRkJZU3hEUVVGclFpeFhRVUZYTEVOQlFVTXNRMEZCUXl4WFFVTjBSQ3hGUVVGRkxFTkJRVU03YjBKQlEwZ3NXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSenQzUWtGRGRFSXNSVUZCUlN4TFFVRkxMRVZCUVVVc1pVRkJaU3hGUVVGRkxFZEJRVWNzUlVGQlJTeFJRVUZSTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1JVRkJSVHR4UWtGRGRrUXNRMEZCUXp0dlFrRkRSaXhOUVVGTkxHRkJRV0VzUjBGQlJ6dDNRa0ZEY2tJc1IwRkJSeXhSUVVGUkxFTkJRVU1zWjBKQlFXZENMRU5CUVVNc01FSkJRVEJDTEVOQlFVTTdjVUpCUTNoRUxFTkJRVU1zVFVGQlRTeERRVUZETEU5QlFVOHNRMEZCUXl4RlFVRkZMRU5CUVVNc1EwRkJReXhEUVVGRExFOUJRVThzUTBGQlF5eGhRVUZoTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNc1EwRkJRenR2UWtGRGJrUXNTMEZCU3l4SlFVRkpMRU5CUVVNc1IwRkJSeXhoUVVGaExFTkJRVU1zVFVGQlRTeEhRVUZITEVOQlFVTXNSVUZCUlN4RFFVRkRMRWxCUVVrc1EwRkJReXhGUVVGRkxFTkJRVU1zUlVGQlJTeEZRVUZGTzNkQ1FVTnVSQ3hMUVVGTExFMUJRVTBzUTBGQlF5eERRVUZETEVWQlFVVXNUVUZCVFN4RFFVRkRMRWxCUVVrN05FSkJRM3BDTEVkQlFVY3NZVUZCWVN4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExHZENRVUZuUWl4RFFVTnVReXh4UWtGQmNVSXNRMEZEY2tJN2VVSkJRMFFzUTBGQlF5eFBRVUZQTEVWQlFVVXNSVUZCUlRzMFFrRkRXaXhOUVVGTkxGbEJRVmtzUjBGQlJ6dG5RMEZEYmtJc1IwRkJSeXhOUVVGTkxFTkJRVU1zWjBKQlFXZENMRU5CUVhWQ0xFOUJRVThzUTBGQlF6czJRa0ZEZWtRc1JVRkRSQ3hMUVVGTExFZEJRVWNzV1VGQldTeERRVUZETEVkQlFVY3NRMEZCUXl4SlFVRkpMRU5CUVVNc1JVRkJSU3hEUVVGRExFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNSVUZEYkVRc1RVRkJUU3hIUVVGSExGbEJRVmtzUTBGQlF5eEhRVUZITEVOQlEzaENMRWxCUVVrc1EwRkJReXhGUVVGRkxFTkJRVU1zU1VGQlNTeERRVUZETEd0Q1FVRnJRaXhEUVVGRExGZEJRVmNzUTBGRE0wTXNSVUZEUkN4WlFVRlpMRWRCUVVjc1owSkJRV2RDTEVOQlF6bENMRTFCUVUwc1EwRkJReXhoUVVGaExFTkJRV2xDTEhOQ1FVRnpRaXhEUVVGRE8ybERRVU14UkN4aFFVRmhMRU5CUTJZc1EwRkJReXhsUVVGbExFTkJRVU1zUzBGQlN5eERRVUZETEhkQ1FVRjNRaXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVWQlEzQkVMRTlCUVU4c1IwRkJhVUlzVFVGQlRTeERRVUZETEUxQlFVMHNRMEZCUXl4RlFVRkZMRVZCUVVVc1dVRkJXU3hEUVVGRExFTkJRVU03TkVKQlEzcEVMRTlCUVU4c1EwRkJReXhMUVVGTExFZEJRVWNzVTBGQlV5eGhRVUZoTEVOQlFVTXNUVUZCVFN4SFFVRkhMRU5CUVVNc1MwRkRhRVFzUzBGQlN5eERRVUZETEVOQlFVTXNRMEZEVWl4UlFVRlJMRXRCUVVzc1EwRkJReXhEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZET3pSQ1FVTnVRaXhQUVVGUExFTkJRVU1zWVVGQllTeEhRVUZITEZsQlFWa3NRMEZCUXpzMFFrRkRja01zVDBGQlR5eERRVUZETEdOQlFXTXNSMEZCUnl4SFFVRkhMRTFCUVUwc1EwRkJReXhEUVVGRExFTkJRVU1zVVVGQlVTeE5RVUZOTEVOQlFVTXNRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkJRenMwUWtGRGVrUXNVMEZCVXl4RFFVRkRMRkZCUVZFc1EwRkJReXhSUVVGUkxFTkJRVU1zVTBGQlV5eERRVUZETEVWQlFVVXNSVUZCUlN4UFFVRlBMRVZCUVVVc1IwRkJSeXhEUVVGRExFTkJRVU03ZVVKQlEzaEVPM0ZDUVVORU8yOUNRVU5FTEUxQlFVMDdhVUpCUTA0N1lVRkRSRHRaUVVORUxFMUJRVTA3VTBGRFRqdExRVU5FTzBGQlEwWXNRMEZCUXlKOSIsImltcG9ydCB7IHJlc2V0T2JzZXJ2ZXJzLCBwcmVzZW5jZSwgc2xpZGVzaG93IH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IGFwcGx5TWFpbkhvc3REZXRhaWxzIGZyb20gXCIuL3BhZ2VzL21haW5cIjtcbmltcG9ydCBhcHBseUNZTERldGFpbHMgZnJvbSBcIi4vcGFnZXMvY3lsXCI7XG5pbXBvcnQgYXBwbHlGZWhQYXNzRGV0YWlscyBmcm9tIFwiLi9wYWdlcy9mZWhwYXNzXCI7XG5pbXBvcnQgYXBwbHlHdWlkZURldGFpbHMgZnJvbSBcIi4vcGFnZXMvZ3VpZGVcIjtcbmltcG9ydCBhcHBseU5ld0d1aWRlRGV0YWlscyBmcm9tIFwiLi9wYWdlcy9uZXdndWlkZVwiO1xuaW1wb3J0IGFwcGx5U3VwcG9ydERldGFpbHMgZnJvbSBcIi4vcGFnZXMvc3VwcG9ydFwiO1xuY29uc3QgYnJvd3NpbmdUaW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbmxldCBvbGRQYXRoID0gXCJcIjtcbnByZXNlbmNlLm9uKFwiVXBkYXRlRGF0YVwiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcHJlc2VuY2VEYXRhID0ge1xuICAgICAgICBsYXJnZUltYWdlS2V5OiBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvRi9GaXJlJTIwRW1ibGVtJTIwSGVyb2VzL2Fzc2V0cy9sb2dvLnBuZ1wiLFxuICAgICAgICBzdGFydFRpbWVzdGFtcDogYnJvd3NpbmdUaW1lc3RhbXAsXG4gICAgfSwgeyBwYXRobmFtZSwgaG9zdG5hbWUgfSA9IGRvY3VtZW50LmxvY2F0aW9uLCBwYXRoTGlzdCA9IHBhdGhuYW1lLnNwbGl0KFwiL1wiKS5maWx0ZXIocGF0aCA9PiBwYXRoKTtcbiAgICBpZiAob2xkUGF0aCAhPT0gcGF0aG5hbWUpIHtcbiAgICAgICAgb2xkUGF0aCA9IHBhdGhuYW1lO1xuICAgICAgICByZXNldE9ic2VydmVycygpO1xuICAgICAgICBzbGlkZXNob3cuZGVsZXRlQWxsU2xpZGVzKCk7XG4gICAgfVxuICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICBjYXNlIGhvc3RuYW1lID09PSBcImZpcmUtZW1ibGVtLWhlcm9lcy5jb21cIjpcbiAgICAgICAgICAgIGFwcGx5TWFpbkhvc3REZXRhaWxzKHByZXNlbmNlRGF0YSwgcGF0aExpc3Quc2xpY2UoMSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgaG9zdG5hbWUgPT09IFwiZXZlbnRzLmZpcmUtZW1ibGVtLWhlcm9lcy5jb21cIjpcbiAgICAgICAgY2FzZSAvdm90ZVxcZCtbLl1jYW1wYWlnbnNbLl1maXJlLWVtYmxlbS1oZXJvZXNbLl1jb20vLnRlc3QoaG9zdG5hbWUpOlxuICAgICAgICBjYXNlIGhvc3RuYW1lID09PSBcInN1cHBvcnQuZmlyZS1lbWJsZW0taGVyb2VzLmNvbVwiOiB7XG4gICAgICAgICAgICBpZiAoaG9zdG5hbWUuc3RhcnRzV2l0aChcInN1cHBvcnRcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aExpc3RbMF0gPT09IFwidm90ZVwiIHx8IHBhdGhMaXN0WzBdID09PSBcInZvdGUyXCIpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGFwcGx5Q1lMRGV0YWlscyhwcmVzZW5jZURhdGEsIHBhdGhMaXN0LnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5U3VwcG9ydERldGFpbHMocHJlc2VuY2VEYXRhLCBwYXRoTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChob3N0bmFtZS5zdGFydHNXaXRoKFwidm90ZTNcIikpXG4gICAgICAgICAgICAgICAgYXdhaXQgYXBwbHlDWUxEZXRhaWxzKHByZXNlbmNlRGF0YSwgcGF0aExpc3QpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGF3YWl0IGFwcGx5Q1lMRGV0YWlscyhwcmVzZW5jZURhdGEsIHBhdGhMaXN0LnNsaWNlKDEpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgaG9zdG5hbWUgPT09IFwiZmVocGFzcy5maXJlLWVtYmxlbS1oZXJvZXMuY29tXCI6IHtcbiAgICAgICAgICAgIGFwcGx5RmVoUGFzc0RldGFpbHMocHJlc2VuY2VEYXRhLCBwYXRoTGlzdC5zbGljZSgxKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIGhvc3RuYW1lID09PSBcImd1aWRlLmZpcmUtZW1ibGVtLWhlcm9lcy5jb21cIjoge1xuICAgICAgICAgICAgYXBwbHlHdWlkZURldGFpbHMocHJlc2VuY2VEYXRhLCBwYXRoTGlzdC5zbGljZSgxKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIGhvc3RuYW1lID09PSBcIm5ldy1ndWlkZS5maXJlLWVtYmxlbS1oZXJvZXMuY29tXCI6IHtcbiAgICAgICAgICAgIGFwcGx5TmV3R3VpZGVEZXRhaWxzKHByZXNlbmNlRGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2xpZGVzaG93LmdldFNsaWRlcygpLmxlbmd0aClcbiAgICAgICAgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoc2xpZGVzaG93KTtcbiAgICBlbHNlIGlmIChwcmVzZW5jZURhdGEuZGV0YWlscylcbiAgICAgICAgcHJlc2VuY2Uuc2V0QWN0aXZpdHkocHJlc2VuY2VEYXRhKTtcbiAgICBlbHNlXG4gICAgICAgIHByZXNlbmNlLnNldEFjdGl2aXR5KCk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWNISmxjMlZ1WTJVdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUp3Y21WelpXNWpaUzUwY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFTeFBRVUZQTEVWQlFVVXNZMEZCWXl4RlFVRlZMRkZCUVZFc1JVRkJSU3hUUVVGVExFVkJRVVVzVFVGQlRTeFJRVUZSTEVOQlFVTTdRVUZEY2tVc1QwRkJUeXh2UWtGQmIwSXNUVUZCVFN4alFVRmpMRU5CUVVNN1FVRkRhRVFzVDBGQlR5eGxRVUZsTEUxQlFVMHNZVUZCWVN4RFFVRkRPMEZCUXpGRExFOUJRVThzYlVKQlFXMUNMRTFCUVUwc2FVSkJRV2xDTEVOQlFVTTdRVUZEYkVRc1QwRkJUeXhwUWtGQmFVSXNUVUZCVFN4bFFVRmxMRU5CUVVNN1FVRkRPVU1zVDBGQlR5eHZRa0ZCYjBJc1RVRkJUU3hyUWtGQmEwSXNRMEZCUXp0QlFVTndSQ3hQUVVGUExHMUNRVUZ0UWl4TlFVRk5MR2xDUVVGcFFpeERRVUZETzBGQlJXeEVMRTFCUVUwc2FVSkJRV2xDTEVkQlFVY3NTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhKUVVGSkxFTkJRVU1zUjBGQlJ5eEZRVUZGTEVkQlFVY3NTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkZlRVFzU1VGQlNTeFBRVUZQTEVkQlFVY3NSVUZCUlN4RFFVRkRPMEZCUldwQ0xGRkJRVkVzUTBGQlF5eEZRVUZGTEVOQlFVTXNXVUZCV1N4RlFVRkZMRXRCUVVzc1NVRkJTU3hGUVVGRk8wbEJRM0JETEUxQlFVMHNXVUZCV1N4SFFVRnBRanRSUVVOcVF5eGhRVUZoTEN0RlFVRmhPMUZCUXpGQ0xHTkJRV01zUlVGQlJTeHBRa0ZCYVVJN1MwRkRha01zUlVGRFJDeEZRVUZGTEZGQlFWRXNSVUZCUlN4UlFVRlJMRVZCUVVVc1IwRkJSeXhSUVVGUkxFTkJRVU1zVVVGQlVTeEZRVU14UXl4UlFVRlJMRWRCUVVjc1VVRkJVU3hEUVVGRExFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXl4TlFVRk5MRU5CUVVNc1NVRkJTU3hEUVVGRExFVkJRVVVzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0SlFVVnlSQ3hKUVVGSkxFOUJRVThzUzBGQlN5eFJRVUZSTEVWQlFVVTdVVUZEZWtJc1QwRkJUeXhIUVVGSExGRkJRVkVzUTBGQlF6dFJRVU51UWl4alFVRmpMRVZCUVVVc1EwRkJRenRSUVVOcVFpeFRRVUZUTEVOQlFVTXNaVUZCWlN4RlFVRkZMRU5CUVVNN1MwRkROVUk3U1VGRlJDeFJRVUZSTEVsQlFVa3NSVUZCUlR0UlFVTmlMRXRCUVVzc1VVRkJVU3hMUVVGTExIZENRVUYzUWp0WlFVTjZReXh2UWtGQmIwSXNRMEZCUXl4WlFVRlpMRVZCUVVVc1VVRkJVU3hEUVVGRExFdEJRVXNzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMWxCUTNSRUxFMUJRVTA3VVVGRFVDeExRVUZMTEZGQlFWRXNTMEZCU3l3clFrRkJLMElzUTBGQlF6dFJRVU5zUkN4TFFVRkxMR2RFUVVGblJDeERRVUZETEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJRenRSUVVOeVJTeExRVUZMTEZGQlFWRXNTMEZCU3l4blEwRkJaME1zUTBGQlF5eERRVUZETzFsQlEyNUVMRWxCUVVrc1VVRkJVU3hEUVVGRExGVkJRVlVzUTBGQlF5eFRRVUZUTEVOQlFVTXNSVUZCUlR0blFrRkRia01zU1VGQlNTeFJRVUZSTEVOQlFVTXNRMEZCUXl4RFFVRkRMRXRCUVVzc1RVRkJUU3hKUVVGSkxGRkJRVkVzUTBGQlF5eERRVUZETEVOQlFVTXNTMEZCU3l4UFFVRlBPMjlDUVVOd1JDeE5RVUZOTEdWQlFXVXNRMEZCUXl4WlFVRlpMRVZCUVVVc1VVRkJVU3hEUVVGRExFdEJRVXNzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPenR2UWtGRGJrUXNiVUpCUVcxQ0xFTkJRVU1zV1VGQldTeEZRVUZGTEZGQlFWRXNRMEZCUXl4RFFVRkRPMkZCUTJwRU8ybENRVUZOTEVsQlFVa3NVVUZCVVN4RFFVRkRMRlZCUVZVc1EwRkJReXhQUVVGUExFTkJRVU03WjBKQlEzUkRMRTFCUVUwc1pVRkJaU3hEUVVGRExGbEJRVmtzUlVGQlJTeFJRVUZSTEVOQlFVTXNRMEZCUXpzN1owSkJRekZETEUxQlFVMHNaVUZCWlN4RFFVRkRMRmxCUVZrc1JVRkJSU3hSUVVGUkxFTkJRVU1zUzBGQlN5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNN1dVRkROVVFzVFVGQlRUdFRRVU5PTzFGQlEwUXNTMEZCU3l4UlFVRlJMRXRCUVVzc1owTkJRV2RETEVOQlFVTXNRMEZCUXp0WlFVTnVSQ3h0UWtGQmJVSXNRMEZCUXl4WlFVRlpMRVZCUVVVc1VVRkJVU3hEUVVGRExFdEJRVXNzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMWxCUTNKRUxFMUJRVTA3VTBGRFRqdFJRVU5FTEV0QlFVc3NVVUZCVVN4TFFVRkxMRGhDUVVFNFFpeERRVUZETEVOQlFVTTdXVUZEYWtRc2FVSkJRV2xDTEVOQlFVTXNXVUZCV1N4RlFVRkZMRkZCUVZFc1EwRkJReXhMUVVGTExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0WlFVTnVSQ3hOUVVGTk8xTkJRMDQ3VVVGRFJDeExRVUZMTEZGQlFWRXNTMEZCU3l4clEwRkJhME1zUTBGQlF5eERRVUZETzFsQlEzSkVMRzlDUVVGdlFpeERRVUZETEZsQlFWa3NRMEZCUXl4RFFVRkRPMWxCUTI1RExFMUJRVTA3VTBGRFRqdExRVU5FTzBsQlJVUXNTVUZCU1N4VFFVRlRMRU5CUVVNc1UwRkJVeXhGUVVGRkxFTkJRVU1zVFVGQlRUdFJRVUZGTEZGQlFWRXNRMEZCUXl4WFFVRlhMRU5CUVVNc1UwRkJVeXhEUVVGRExFTkJRVU03VTBGRE4wUXNTVUZCU1N4WlFVRlpMRU5CUVVNc1QwRkJUenRSUVVGRkxGRkJRVkVzUTBGQlF5eFhRVUZYTEVOQlFVTXNXVUZCV1N4RFFVRkRMRU5CUVVNN08xRkJRemRFTEZGQlFWRXNRMEZCUXl4WFFVRlhMRVZCUVVVc1EwRkJRenRCUVVNM1FpeERRVUZETEVOQlFVTXNRMEZCUXlKOSJdLCJuYW1lcyI6WyJwcmVzZW5jZSIsIlByZXNlbmNlIiwiY2xpZW50SWQiLCJzbGlkZXNob3ciLCJjcmVhdGVTbGlkZXNob3ciLCJ0cnVuY2F0ZVRleHQiLCJ0ZXh0IiwibGVuZ3RoIiwic2xpY2UiLCJsb2FkSW1hZ2UiLCJpbWFnZSIsInVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNyYyIsImdldENhbnZhc0Jsb2IiLCJyZWplY3QiLCJjYW52YXMiLCJ0b0Jsb2IiLCJibG9iIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImhlaWdodCIsIndpZHRoIiwic3F1YXJlSW1hZ2VDYWNoZSIsImlzVXBsb2FkaW5nIiwiYXN5bmMiLCJzcXVhcmVJbWFnZSIsImNyb3NzT3JpZ2luIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJpbWFnZVdpZHRoIiwibmF0dXJhbFdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJuYXR1cmFsSGVpZ2h0Iiwic2NhbGUiLCJNYXRoIiwibWluIiwic2NhbGVkV2lkdGgiLCJzY2FsZWRIZWlnaHQiLCJjbGVhclJlY3QiLCJkcmF3SW1hZ2UiLCJmaWxlIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInJlc3VsdFVSTCIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsInRoZW4iLCJyIiwic2VjdGlvbiIsImludGVyc2VjdGlvbk9ic2VydmVyc0FjdGl2YXRlZCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwidmlzaWJsZVNlY3Rpb24iLCJlbnRyeSIsImlkIiwidGFyZ2V0IiwicmF0aW8iLCJpbnRlcnNlY3Rpb25SYXRpbyIsInRocmVzaG9sZCIsImFjdGl2YXRlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJzIiwicGF0aExpc3QiLCJvYnNlcnZlIiwicXVlcnlTZWxlY3RvciIsImFydGljbGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImFydGljbGUiLCJhcmVPYnNlcnZlcnNBY3RpdmF0ZWQiLCJyZXNldE9ic2VydmVycyIsImRpc2Nvbm5lY3QiLCJnZXRTZWN0aW9uIiwiYXBwbHlNYWluSG9zdERldGFpbHMiLCJwcmVzZW5jZURhdGEiLCJkZXRhaWxzIiwic3RhdGUiLCJhbHQiLCJoZXJvTmFtZSIsInRleHRDb250ZW50IiwibGFyZ2VJbWFnZUtleSIsInNtYWxsSW1hZ2VLZXkiLCJzbWFsbEltYWdlVGV4dCIsImltYWdlcyIsInRtcERhdGEiLCJPYmplY3QiLCJhc3NpZ24iLCJhZGRTbGlkZSIsImdldEF0dHJpYnV0ZSIsImJ1dHRvbnMiLCJsYWJlbCIsImxvY2F0aW9uIiwiaHJlZiIsImFydGljbGVDb250YWluZXIiLCJhcHBseUNZTERldGFpbHMiLCJjYW1wYWlnblRpdGxlIiwidGl0bGUiLCJtYXRjaCIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsImdldCIsImluY2x1ZGVzIiwid2lubmVyRGF0YSIsImFsbCIsIm1hcCIsIndpbm5lciIsIm1haW5JbWFnZSIsImdldENvbXB1dGVkU3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJyYW5rSW1hZ2UiLCJpIiwid2lubmVyRGF0dW0iLCJzZXJpZXNUaXRsZSIsInNwbGl0IiwidHJpbSIsImNoYXJhY3Rlck5hbWUiLCJhcHBseUZlaFBhc3NEZXRhaWxzIiwiYWN0aXZlVGV4dCIsImNsYXNzTGlzdCIsImZpbmQiLCJjIiwidGVzdCIsImFwcGx5R3VpZGVEZXRhaWxzIiwic2VsZWN0ZWRPcHRpb25zIiwidG9VcHBlckNhc2UiLCJjaGFyYWN0ZXJJbWFnZSIsImNoYXJhY3RlckRlc2NyaXB0aW9ucyIsImR0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZGVzY3JpcHRpb24iLCJhcHBseU5ld0d1aWRlRGV0YWlscyIsImFwcGx5U3VwcG9ydERldGFpbHMiLCJyb3VuZFNlY3Rpb25zIiwiZmlsdGVyIiwiaiIsImJhdHRsZSIsIm5hbWVFbGVtZW50cyIsIm5hbWVzIiwibmFtZSIsInNjb3JlcyIsIndpbm5pbmdJbWFnZSIsInBhcmVudEVsZW1lbnQiLCJicm93c2luZ1RpbWVzdGFtcCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsIm9sZFBhdGgiLCJvbiIsInN0YXJ0VGltZXN0YW1wIiwicGF0aG5hbWUiLCJob3N0bmFtZSIsInBhdGgiLCJkZWxldGVBbGxTbGlkZXMiLCJzdGFydHNXaXRoIiwiZ2V0U2xpZGVzIiwic2V0QWN0aXZpdHkiXSwic291cmNlUm9vdCI6IiJ9
undefined;