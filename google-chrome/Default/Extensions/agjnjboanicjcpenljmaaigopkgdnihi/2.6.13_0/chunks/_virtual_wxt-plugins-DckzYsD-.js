var Fu=Object.defineProperty;var Sr=e=>{throw TypeError(e)};var Su=(e,t,n)=>t in e?Fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var T=(e,t,n)=>Su(e,typeof t!="symbol"?t+"":t,n),Nr=(e,t,n)=>t.has(e)||Sr("Cannot "+n);var j=(e,t,n)=>(Nr(e,t,"read from private field"),n?n.call(e):t.get(e)),Me=(e,t,n)=>t.has(e)?Sr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),re=(e,t,n,i)=>(Nr(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);var ui=(e,t,n,i)=>({set _(r){re(e,t,r,n)},get _(){return j(e,t,i)}});var Wo,zo;const C=((zo=(Wo=globalThis.browser)==null?void 0:Wo.runtime)==null?void 0:zo.id)==null?globalThis.chrome:globalThis.browser;var Br=Object.prototype.hasOwnProperty;function Oi(e,t){var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Oi(e[i],t[i]););return i===-1}if(!n||typeof e=="object"){i=0;for(n in e)if(Br.call(e,n)&&++i&&!Br.call(t,n)||!(n in t)||!Oi(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function en(e,...t){}const fi={debug:(...e)=>en(console.debug,...e),log:(...e)=>en(console.log,...e),warn:(...e)=>en(console.warn,...e),error:(...e)=>en(console.error,...e)};function Nu(e){return Array.isArray(e)?e:[e]}const Bu=new Error("request for lock canceled");var ju=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{l(i.next(u))}catch(f){s(f)}}function c(u){try{l(i.throw(u))}catch(f){s(f)}}function l(u){u.done?a(u.value):r(u.value).then(o,c)}l((i=i.apply(e,t||[])).next())})};class Vu{constructor(t,n=Bu){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((i,r)=>{const a={resolve:i,reject:r,weight:t,priority:n},s=Ko(this._queue,o=>n<=o.priority);s===-1&&t<=this._value?this._dispatchItem(a):this._queue.splice(s+1,0,a)})}runExclusive(t){return ju(this,arguments,void 0,function*(n,i=1,r=0){const[a,s]=yield this.acquire(i,r);try{return yield n(a)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(i=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),Gu(this._weightedWaiters[t-1],{resolve:i,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(i=>i.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const i=this._weightedWaiters[n-1];if(!i)continue;const r=i.findIndex(a=>a.priority<=t);(r===-1?i:i.splice(0,r)).forEach(a=>a.resolve())}}}_couldLockImmediately(t,n){return(this._queue.length===0||this._queue[0].priority<n)&&t<=this._value}}function Gu(e,t){const n=Ko(e,i=>t.priority<=i.priority);e.splice(n+1,0,t)}function Ko(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}var Hu=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{l(i.next(u))}catch(f){s(f)}}function c(u){try{l(i.throw(u))}catch(f){s(f)}}function l(u){u.done?a(u.value):r(u.value).then(o,c)}l((i=i.apply(e,t||[])).next())})};class qu{constructor(t){this._semaphore=new Vu(1,t)}acquire(){return Hu(this,arguments,void 0,function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n})}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const te=Wu();function Wu(){const e={local:tn("local"),session:tn("session"),sync:tn("sync"),managed:tn("managed")},t=d=>{const v=e[d];if(v==null){const g=Object.keys(e).join(", ");throw Error(`Invalid area "${d}". Options: ${g}`)}return v},n=d=>{const v=d.indexOf(":"),g=d.substring(0,v),x=d.substring(v+1);if(x==null)throw Error(`Storage key should be in the form of "area:key", but received "${d}"`);return{driverArea:g,driverKey:x,driver:t(g)}},i=d=>d+"$",r=(d,v)=>d??v??null,a=d=>typeof d=="object"&&!Array.isArray(d)?d:{},s=async(d,v,g)=>{const x=await d.getItem(v);return r(x,(g==null?void 0:g.fallback)??(g==null?void 0:g.defaultValue))},o=async(d,v)=>{const g=i(v),x=await d.getItem(g);return a(x)},c=async(d,v,g)=>{await d.setItem(v,g??null)},l=async(d,v,g)=>{const x=i(v),_={...a(await d.getItem(x))};Object.entries(g).forEach(([R,k])=>{k==null?delete _[R]:_[R]=k}),await d.setItem(x,_)},u=async(d,v,g)=>{if(await d.removeItem(v),g!=null&&g.removeMeta){const x=i(v);await d.removeItem(x)}},f=async(d,v,g)=>{const x=i(v);if(g==null)await d.removeItem(x);else{const w=a(await d.getItem(x));Nu(g).forEach(_=>delete w[_]),await d.setItem(x,w)}},m=(d,v,g)=>d.watch(v,g);return{getItem:async(d,v)=>{const{driver:g,driverKey:x}=n(d);return await s(g,x,v)},getItems:async d=>{const v=new Map,g=new Map;return d.forEach(w=>{let _,R;typeof w=="string"?_=w:(_=w.key,R=w.options);const{driverArea:k,driverKey:Y}=n(_),q=v.get(k)??[];v.set(k,q.concat(Y)),g.set(_,R)}),(await Promise.all(Array.from(v.entries()).map(async([w,_])=>(await e[w].getItems(_)).map(k=>{const Y=`${w}:${k.key}`,q=g.get(Y),le=r(k.value,(q==null?void 0:q.fallback)??(q==null?void 0:q.defaultValue));return{key:Y,value:le}})))).flat()},getMeta:async d=>{const{driver:v,driverKey:g}=n(d);return await o(v,g)},setItem:async(d,v)=>{const{driver:g,driverKey:x}=n(d);await c(g,x,v)},setItems:async d=>{const v=new Map;d.forEach(({key:g,value:x})=>{const{driverArea:w,driverKey:_}=n(g),R=v.get(w)??[];v.set(w,R.concat({key:_,value:x}))}),await Promise.all(Array.from(v.entries()).map(async([g,x])=>{await t(g).setItems(x)}))},setMeta:async(d,v)=>{const{driver:g,driverKey:x}=n(d);await l(g,x,v)},removeItem:async(d,v)=>{const{driver:g,driverKey:x}=n(d);await u(g,x,v)},removeItems:async d=>{const v=new Map;d.forEach(g=>{let x,w;typeof g=="string"?x=g:(x=g.key,w=g.options);const{driverArea:_,driverKey:R}=n(x),k=v.get(_)??[];k.push(R),w!=null&&w.removeMeta&&k.push(i(R)),v.set(_,k)}),await Promise.all(Array.from(v.entries()).map(async([g,x])=>{await t(g).removeItems(x)}))},removeMeta:async(d,v)=>{const{driver:g,driverKey:x}=n(d);await f(g,x,v)},snapshot:async(d,v)=>{var w;const x=await t(d).snapshot();return(w=v==null?void 0:v.excludeKeys)==null||w.forEach(_=>{delete x[_],delete x[i(_)]}),x},restoreSnapshot:async(d,v)=>{await t(d).restoreSnapshot(v)},watch:(d,v)=>{const{driver:g,driverKey:x}=n(d);return m(g,x,v)},unwatch(){Object.values(e).forEach(d=>{d.unwatch()})},defineItem:(d,v)=>{const{driver:g,driverKey:x}=n(d),{version:w=1,migrations:_={}}=v??{};if(w<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const R=async()=>{var I;const X=i(x),[{value:Te},{value:Le}]=await g.getItems([x,X]);if(Te==null)return;const Se=(Le==null?void 0:Le.v)??1;if(Se>w)throw Error(`Version downgrade detected (v${Se} -> v${w}) for "${d}"`);fi.debug(`Running storage migration for ${d}: v${Se} -> v${w}`);const li=Array.from({length:w-Se},(L,P)=>Se+P+1);let A=Te;for(const L of li)A=await((I=_==null?void 0:_[L])==null?void 0:I.call(_,A))??A;await g.setItems([{key:x,value:A},{key:X,value:{...Le,v:w}}]),fi.debug(`Storage migration completed for ${d} v${w}`,{migratedValue:A})},k=(v==null?void 0:v.migrations)==null?Promise.resolve():R().catch(X=>{fi.error(`Migration failed for ${d}`,X)}),Y=new qu,q=()=>(v==null?void 0:v.fallback)??(v==null?void 0:v.defaultValue)??null,le=()=>Y.runExclusive(async()=>{const X=await g.getItem(x);if(X!=null||(v==null?void 0:v.init)==null)return X;const Te=await v.init();return await g.setItem(x,Te),Te});return k.then(le),{get defaultValue(){return q()},get fallback(){return q()},getValue:async()=>(await k,v!=null&&v.init?await le():await s(g,x,v)),getMeta:async()=>(await k,await o(g,x)),setValue:async X=>(await k,await c(g,x,X)),setMeta:async X=>(await k,await l(g,x,X)),removeValue:async X=>(await k,await u(g,x,X)),removeMeta:async X=>(await k,await f(g,x,X)),watch:X=>m(g,x,(Te,Le)=>X(Te??q(),Le??q())),migrate:R}}}}function tn(e){const t=()=>{if(C.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(C.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const i=C.storage[e];if(i==null)throw Error(`"browser.storage.${e}" is undefined`);return i},n=new Set;return{getItem:async i=>(await t().get(i))[i],getItems:async i=>{const r=await t().get(i);return i.map(a=>({key:a,value:r[a]??null}))},setItem:async(i,r)=>{r==null?await t().remove(i):await t().set({[i]:r})},setItems:async i=>{const r=i.reduce((a,{key:s,value:o})=>(a[s]=o,a),{});await t().set(r)},removeItem:async i=>{await t().remove(i)},removeItems:async i=>{await t().remove(i)},snapshot:async()=>await t().get(),restoreSnapshot:async i=>{await t().set(i)},watch(i,r){const a=s=>{const o=s[i];o!=null&&(Oi(o.newValue,o.oldValue)||r(o.newValue??null,o.oldValue??null))};return t().onChanged.addListener(a),n.add(a),()=>{t().onChanged.removeListener(a),n.delete(a)}},unwatch(){n.forEach(i=>{t().onChanged.removeListener(i)}),n.clear()}}}const Zi="api.premid.app",BL="wss://api.premid.app/v5/ws",jL="stable",VL=220,zu="",Ku=["Disney+","Netflix","SoundCloud","Twitch","YouTube","YouTube Music"],GL="https://208c5531ee40da0033bd2cad10e962b7@o4506754206793728.ingest.us.sentry.io/4507437179011072";let jr=class extends Error{constructor(n,i,r){const a=n.status||n.status===0?n.status:"",s=n.statusText||"",o=`${a} ${s}`.trim(),c=o?`status code ${o}`:"an unknown error";super(`Request failed with ${c}: ${i.method} ${i.url}`);T(this,"response");T(this,"request");T(this,"options");this.name="HTTPError",this.response=n,this.request=i,this.options=r}};class Yo extends Error{constructor(n){super(`Request timed out: ${n.method} ${n.url}`);T(this,"request");this.name="TimeoutError",this.request=n}}const Nt=e=>e!==null&&typeof e=="object",nn=(...e)=>{for(const t of e)if((!Nt(t)||Array.isArray(t))&&t!==void 0)throw new TypeError("The `options` argument must be an object");return Ji({},...e)},Xo=(e={},t={})=>{const n=new globalThis.Headers(e),i=t instanceof globalThis.Headers,r=new globalThis.Headers(t);for(const[a,s]of r.entries())i&&s==="undefined"||s===void 0?n.delete(a):n.set(a,s);return n};function rn(e,t,n){return Object.hasOwn(t,n)&&t[n]===void 0?[]:Ji(e[n]??[],t[n]??[])}const Qo=(e={},t={})=>({beforeRequest:rn(e,t,"beforeRequest"),beforeRetry:rn(e,t,"beforeRetry"),afterResponse:rn(e,t,"afterResponse"),beforeError:rn(e,t,"beforeError")}),Ji=(...e)=>{let t={},n={},i={};for(const r of e)if(Array.isArray(r))Array.isArray(t)||(t=[]),t=[...t,...r];else if(Nt(r)){for(let[a,s]of Object.entries(r))Nt(s)&&a in t&&(s=Ji(t[a],s)),t={...t,[a]:s};Nt(r.hooks)&&(i=Qo(i,r.hooks),t.hooks=i),Nt(r.headers)&&(n=Xo(n,r.headers),t.headers=n)}return t},Yu=(()=>{let e=!1,t=!1;const n=typeof globalThis.ReadableStream=="function",i=typeof globalThis.Request=="function";if(n&&i)try{t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(r){if(r instanceof Error&&r.message==="unsupported BodyInit type")return!1;throw r}return e&&!t})(),Xu=typeof globalThis.AbortController=="function",Qu=typeof globalThis.ReadableStream=="function",Zu=typeof globalThis.FormData=="function",Zo=["get","post","put","patch","head","delete"],Ju={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},di=2147483647,Jo=Symbol("stop"),ef={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},tf={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},nf=e=>Zo.includes(e)?e.toUpperCase():e,rf=["get","put","head","delete","options","trace"],af=[408,413,429,500,502,503,504],sf=[413,429,503],Vr={limit:2,methods:rf,statusCodes:af,afterStatusCodes:sf,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},of=(e={})=>{if(typeof e=="number")return{...Vr,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...Vr,...e}};async function cf(e,t,n,i){return new Promise((r,a)=>{const s=setTimeout(()=>{n&&n.abort(),a(new Yo(e))},i.timeout);i.fetch(e,t).then(r).catch(a).then(()=>{clearTimeout(s)})})}async function lf(e,{signal:t}){return new Promise((n,i)=>{t&&(t.throwIfAborted(),t.addEventListener("abort",r,{once:!0}));function r(){clearTimeout(a),i(t.reason)}const a=setTimeout(()=>{t==null||t.removeEventListener("abort",r),n()},e)})}const uf=(e,t)=>{const n={};for(const i in t)!(i in tf)&&!(i in ef)&&!(i in e)&&(n[i]=t[i]);return n};class Mn{constructor(t,n={}){T(this,"request");T(this,"abortController");T(this,"_retryCount",0);T(this,"_input");T(this,"_options");var i,r;if(this._input=t,this._options={...n,headers:Xo(this._input.headers,n.headers),hooks:Qo({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},n.hooks),method:nf(n.method??this._input.method),prefixUrl:String(n.prefixUrl||""),retry:of(n.retry),throwHttpErrors:n.throwHttpErrors!==!1,timeout:n.timeout??1e4,fetch:n.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Xu){this.abortController=new globalThis.AbortController;const a=this._options.signal??this._input.signal;a==null||a.addEventListener("abort",()=>{this.abortController.abort(a.reason)}),this._options.signal=this.abortController.signal}if(Yu&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((r=(i=this._options).stringifyJson)==null?void 0:r.call(i,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const s="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),o=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,s);(Zu&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(o,{...this.request}),this._options)}}static create(t,n){const i=new Mn(t,n),r=async()=>{if(typeof i._options.timeout=="number"&&i._options.timeout>di)throw new RangeError(`The \`timeout\` option cannot be greater than ${di}`);await Promise.resolve();let o=await i._fetch();for(const c of i._options.hooks.afterResponse){const l=await c(i.request,i._options,i._decorateResponse(o.clone()));l instanceof globalThis.Response&&(o=l)}if(i._decorateResponse(o),!o.ok&&i._options.throwHttpErrors){let c=new jr(o,i.request,i._options);for(const l of i._options.hooks.beforeError)c=await l(c);throw c}if(i._options.onDownloadProgress){if(typeof i._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Qu)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return i._stream(o.clone(),i._options.onDownloadProgress)}return o},s=i._options.retry.methods.includes(i.request.method.toLowerCase())?i._retry(r):r();for(const[o,c]of Object.entries(Ju))s[o]=async()=>{i.request.headers.set("accept",i.request.headers.get("accept")||c);const u=(await s).clone();if(o==="json"){if(u.status===204||(await u.clone().arrayBuffer()).byteLength===0)return"";if(n.parseJson)return n.parseJson(await u.text())}return u[o]()};return s}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount>this._options.retry.limit||t instanceof Yo)throw t;if(t instanceof jr){if(!this._options.retry.statusCodes.includes(t.response.status))throw t;const i=t.response.headers.get("Retry-After")??t.response.headers.get("RateLimit-Reset")??t.response.headers.get("X-RateLimit-Reset")??t.response.headers.get("X-Rate-Limit-Reset");if(i&&this._options.retry.afterStatusCodes.includes(t.response.status)){let r=Number(i)*1e3;Number.isNaN(r)?r=Date.parse(i)-Date.now():r>=Date.parse("2024-01-01")&&(r-=Date.now());const a=this._options.retry.maxRetryAfter??r;return r<a?r:a}if(t.response.status===413)throw t}const n=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,n)}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(n){const i=Math.min(this._calculateRetryDelay(n),di);if(this._retryCount<1)throw n;await lf(i,{signal:this._options.signal});for(const r of this._options.hooks.beforeRetry)if(await r({request:this.request,options:this._options,error:n,retryCount:this._retryCount})===Jo)return;return this._retry(t)}}async _fetch(){for(const i of this._options.hooks.beforeRequest){const r=await i(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}const t=uf(this.request,this._options),n=this.request;return this.request=n.clone(),this._options.timeout===!1?this._options.fetch(n,t):cf(n,t,this.abortController,this._options)}_stream(t,n){const i=Number(t.headers.get("content-length"))||0;let r=0;return t.status===204?(n&&n({percent:1,totalBytes:i,transferredBytes:r},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(a){const s=t.body.getReader();n&&n({percent:0,transferredBytes:0,totalBytes:i},new Uint8Array);async function o(){const{done:c,value:l}=await s.read();if(c){a.close();return}if(n){r+=l.byteLength;const u=i===0?0:r/i;n({percent:u,transferredBytes:r,totalBytes:i},l)}a.enqueue(l),await o()}await o()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}/*! MIT License Â© Sindre Sorhus */const Ei=e=>{const t=(n,i)=>Mn.create(n,nn(e,i));for(const n of Zo)t[n]=(i,r)=>Mn.create(i,nn(e,r,{method:n}));return t.create=n=>Ei(nn(n)),t.extend=n=>(typeof n=="function"&&(n=n(e??{})),Ei(nn(e,n))),t.stop=Jo,t},ff=Ei();async function lt(){return location.pathname==="/background.js"}var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var df=Object.prototype;function hf(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||df;return e===n}var Cn=hf;function mf(e,t){return function(n){return e(t(n))}}var ec=mf,pf=ec,gf=pf(Object.keys,Object),vf=gf,xf=Cn,bf=vf,yf=Object.prototype,_f=yf.hasOwnProperty;function $f(e){if(!xf(e))return bf(e);var t=[];for(var n in Object(e))_f.call(e,n)&&n!="constructor"&&t.push(n);return t}var tc=$f,If=typeof S=="object"&&S&&S.Object===Object&&S,nc=If,Af=nc,wf=typeof self=="object"&&self&&self.Object===Object&&self,Tf=Af||wf||Function("return this")(),we=Tf,Mf=we,Pf=Mf.Symbol,yt=Pf,Gr=yt,ic=Object.prototype,Df=ic.hasOwnProperty,kf=ic.toString,Rt=Gr?Gr.toStringTag:void 0;function Lf(e){var t=Df.call(e,Rt),n=e[Rt];try{e[Rt]=void 0;var i=!0}catch{}var r=kf.call(e);return i&&(t?e[Rt]=n:delete e[Rt]),r}var Of=Lf,Ef=Object.prototype,Rf=Ef.toString;function Cf(e){return Rf.call(e)}var Uf=Cf,Hr=yt,Ff=Of,Sf=Uf,Nf="[object Null]",Bf="[object Undefined]",qr=Hr?Hr.toStringTag:void 0;function jf(e){return e==null?e===void 0?Bf:Nf:qr&&qr in Object(e)?Ff(e):Sf(e)}var _t=jf;function Vf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ue=Vf,Gf=_t,Hf=Ue,qf="[object AsyncFunction]",Wf="[object Function]",zf="[object GeneratorFunction]",Kf="[object Proxy]";function Yf(e){if(!Hf(e))return!1;var t=Gf(e);return t==Wf||t==zf||t==qf||t==Kf}var rc=Yf,Xf=we,Qf=Xf["__core-js_shared__"],Zf=Qf,hi=Zf,Wr=function(){var e=/[^.]+$/.exec(hi&&hi.keys&&hi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Jf(e){return!!Wr&&Wr in e}var ed=Jf,td=Function.prototype,nd=td.toString;function id(e){if(e!=null){try{return nd.call(e)}catch{}try{return e+""}catch{}}return""}var ac=id,rd=rc,ad=ed,sd=Ue,od=ac,cd=/[\\^$.*+?()[\]{}|]/g,ld=/^\[object .+?Constructor\]$/,ud=Function.prototype,fd=Object.prototype,dd=ud.toString,hd=fd.hasOwnProperty,md=RegExp("^"+dd.call(hd).replace(cd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pd(e){if(!sd(e)||ad(e))return!1;var t=rd(e)?md:ld;return t.test(od(e))}var gd=pd;function vd(e,t){return e==null?void 0:e[t]}var xd=vd,bd=gd,yd=xd;function _d(e,t){var n=yd(e,t);return bd(n)?n:void 0}var Xe=_d,$d=Xe,Id=we,Ad=$d(Id,"DataView"),wd=Ad,Td=Xe,Md=we,Pd=Td(Md,"Map"),er=Pd,Dd=Xe,kd=we,Ld=Dd(kd,"Promise"),Od=Ld,Ed=Xe,Rd=we,Cd=Ed(Rd,"Set"),Ud=Cd,Fd=Xe,Sd=we,Nd=Fd(Sd,"WeakMap"),Bd=Nd,Ri=wd,Ci=er,Ui=Od,Fi=Ud,Si=Bd,sc=_t,$t=ac,zr="[object Map]",jd="[object Object]",Kr="[object Promise]",Yr="[object Set]",Xr="[object WeakMap]",Qr="[object DataView]",Vd=$t(Ri),Gd=$t(Ci),Hd=$t(Ui),qd=$t(Fi),Wd=$t(Si),Be=sc;(Ri&&Be(new Ri(new ArrayBuffer(1)))!=Qr||Ci&&Be(new Ci)!=zr||Ui&&Be(Ui.resolve())!=Kr||Fi&&Be(new Fi)!=Yr||Si&&Be(new Si)!=Xr)&&(Be=function(e){var t=sc(e),n=t==jd?e.constructor:void 0,i=n?$t(n):"";if(i)switch(i){case Vd:return Qr;case Gd:return zr;case Hd:return Kr;case qd:return Yr;case Wd:return Xr}return t});var Kt=Be;function zd(e){return e!=null&&typeof e=="object"}var ke=zd,Kd=_t,Yd=ke,Xd="[object Arguments]";function Qd(e){return Yd(e)&&Kd(e)==Xd}var Zd=Qd,Zr=Zd,Jd=ke,oc=Object.prototype,eh=oc.hasOwnProperty,th=oc.propertyIsEnumerable,nh=Zr(function(){return arguments}())?Zr:function(e){return Jd(e)&&eh.call(e,"callee")&&!th.call(e,"callee")},Un=nh,ih=Array.isArray,ge=ih,rh=9007199254740991;function ah(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rh}var tr=ah,sh=rc,oh=tr;function ch(e){return e!=null&&oh(e.length)&&!sh(e)}var It=ch,Pn={exports:{}};function lh(){return!1}var uh=lh;Pn.exports;(function(e,t){var n=we,i=uh,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s?n.Buffer:void 0,c=o?o.isBuffer:void 0,l=c||i;e.exports=l})(Pn,Pn.exports);var Fn=Pn.exports,fh=_t,dh=tr,hh=ke,mh="[object Arguments]",ph="[object Array]",gh="[object Boolean]",vh="[object Date]",xh="[object Error]",bh="[object Function]",yh="[object Map]",_h="[object Number]",$h="[object Object]",Ih="[object RegExp]",Ah="[object Set]",wh="[object String]",Th="[object WeakMap]",Mh="[object ArrayBuffer]",Ph="[object DataView]",Dh="[object Float32Array]",kh="[object Float64Array]",Lh="[object Int8Array]",Oh="[object Int16Array]",Eh="[object Int32Array]",Rh="[object Uint8Array]",Ch="[object Uint8ClampedArray]",Uh="[object Uint16Array]",Fh="[object Uint32Array]",K={};K[Dh]=K[kh]=K[Lh]=K[Oh]=K[Eh]=K[Rh]=K[Ch]=K[Uh]=K[Fh]=!0;K[mh]=K[ph]=K[Mh]=K[gh]=K[Ph]=K[vh]=K[xh]=K[bh]=K[yh]=K[_h]=K[$h]=K[Ih]=K[Ah]=K[wh]=K[Th]=!1;function Sh(e){return hh(e)&&dh(e.length)&&!!K[fh(e)]}var Nh=Sh;function Bh(e){return function(t){return e(t)}}var Sn=Bh,Dn={exports:{}};Dn.exports;(function(e,t){var n=nc,i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===i,s=a&&n.process,o=function(){try{var c=r&&r.require&&r.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Dn,Dn.exports);var nr=Dn.exports,jh=Nh,Vh=Sn,Jr=nr,ea=Jr&&Jr.isTypedArray,Gh=ea?Vh(ea):jh,ir=Gh,Hh=tc,qh=Kt,Wh=Un,zh=ge,Kh=It,Yh=Fn,Xh=Cn,Qh=ir,Zh="[object Map]",Jh="[object Set]",e0=Object.prototype,t0=e0.hasOwnProperty;function n0(e){if(e==null)return!0;if(Kh(e)&&(zh(e)||typeof e=="string"||typeof e.splice=="function"||Yh(e)||Qh(e)||Wh(e)))return!e.length;var t=qh(e);if(t==Zh||t==Jh)return!e.size;if(Xh(e))return!Hh(e).length;for(var n in e)if(t0.call(e,n))return!1;return!0}var i0=n0;const r0=ne(i0),qL=te.defineItem("local:commitHash",{defaultValue:"510865a"}),a0=te.defineItem("local:show",{defaultValue:!0}),Ct=te.defineItem("local:activityToken",{defaultValue:null}),Bt=te.defineItem("local:discordUser",{defaultValue:null}),oe=te.defineItem("local:settings",{defaultValue:{language:void 0,presencesLanguage:void 0,usePlayingStatus:!1,enabled:!0,syncLanguage:!0,heartbeat:!0,choosenCategory:"all",preferApp:!1}}),WL=te.defineItem("local:appVersion",{defaultValue:null}),zL=te.defineItem("local:connected",{defaultValue:!1}),mi=te.defineItem("local:availableLanguages",{defaultValue:[{direction:"ltr",lang:"en-US",nativeName:"English, United States"}]}),KL=te.defineItem("local:lastWhatsNew",{defaultValue:null}),pi=te.defineItem("local:lastVersion",{defaultValue:null}),YL=te.defineItem("local:currentPresence",{defaultValue:null}),fe=te.defineItem("local:oauth2",{defaultValue:null}),je=te.defineItem("local:enabledPresences",{defaultValue:[]}),Ne=te.defineItem("local:addedPresences",{defaultValue:null}),ta=te.defineItem("local:strings",{defaultValue:{}}),na=te.defineItem("local:generalStrings",{defaultValue:{}}),XL=te.defineItem("local:acked260Issues",{fallback:!1,version:1});function s0(e){return te.removeItems([`local:presence_${e}`,`local:${e}_settings`,`local:${e}_availableLanguages`,`local:${e}_strings`,`local:${e}_changedLanguage`])}async function o0(){let e=await te.getItem("local:scienceId");return e||(e=crypto.randomUUID(),await te.setItem("local:scienceId",e),e)}async function c0(e){var r,a,s;const t=Jt.extend("Migrator"),n=await C.storage.local.get(null),i=await C.storage.sync.get(null);if(r0(i)||(t("Migrating user settings from sync storage"),await oe.setValue({usePlayingStatus:!1,enabled:((r=i.settings.enabled)==null?void 0:r.value)||!0,language:e.languageManager.determineDefaultLanguage().lang,presencesLanguage:e.languageManager.determineDefaultLanguage().lang,syncLanguage:!0,heartbeat:!0,choosenCategory:"all",preferApp:!1}),await C.storage.sync.clear()),!!n.lastVersion){if(t("Migrating from %s to %s",n.lastVersion,C.runtime.getManifest().version),n.presences){t("Adding %o",n.presences.map(o=>o.metadata.service)),await e.presenceManager.add(...n.presences.map(o=>o.metadata.service));for(const o of n.presences)t("Setting %s to %s",o.metadata.service,o.enabled?"enabled":"disabled"),await e.presenceManager.setEnabled(o.metadata.service,o.enabled);for(const o of Object.keys(n).filter(c=>c.startsWith("pSettings_"))){for(const c of n[o]){const l=o.replace("pSettings_","");if(c.id!=="lang")t("Setting %s.%s to %s",l,c.id,c.value),await e.presenceManager.setSetting(l,c.id,c.value);else if(c.value){const u=await e.presenceManager.getSettingObject(l,c.id);if(u&&u.value!==c.value){const f=((a=u.values)==null?void 0:a.find(m=>(m==null?void 0:m.value)===c.value))??((s=u.values)==null?void 0:s.find(m=>{var p;return(p=m==null?void 0:m.value)==null?void 0:p.toString().startsWith(c.value)}));f!=null&&f.value&&(t("Setting %s.%s to %s",l,c.id,f.value),await e.presenceManager.setSetting(l,c.id,f.value),e.storageManager.set("local",{[`${l}_changedLanguage`]:!0}))}}}await C.storage.local.remove(o)}}await C.storage.local.remove(["connected","defaultAdded","discordUser","presences","languages"]),t("DONE!")}}async function Ni(){if(!await lt())return;const{enabled:e}=await oe.getValue(),t=await Bt.getValue();C.action.setTitle({title:`PreMiD ${e?t?"":"Not linked":"DISABLED"}`}),C.action.setBadgeText({text:!e||!t?"!":""}),C.action.setBadgeBackgroundColor({color:e?t?[0,0,0,0]:"#ff5050":"#aaaaaa"})}var Bi={exports:{}},gi,ia;function l0(){if(ia)return gi;ia=1;var e=1e3,t=e*60,n=t*60,i=n*24,r=i*7,a=i*365.25;gi=function(u,f){f=f||{};var m=typeof u;if(m==="string"&&u.length>0)return s(u);if(m==="number"&&isFinite(u))return f.long?c(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var m=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return m*a;case"weeks":case"week":case"w":return m*r;case"days":case"day":case"d":return m*i;case"hours":case"hour":case"hrs":case"hr":case"h":return m*n;case"minutes":case"minute":case"mins":case"min":case"m":return m*t;case"seconds":case"second":case"secs":case"sec":case"s":return m*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function o(u){var f=Math.abs(u);return f>=i?Math.round(u/i)+"d":f>=n?Math.round(u/n)+"h":f>=t?Math.round(u/t)+"m":f>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var f=Math.abs(u);return f>=i?l(u,f,i,"day"):f>=n?l(u,f,n,"hour"):f>=t?l(u,f,t,"minute"):f>=e?l(u,f,e,"second"):u+" ms"}function l(u,f,m,p){var d=f>=m*1.5;return Math.round(u/m)+" "+p+(d?"s":"")}return gi}function u0(e){n.debug=n,n.default=n,n.coerce=c,n.disable=a,n.enable=r,n.enabled=s,n.humanize=l0(),n.destroy=l,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let f=0;for(let m=0;m<u.length;m++)f=(f<<5)-f+u.charCodeAt(m),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(u){let f,m=null,p,d;function v(...g){if(!v.enabled)return;const x=v,w=Number(new Date),_=w-(f||w);x.diff=_,x.prev=f,x.curr=w,f=w,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let R=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(Y,q)=>{if(Y==="%%")return"%";R++;const le=n.formatters[q];if(typeof le=="function"){const X=g[R];Y=le.call(x,X),g.splice(R,1),R--}return Y}),n.formatArgs.call(x,g),(x.log||n.log).apply(x,g)}return v.namespace=u,v.useColors=n.useColors(),v.color=n.selectColor(u),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(p!==n.namespaces&&(p=n.namespaces,d=n.enabled(u)),d),set:g=>{m=g}}),typeof n.init=="function"&&n.init(v),v}function i(u,f){const m=n(this.namespace+(typeof f>"u"?":":f)+u);return m.log=this.log,m}function r(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const m=(typeof u=="string"?u:"").split(/[\s,]+/),p=m.length;for(f=0;f<p;f++)m[f]&&(u=m[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function a(){const u=[...n.names.map(o),...n.skips.map(o).map(f=>"-"+f)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,m;for(f=0,m=n.skips.length;f<m;f++)if(n.skips[f].test(u))return!1;for(f=0,m=n.names.length;f<m;f++)if(n.names[f].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var f0=u0;(function(e,t){var n={};t.formatArgs=r,t.save=a,t.load=s,t.useColors=i,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,m=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(m=f))}),l.splice(m,0,u)}t.log=console.debug||console.log||(()=>{});function a(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=f0(t);const{formatters:c}=e.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Bi,Bi.exports);var d0=Bi.exports;const cc=ne(d0);var ji={exports:{}};const h0="2.0.0",lc=256,m0=Number.MAX_SAFE_INTEGER||9007199254740991,p0=16,g0=lc-6,v0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Nn={MAX_LENGTH:lc,MAX_SAFE_COMPONENT_LENGTH:p0,MAX_SAFE_BUILD_LENGTH:g0,MAX_SAFE_INTEGER:m0,RELEASE_TYPES:v0,SEMVER_SPEC_VERSION:h0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},vi={};const x0=typeof process=="object"&&vi&&vi.NODE_DEBUG&&/\bsemver\b/i.test(vi.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Bn=x0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=Nn,a=Bn;t=e.exports={};const s=t.re=[],o=t.safeRe=[],c=t.src=[],l=t.t={};let u=0;const f="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",r],[f,i]],p=v=>{for(const[g,x]of m)v=v.split(`${g}*`).join(`${g}{0,${x}}`).split(`${g}+`).join(`${g}{1,${x}}`);return v},d=(v,g,x)=>{const w=p(g),_=u++;a(v,_,g),l[v]=_,c[_]=g,s[_]=new RegExp(g,x?"g":void 0),o[_]=new RegExp(w,x?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),d("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${f}+`),d("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),d("FULL",`^${c[l.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),d("LOOSE",`^${c[l.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),d("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",c[l.COERCE],!0),d("COERCERTLFULL",c[l.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ji,ji.exports);var Yt=ji.exports;const b0=Object.freeze({loose:!0}),y0=Object.freeze({}),_0=e=>e?typeof e!="object"?b0:e:y0;var rr=_0;const ra=/^[0-9]+$/,uc=(e,t)=>{const n=ra.test(e),i=ra.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1},$0=(e,t)=>uc(t,e);var fc={compareIdentifiers:uc,rcompareIdentifiers:$0};const an=Bn,{MAX_LENGTH:aa,MAX_SAFE_INTEGER:sn}=Nn,{safeRe:sa,t:oa}=Yt,I0=rr,{compareIdentifiers:Qe}=fc;let A0=class _e{constructor(t,n){if(n=I0(n),t instanceof _e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>aa)throw new TypeError(`version is longer than ${aa} characters`);an("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const i=t.trim().match(n.loose?sa[oa.LOOSE]:sa[oa.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>sn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>sn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>sn||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){const a=+r;if(a>=0&&a<sn)return a}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(an("SemVer.compare",this.version,this.options,t),!(t instanceof _e)){if(typeof t=="string"&&t===this.version)return 0;t=new _e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof _e||(t=new _e(t,this.options)),Qe(this.major,t.major)||Qe(this.minor,t.minor)||Qe(this.patch,t.patch)}comparePre(t){if(t instanceof _e||(t=new _e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const i=this.prerelease[n],r=t.prerelease[n];if(an("prerelease compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return Qe(i,r)}while(++n)}compareBuild(t){t instanceof _e||(t=new _e(t,this.options));let n=0;do{const i=this.build[n],r=t.build[n];if(an("build compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return Qe(i,r)}while(++n)}inc(t,n,i){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const r=Number(i)?1:0;if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[r];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(n){let a=[n,r];i===!1&&(a=[n]),Qe(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var se=A0;const ca=se,w0=(e,t,n=!1)=>{if(e instanceof ca)return e;try{return new ca(e,t)}catch(i){if(!n)return null;throw i}};var At=w0;const T0=At,M0=(e,t)=>{const n=T0(e,t);return n?n.version:null};var P0=M0;const D0=At,k0=(e,t)=>{const n=D0(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var L0=k0;const la=se,O0=(e,t,n,i,r)=>{typeof n=="string"&&(r=i,i=n,n=void 0);try{return new la(e instanceof la?e.version:e,n).inc(t,i,r).version}catch{return null}};var E0=O0;const ua=At,R0=(e,t)=>{const n=ua(e,null,!0),i=ua(t,null,!0),r=n.compare(i);if(r===0)return null;const a=r>0,s=a?n:i,o=a?i:n,c=!!s.prerelease.length;if(!!o.prerelease.length&&!c)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"};var C0=R0;const U0=se,F0=(e,t)=>new U0(e,t).major;var S0=F0;const N0=se,B0=(e,t)=>new N0(e,t).minor;var j0=B0;const V0=se,G0=(e,t)=>new V0(e,t).patch;var H0=G0;const q0=At,W0=(e,t)=>{const n=q0(e,t);return n&&n.prerelease.length?n.prerelease:null};var z0=W0;const fa=se,K0=(e,t,n)=>new fa(e,n).compare(new fa(t,n));var be=K0;const Y0=be,X0=(e,t,n)=>Y0(t,e,n);var Q0=X0;const Z0=be,J0=(e,t)=>Z0(e,t,!0);var em=J0;const da=se,tm=(e,t,n)=>{const i=new da(e,n),r=new da(t,n);return i.compare(r)||i.compareBuild(r)};var ar=tm;const nm=ar,im=(e,t)=>e.sort((n,i)=>nm(n,i,t));var rm=im;const am=ar,sm=(e,t)=>e.sort((n,i)=>am(i,n,t));var om=sm;const cm=be,lm=(e,t,n)=>cm(e,t,n)>0;var jn=lm;const um=be,fm=(e,t,n)=>um(e,t,n)<0;var sr=fm;const dm=be,hm=(e,t,n)=>dm(e,t,n)===0;var dc=hm;const mm=be,pm=(e,t,n)=>mm(e,t,n)!==0;var hc=pm;const gm=be,vm=(e,t,n)=>gm(e,t,n)>=0;var or=vm;const xm=be,bm=(e,t,n)=>xm(e,t,n)<=0;var cr=bm;const ym=dc,_m=hc,$m=jn,Im=or,Am=sr,wm=cr,Tm=(e,t,n,i)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return ym(e,n,i);case"!=":return _m(e,n,i);case">":return $m(e,n,i);case">=":return Im(e,n,i);case"<":return Am(e,n,i);case"<=":return wm(e,n,i);default:throw new TypeError(`Invalid operator: ${t}`)}};var mc=Tm;const Mm=se,Pm=At,{safeRe:on,t:cn}=Yt,Dm=(e,t)=>{if(e instanceof Mm)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?on[cn.COERCEFULL]:on[cn.COERCE]);else{const c=t.includePrerelease?on[cn.COERCERTLFULL]:on[cn.COERCERTL];let l;for(;(l=c.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;const i=n[2],r=n[3]||"0",a=n[4]||"0",s=t.includePrerelease&&n[5]?`-${n[5]}`:"",o=t.includePrerelease&&n[6]?`+${n[6]}`:"";return Pm(`${i}.${r}.${a}${s}${o}`,t)};var km=Dm;class Lm{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(t,n)}return this}}var Om=Lm,xi,ha;function ye(){if(ha)return xi;ha=1;const e=/\s+/g;class t{constructor(I,L){if(L=r(L),I instanceof t)return I.loose===!!L.loose&&I.includePrerelease===!!L.includePrerelease?I:new t(I.raw,L);if(I instanceof a)return this.raw=I.value,this.set=[[I]],this.formatted=void 0,this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=I.trim().replace(e," "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(E=>!v(E[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const E of this.set)if(E.length===1&&g(E[0])){this.set=[E];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let I=0;I<this.set.length;I++){I>0&&(this.formatted+="||");const L=this.set[I];for(let P=0;P<L.length;P++)P>0&&(this.formatted+=" "),this.formatted+=L[P].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(I){const P=((this.options.includePrerelease&&p)|(this.options.loose&&d))+":"+I,E=i.get(P);if(E)return E;const D=this.options.loose,U=D?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];I=I.replace(U,Se(this.options.includePrerelease)),s("hyphen replace",I),I=I.replace(c[l.COMPARATORTRIM],u),s("comparator trim",I),I=I.replace(c[l.TILDETRIM],f),s("tilde trim",I),I=I.replace(c[l.CARETTRIM],m),s("caret trim",I);let G=I.split(" ").map(J=>w(J,this.options)).join(" ").split(/\s+/).map(J=>Le(J,this.options));D&&(G=G.filter(J=>(s("loose invalid filter",J,this.options),!!J.match(c[l.COMPARATORLOOSE])))),s("range list",G);const N=new Map,Q=G.map(J=>new a(J,this.options));for(const J of Q){if(v(J))return[J];N.set(J.value,J)}N.size>1&&N.has("")&&N.delete("");const ue=[...N.values()];return i.set(P,ue),ue}intersects(I,L){if(!(I instanceof t))throw new TypeError("a Range is required");return this.set.some(P=>x(P,L)&&I.set.some(E=>x(E,L)&&P.every(D=>E.every(U=>D.intersects(U,L)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new o(I,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if(li(this.set[L],I,this.options))return!0;return!1}}xi=t;const n=Om,i=new n,r=rr,a=Vn(),s=Bn,o=se,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:m}=Yt,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:d}=Nn,v=A=>A.value==="<0.0.0-0",g=A=>A.value==="",x=(A,I)=>{let L=!0;const P=A.slice();let E=P.pop();for(;L&&P.length;)L=P.every(D=>E.intersects(D,I)),E=P.pop();return L},w=(A,I)=>(s("comp",A,I),A=Y(A,I),s("caret",A),A=R(A,I),s("tildes",A),A=le(A,I),s("xrange",A),A=Te(A,I),s("stars",A),A),_=A=>!A||A.toLowerCase()==="x"||A==="*",R=(A,I)=>A.trim().split(/\s+/).map(L=>k(L,I)).join(" "),k=(A,I)=>{const L=I.loose?c[l.TILDELOOSE]:c[l.TILDE];return A.replace(L,(P,E,D,U,G)=>{s("tilde",A,P,E,D,U,G);let N;return _(E)?N="":_(D)?N=`>=${E}.0.0 <${+E+1}.0.0-0`:_(U)?N=`>=${E}.${D}.0 <${E}.${+D+1}.0-0`:G?(s("replaceTilde pr",G),N=`>=${E}.${D}.${U}-${G} <${E}.${+D+1}.0-0`):N=`>=${E}.${D}.${U} <${E}.${+D+1}.0-0`,s("tilde return",N),N})},Y=(A,I)=>A.trim().split(/\s+/).map(L=>q(L,I)).join(" "),q=(A,I)=>{s("caret",A,I);const L=I.loose?c[l.CARETLOOSE]:c[l.CARET],P=I.includePrerelease?"-0":"";return A.replace(L,(E,D,U,G,N)=>{s("caret",A,E,D,U,G,N);let Q;return _(D)?Q="":_(U)?Q=`>=${D}.0.0${P} <${+D+1}.0.0-0`:_(G)?D==="0"?Q=`>=${D}.${U}.0${P} <${D}.${+U+1}.0-0`:Q=`>=${D}.${U}.0${P} <${+D+1}.0.0-0`:N?(s("replaceCaret pr",N),D==="0"?U==="0"?Q=`>=${D}.${U}.${G}-${N} <${D}.${U}.${+G+1}-0`:Q=`>=${D}.${U}.${G}-${N} <${D}.${+U+1}.0-0`:Q=`>=${D}.${U}.${G}-${N} <${+D+1}.0.0-0`):(s("no pr"),D==="0"?U==="0"?Q=`>=${D}.${U}.${G}${P} <${D}.${U}.${+G+1}-0`:Q=`>=${D}.${U}.${G}${P} <${D}.${+U+1}.0-0`:Q=`>=${D}.${U}.${G} <${+D+1}.0.0-0`),s("caret return",Q),Q})},le=(A,I)=>(s("replaceXRanges",A,I),A.split(/\s+/).map(L=>X(L,I)).join(" ")),X=(A,I)=>{A=A.trim();const L=I.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return A.replace(L,(P,E,D,U,G,N)=>{s("xRange",A,P,E,D,U,G,N);const Q=_(D),ue=Q||_(U),J=ue||_(G),Et=J;return E==="="&&Et&&(E=""),N=I.includePrerelease?"-0":"",Q?E===">"||E==="<"?P="<0.0.0-0":P="*":E&&Et?(ue&&(U=0),G=0,E===">"?(E=">=",ue?(D=+D+1,U=0,G=0):(U=+U+1,G=0)):E==="<="&&(E="<",ue?D=+D+1:U=+U+1),E==="<"&&(N="-0"),P=`${E+D}.${U}.${G}${N}`):ue?P=`>=${D}.0.0${N} <${+D+1}.0.0-0`:J&&(P=`>=${D}.${U}.0${N} <${D}.${+U+1}.0-0`),s("xRange return",P),P})},Te=(A,I)=>(s("replaceStars",A,I),A.trim().replace(c[l.STAR],"")),Le=(A,I)=>(s("replaceGTE0",A,I),A.trim().replace(c[I.includePrerelease?l.GTE0PRE:l.GTE0],"")),Se=A=>(I,L,P,E,D,U,G,N,Q,ue,J,Et)=>(_(P)?L="":_(E)?L=`>=${P}.0.0${A?"-0":""}`:_(D)?L=`>=${P}.${E}.0${A?"-0":""}`:U?L=`>=${L}`:L=`>=${L}${A?"-0":""}`,_(Q)?N="":_(ue)?N=`<${+Q+1}.0.0-0`:_(J)?N=`<${Q}.${+ue+1}.0-0`:Et?N=`<=${Q}.${ue}.${J}-${Et}`:A?N=`<${Q}.${ue}.${+J+1}-0`:N=`<=${N}`,`${L} ${N}`.trim()),li=(A,I,L)=>{for(let P=0;P<A.length;P++)if(!A[P].test(I))return!1;if(I.prerelease.length&&!L.includePrerelease){for(let P=0;P<A.length;P++)if(s(A[P].semver),A[P].semver!==a.ANY&&A[P].semver.prerelease.length>0){const E=A[P].semver;if(E.major===I.major&&E.minor===I.minor&&E.patch===I.patch)return!0}return!1}return!0};return xi}var bi,ma;function Vn(){if(ma)return bi;ma=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=n(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const f=this.options.loose?i[r.COMPARATORLOOSE]:i[r.COMPARATOR],m=u.match(f);if(!m)throw new TypeError(`Invalid comparator: ${u}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new o(m[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||a(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||a(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}bi=t;const n=rr,{safeRe:i,t:r}=Yt,a=mc,s=Bn,o=se,c=ye();return bi}const Em=ye(),Rm=(e,t,n)=>{try{t=new Em(t,n)}catch{return!1}return t.test(e)};var Gn=Rm;const Cm=ye(),Um=(e,t)=>new Cm(e,t).set.map(n=>n.map(i=>i.value).join(" ").trim().split(" "));var Fm=Um;const Sm=se,Nm=ye(),Bm=(e,t,n)=>{let i=null,r=null,a=null;try{a=new Nm(t,n)}catch{return null}return e.forEach(s=>{a.test(s)&&(!i||r.compare(s)===-1)&&(i=s,r=new Sm(i,n))}),i};var jm=Bm;const Vm=se,Gm=ye(),Hm=(e,t,n)=>{let i=null,r=null,a=null;try{a=new Gm(t,n)}catch{return null}return e.forEach(s=>{a.test(s)&&(!i||r.compare(s)===1)&&(i=s,r=new Vm(i,n))}),i};var qm=Hm;const yi=se,Wm=ye(),pa=jn,zm=(e,t)=>{e=new Wm(e,t);let n=new yi("0.0.0");if(e.test(n)||(n=new yi("0.0.0-0"),e.test(n)))return n;n=null;for(let i=0;i<e.set.length;++i){const r=e.set[i];let a=null;r.forEach(s=>{const o=new yi(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||pa(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!n||pa(n,a))&&(n=a)}return n&&e.test(n)?n:null};var Km=zm;const Ym=ye(),Xm=(e,t)=>{try{return new Ym(e,t).range||"*"}catch{return null}};var Qm=Xm;const Zm=se,pc=Vn(),{ANY:Jm}=pc,ep=ye(),tp=Gn,ga=jn,va=sr,np=cr,ip=or,rp=(e,t,n,i)=>{e=new Zm(e,i),t=new ep(t,i);let r,a,s,o,c;switch(n){case">":r=ga,a=np,s=va,o=">",c=">=";break;case"<":r=va,a=ip,s=ga,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(tp(e,t,i))return!1;for(let l=0;l<t.set.length;++l){const u=t.set[l];let f=null,m=null;if(u.forEach(p=>{p.semver===Jm&&(p=new pc(">=0.0.0")),f=f||p,m=m||p,r(p.semver,f.semver,i)?f=p:s(p.semver,m.semver,i)&&(m=p)}),f.operator===o||f.operator===c||(!m.operator||m.operator===o)&&a(e,m.semver))return!1;if(m.operator===c&&s(e,m.semver))return!1}return!0};var lr=rp;const ap=lr,sp=(e,t,n)=>ap(e,t,">",n);var op=sp;const cp=lr,lp=(e,t,n)=>cp(e,t,"<",n);var up=lp;const xa=ye(),fp=(e,t,n)=>(e=new xa(e,n),t=new xa(t,n),e.intersects(t,n));var dp=fp;const hp=Gn,mp=be;var pp=(e,t,n)=>{const i=[];let r=null,a=null;const s=e.sort((u,f)=>mp(u,f,n));for(const u of s)hp(u,t,n)?(a=u,r||(r=u)):(a&&i.push([r,a]),a=null,r=null);r&&i.push([r,null]);const o=[];for(const[u,f]of i)u===f?o.push(u):!f&&u===s[0]?o.push("*"):f?u===s[0]?o.push(`<=${f}`):o.push(`${u} - ${f}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t};const ba=ye(),ur=Vn(),{ANY:_i}=ur,Ut=Gn,fr=be,gp=(e,t,n={})=>{if(e===t)return!0;e=new ba(e,n),t=new ba(t,n);let i=!1;e:for(const r of e.set){for(const a of t.set){const s=xp(r,a,n);if(i=i||s!==null,s)continue e}if(i)return!1}return!0},vp=[new ur(">=0.0.0-0")],ya=[new ur(">=0.0.0")],xp=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===_i){if(t.length===1&&t[0].semver===_i)return!0;n.includePrerelease?e=vp:e=ya}if(t.length===1&&t[0].semver===_i){if(n.includePrerelease)return!0;t=ya}const i=new Set;let r,a;for(const p of e)p.operator===">"||p.operator===">="?r=_a(r,p,n):p.operator==="<"||p.operator==="<="?a=$a(a,p,n):i.add(p.semver);if(i.size>1)return null;let s;if(r&&a){if(s=fr(r.semver,a.semver,n),s>0)return null;if(s===0&&(r.operator!==">="||a.operator!=="<="))return null}for(const p of i){if(r&&!Ut(p,String(r),n)||a&&!Ut(p,String(a),n))return null;for(const d of t)if(!Ut(p,String(d),n))return!1;return!0}let o,c,l,u,f=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=r&&!n.includePrerelease&&r.semver.prerelease.length?r.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of t){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",r){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(o=_a(r,p,n),o===p&&o!==r)return!1}else if(r.operator===">="&&!Ut(r.semver,String(p),n))return!1}if(a){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(c=$a(a,p,n),c===p&&c!==a)return!1}else if(a.operator==="<="&&!Ut(a.semver,String(p),n))return!1}if(!p.operator&&(a||r)&&s!==0)return!1}return!(r&&l&&!a&&s!==0||a&&u&&!r&&s!==0||m||f)},_a=(e,t,n)=>{if(!e)return t;const i=fr(e.semver,t.semver,n);return i>0?e:i<0||t.operator===">"&&e.operator===">="?t:e},$a=(e,t,n)=>{if(!e)return t;const i=fr(e.semver,t.semver,n);return i<0?e:i>0||t.operator==="<"&&e.operator==="<="?t:e};var bp=gp;const $i=Yt,Ia=Nn,yp=se,Aa=fc,_p=At,$p=P0,Ip=L0,Ap=E0,wp=C0,Tp=S0,Mp=j0,Pp=H0,Dp=z0,kp=be,Lp=Q0,Op=em,Ep=ar,Rp=rm,Cp=om,Up=jn,Fp=sr,Sp=dc,Np=hc,Bp=or,jp=cr,Vp=mc,Gp=km,Hp=Vn(),qp=ye(),Wp=Gn,zp=Fm,Kp=jm,Yp=qm,Xp=Km,Qp=Qm,Zp=lr,Jp=op,eg=up,tg=dp,ng=pp,ig=bp;var xn={parse:_p,valid:$p,clean:Ip,inc:Ap,diff:wp,major:Tp,minor:Mp,patch:Pp,prerelease:Dp,compare:kp,rcompare:Lp,compareLoose:Op,compareBuild:Ep,sort:Rp,rsort:Cp,gt:Up,lt:Fp,eq:Sp,neq:Np,gte:Bp,lte:jp,cmp:Vp,coerce:Gp,Comparator:Hp,Range:qp,satisfies:Wp,toComparators:zp,maxSatisfying:Kp,minSatisfying:Yp,minVersion:Xp,validRange:Qp,outside:Zp,gtr:Jp,ltr:eg,intersects:tg,simplifyRange:ng,subset:ig,SemVer:yp,re:$i.re,src:$i.src,tokens:$i.t,SEMVER_SPEC_VERSION:Ia.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ia.RELEASE_TYPES,compareIdentifiers:Aa.compareIdentifiers,rcompareIdentifiers:Aa.rcompareIdentifiers};async function rg(e,t){const n=await oe.getValue();n[e]=t,await oe.setValue(n)}function bn(e,t){if(!!!e)throw new Error(t)}function ag(e){return typeof e=="object"&&e!==null}function sg(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const og=/\r\n|[\n\r]/g;function Vi(e,t){let n=0,i=1;for(const r of e.body.matchAll(og)){if(typeof r.index=="number"||sg(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function cg(e){return gc(e.source,Vi(e.source,e.start))}function gc(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,a=e.locationOffset.line-1,s=t.line+a,o=t.line===1?n:0,c=t.column+o,l=`${e.name}:${s}:${c}
`,u=i.split(/\r\n|[\n\r]/g),f=u[r];if(f.length>120){const m=Math.floor(c/80),p=c%80,d=[];for(let v=0;v<f.length;v+=80)d.push(f.slice(v,v+80));return l+wa([[`${s} |`,d[0]],...d.slice(1,m+1).map(v=>["|",v]),["|","^".padStart(p)],["|",d[m+1]]])}return l+wa([[`${s-1} |`,u[r-1]],[`${s} |`,f],["|","^".padStart(c)],[`${s+1} |`,u[r+1]]])}function wa(e){const t=e.filter(([i,r])=>r!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,r])=>i.padStart(n)+(r?" "+r:"")).join(`
`)}function lg(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class dr extends Error{constructor(t,...n){var i,r,a;const{nodes:s,source:o,positions:c,path:l,originalError:u,extensions:f}=lg(n);super(t),this.name="GraphQLError",this.path=l??void 0,this.originalError=u??void 0,this.nodes=Ta(Array.isArray(s)?s:s?[s]:void 0);const m=Ta((i=this.nodes)===null||i===void 0?void 0:i.map(d=>d.loc).filter(d=>d!=null));this.source=o??(m==null||(r=m[0])===null||r===void 0?void 0:r.source),this.positions=c??(m==null?void 0:m.map(d=>d.start)),this.locations=c&&o?c.map(d=>Vi(o,d)):m==null?void 0:m.map(d=>Vi(d.source,d.start));const p=ag(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(a=f??p)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,dr):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+cg(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+gc(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function Ta(e){return e===void 0||e.length===0?void 0:e}function ie(e,t,n){return new dr(`Syntax Error: ${n}`,{source:e,positions:[t]})}class ug{constructor(t,n,i){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class vc{constructor(t,n,i,r,a,s){this.kind=t,this.start=n,this.end=i,this.line=r,this.column=a,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const xc={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},fg=new Set(Object.keys(xc));function Ma(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&fg.has(t)}var nt;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(nt||(nt={}));var Gi;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Gi||(Gi={}));var O;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(O||(O={}));function Hi(e){return e===9||e===32}function zt(e){return e>=48&&e<=57}function bc(e){return e>=97&&e<=122||e>=65&&e<=90}function yc(e){return bc(e)||e===95}function dg(e){return bc(e)||zt(e)||e===95}function hg(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let s=0;s<e.length;++s){var a;const o=e[s],c=mg(o);c!==o.length&&(i=(a=i)!==null&&a!==void 0?a:s,r=s,s!==0&&c<n&&(n=c))}return e.map((s,o)=>o===0?s:s.slice(n)).slice((t=i)!==null&&t!==void 0?t:0,r+1)}function mg(e){let t=0;for(;t<e.length&&Hi(e.charCodeAt(t));)++t;return t}function pg(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=i.length===1,a=i.length>1&&i.slice(1).every(p=>p.length===0||Hi(p.charCodeAt(0))),s=n.endsWith('\\"""'),o=e.endsWith('"')&&!s,c=e.endsWith("\\"),l=o||c,u=!r||e.length>70||l||a||s;let f="";const m=r&&Hi(e.charCodeAt(0));return(u&&!m||a)&&(f+=`
`),f+=n,(u||l)&&(f+=`
`),'"""'+f+'"""'}var b;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(b||(b={}));class gg{constructor(t){const n=new vc(b.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==b.EOF)do if(t.next)t=t.next;else{const n=xg(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===b.COMMENT);return t}}function vg(e){return e===b.BANG||e===b.DOLLAR||e===b.AMP||e===b.PAREN_L||e===b.PAREN_R||e===b.SPREAD||e===b.COLON||e===b.EQUALS||e===b.AT||e===b.BRACKET_L||e===b.BRACKET_R||e===b.BRACE_L||e===b.PIPE||e===b.BRACE_R}function wt(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Hn(e,t){return _c(e.charCodeAt(t))&&$c(e.charCodeAt(t+1))}function _c(e){return e>=55296&&e<=56319}function $c(e){return e>=56320&&e<=57343}function Ke(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return b.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function ee(e,t,n,i,r){const a=e.line,s=1+n-e.lineStart;return new vc(t,n,i,a,s,r)}function xg(e,t){const n=e.source.body,i=n.length;let r=t;for(;r<i;){const a=n.charCodeAt(r);switch(a){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return bg(e,r);case 33:return ee(e,b.BANG,r,r+1);case 36:return ee(e,b.DOLLAR,r,r+1);case 38:return ee(e,b.AMP,r,r+1);case 40:return ee(e,b.PAREN_L,r,r+1);case 41:return ee(e,b.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return ee(e,b.SPREAD,r,r+3);break;case 58:return ee(e,b.COLON,r,r+1);case 61:return ee(e,b.EQUALS,r,r+1);case 64:return ee(e,b.AT,r,r+1);case 91:return ee(e,b.BRACKET_L,r,r+1);case 93:return ee(e,b.BRACKET_R,r,r+1);case 123:return ee(e,b.BRACE_L,r,r+1);case 124:return ee(e,b.PIPE,r,r+1);case 125:return ee(e,b.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?wg(e,r):_g(e,r)}if(zt(a)||a===45)return yg(e,r,a);if(yc(a))return Tg(e,r);throw ie(e.source,r,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:wt(a)||Hn(n,r)?`Unexpected character: ${Ke(e,r)}.`:`Invalid character: ${Ke(e,r)}.`)}return ee(e,b.EOF,i,i)}function bg(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const a=n.charCodeAt(r);if(a===10||a===13)break;if(wt(a))++r;else if(Hn(n,r))r+=2;else break}return ee(e,b.COMMENT,t,r,n.slice(t+1,r))}function yg(e,t,n){const i=e.source.body;let r=t,a=n,s=!1;if(a===45&&(a=i.charCodeAt(++r)),a===48){if(a=i.charCodeAt(++r),zt(a))throw ie(e.source,r,`Invalid number, unexpected digit after 0: ${Ke(e,r)}.`)}else r=Ii(e,r,a),a=i.charCodeAt(r);if(a===46&&(s=!0,a=i.charCodeAt(++r),r=Ii(e,r,a),a=i.charCodeAt(r)),(a===69||a===101)&&(s=!0,a=i.charCodeAt(++r),(a===43||a===45)&&(a=i.charCodeAt(++r)),r=Ii(e,r,a),a=i.charCodeAt(r)),a===46||yc(a))throw ie(e.source,r,`Invalid number, expected digit but got: ${Ke(e,r)}.`);return ee(e,s?b.FLOAT:b.INT,t,r,i.slice(t,r))}function Ii(e,t,n){if(!zt(n))throw ie(e.source,t,`Invalid number, expected digit but got: ${Ke(e,t)}.`);const i=e.source.body;let r=t+1;for(;zt(i.charCodeAt(r));)++r;return r}function _g(e,t){const n=e.source.body,i=n.length;let r=t+1,a=r,s="";for(;r<i;){const o=n.charCodeAt(r);if(o===34)return s+=n.slice(a,r),ee(e,b.STRING,t,r+1,s);if(o===92){s+=n.slice(a,r);const c=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?$g(e,r):Ig(e,r):Ag(e,r);s+=c.value,r+=c.size,a=r;continue}if(o===10||o===13)break;if(wt(o))++r;else if(Hn(n,r))r+=2;else throw ie(e.source,r,`Invalid character within String: ${Ke(e,r)}.`)}throw ie(e.source,r,"Unterminated string.")}function $g(e,t){const n=e.source.body;let i=0,r=3;for(;r<12;){const a=n.charCodeAt(t+r++);if(a===125){if(r<5||!wt(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|jt(a),i<0)break}throw ie(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}function Ig(e,t){const n=e.source.body,i=Pa(n,t+2);if(wt(i))return{value:String.fromCodePoint(i),size:6};if(_c(i)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const r=Pa(n,t+8);if($c(r))return{value:String.fromCodePoint(i,r),size:12}}throw ie(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function Pa(e,t){return jt(e.charCodeAt(t))<<12|jt(e.charCodeAt(t+1))<<8|jt(e.charCodeAt(t+2))<<4|jt(e.charCodeAt(t+3))}function jt(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ag(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw ie(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function wg(e,t){const n=e.source.body,i=n.length;let r=e.lineStart,a=t+3,s=a,o="";const c=[];for(;a<i;){const l=n.charCodeAt(a);if(l===34&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34){o+=n.slice(s,a),c.push(o);const u=ee(e,b.BLOCK_STRING,t,a+3,hg(c).join(`
`));return e.line+=c.length-1,e.lineStart=r,u}if(l===92&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34&&n.charCodeAt(a+3)===34){o+=n.slice(s,a),s=a+1,a+=4;continue}if(l===10||l===13){o+=n.slice(s,a),c.push(o),l===13&&n.charCodeAt(a+1)===10?a+=2:++a,o="",s=a,r=a;continue}if(wt(l))++a;else if(Hn(n,a))a+=2;else throw ie(e.source,a,`Invalid character within String: ${Ke(e,a)}.`)}throw ie(e.source,a,"Unterminated string.")}function Tg(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const a=n.charCodeAt(r);if(dg(a))++r;else break}return ee(e,b.NAME,t,r,n.slice(t,r))}const Mg=10,Ic=2;function hr(e){return qn(e,[])}function qn(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Pg(e,t);default:return String(e)}}function Pg(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(Dg(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:qn(i,n)}else if(Array.isArray(e))return Lg(e,n);return kg(e,n)}function Dg(e){return typeof e.toJSON=="function"}function kg(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>Ic?"["+Og(e)+"]":"{ "+n.map(([r,a])=>r+": "+qn(a,t)).join(", ")+" }"}function Lg(e,t){if(e.length===0)return"[]";if(t.length>Ic)return"[Array]";const n=Math.min(Mg,e.length),i=e.length-n,r=[];for(let a=0;a<n;++a)r.push(qn(e[a],t));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function Og(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const Eg=globalThis.process&&!0,Rg=Eg?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var i;const r=n.prototype[Symbol.toStringTag],a=Symbol.toStringTag in t?t[Symbol.toStringTag]:(i=t.constructor)===null||i===void 0?void 0:i.name;if(r===a){const s=hr(t);throw new Error(`Cannot use ${r} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Ac{constructor(t,n="GraphQL request",i={line:1,column:1}){typeof t=="string"||bn(!1,`Body must be a string. Received: ${hr(t)}.`),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||bn(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||bn(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Cg(e){return Rg(e,Ac)}function Ug(e,t){return new Fg(e,t).parseDocument()}class Fg{constructor(t,n={}){const i=Cg(t)?t:new Ac(t);this._lexer=new gg(i),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(b.NAME);return this.node(t,{kind:O.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:O.DOCUMENT,definitions:this.many(b.SOF,this.parseDefinition,b.EOF)})}parseDefinition(){if(this.peek(b.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===b.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw ie(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(b.BRACE_L))return this.node(t,{kind:O.OPERATION_DEFINITION,operation:nt.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let i;return this.peek(b.NAME)&&(i=this.parseName()),this.node(t,{kind:O.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(b.NAME);switch(t.value){case"query":return nt.QUERY;case"mutation":return nt.MUTATION;case"subscription":return nt.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(b.PAREN_L,this.parseVariableDefinition,b.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:O.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(b.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(b.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(b.DOLLAR),this.node(t,{kind:O.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:O.SELECTION_SET,selections:this.many(b.BRACE_L,this.parseSelection,b.BRACE_R)})}parseSelection(){return this.peek(b.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,r;return this.expectOptionalToken(b.COLON)?(i=n,r=this.parseName()):r=n,this.node(t,{kind:O.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(b.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(b.PAREN_L,n,b.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(b.COLON),this.node(n,{kind:O.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(b.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(b.NAME)?this.node(t,{kind:O.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:O.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case b.BRACKET_L:return this.parseList(t);case b.BRACE_L:return this.parseObject(t);case b.INT:return this.advanceLexer(),this.node(n,{kind:O.INT,value:n.value});case b.FLOAT:return this.advanceLexer(),this.node(n,{kind:O.FLOAT,value:n.value});case b.STRING:case b.BLOCK_STRING:return this.parseStringLiteral();case b.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:O.BOOLEAN,value:!0});case"false":return this.node(n,{kind:O.BOOLEAN,value:!1});case"null":return this.node(n,{kind:O.NULL});default:return this.node(n,{kind:O.ENUM,value:n.value})}case b.DOLLAR:if(t)if(this.expectToken(b.DOLLAR),this._lexer.token.kind===b.NAME){const i=this._lexer.token.value;throw ie(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:O.STRING,value:t.value,block:t.kind===b.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:O.LIST,values:this.any(b.BRACKET_L,n,b.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:O.OBJECT,fields:this.any(b.BRACE_L,n,b.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(b.COLON),this.node(n,{kind:O.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(b.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(b.AT),this.node(n,{kind:O.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(b.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(b.BRACKET_R),n=this.node(t,{kind:O.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(b.BANG)?this.node(t,{kind:O.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:O.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(b.STRING)||this.peek(b.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);return this.node(t,{kind:O.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(b.COLON);const i=this.parseNamedType();return this.node(t,{kind:O.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:O.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:O.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:a,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(b.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseFieldDefinition,b.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(b.COLON);const a=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:O.FIELD_DEFINITION,description:n,name:i,arguments:r,type:a,directives:s})}parseArgumentDefs(){return this.optionalMany(b.PAREN_L,this.parseInputValueDef,b.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(b.COLON);const r=this.parseTypeReference();let a;this.expectOptionalToken(b.EQUALS)&&(a=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:O.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:a,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:O.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:a,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(t,{kind:O.UNION_TYPE_DEFINITION,description:n,name:i,directives:r,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(b.EQUALS)?this.delimitedMany(b.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(t,{kind:O.ENUM_TYPE_DEFINITION,description:n,name:i,directives:r,values:a})}parseEnumValuesDefinition(){return this.optionalMany(b.BRACE_L,this.parseEnumValueDefinition,b.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:O.ENUM_VALUE_DEFINITION,description:n,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw ie(this._lexer.source,this._lexer.token.start,`${ln(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(t,{kind:O.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:r,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseInputValueDef,b.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===b.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:O.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:O.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:O.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:a})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:O.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:a})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:O.UNION_TYPE_EXTENSION,name:n,directives:i,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:O.ENUM_TYPE_EXTENSION,name:n,directives:i,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:O.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(b.AT);const i=this.parseName(),r=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:O.DIRECTIVE_DEFINITION,description:n,name:i,arguments:r,repeatable:a,locations:s})}parseDirectiveLocations(){return this.delimitedMany(b.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Gi,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new ug(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw ie(this._lexer.source,n.start,`Expected ${wc(t)}, found ${ln(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===b.NAME&&n.value===t)this.advanceLexer();else throw ie(this._lexer.source,n.start,`Expected "${t}", found ${ln(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===b.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return ie(this._lexer.source,n.start,`Unexpected ${ln(n)}.`)}any(t,n,i){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(i);)r.push(n.call(this));return r}optionalMany(t,n,i){if(this.expectOptionalToken(t)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(t,n,i){this.expectToken(t);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(t,n){this.expectOptionalToken(t);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==b.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw ie(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function ln(e){const t=e.value;return wc(e.kind)+(t!=null?` "${t}"`:"")}function wc(e){return vg(e)?`"${e}"`:e}function Sg(e){return`"${e.replace(Ng,Bg)}"`}const Ng=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Bg(e){return jg[e.charCodeAt(0)]}const jg=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Vg=Object.freeze({});function Gg(e,t,n=xc){const i=new Map;for(const x of Object.values(O))i.set(x,Hg(t,x));let r,a=Array.isArray(e),s=[e],o=-1,c=[],l=e,u,f;const m=[],p=[];do{o++;const x=o===s.length,w=x&&c.length!==0;if(x){if(u=p.length===0?void 0:m[m.length-1],l=f,f=p.pop(),w)if(a){l=l.slice();let R=0;for(const[k,Y]of c){const q=k-R;Y===null?(l.splice(q,1),R++):l[q]=Y}}else{l=Object.defineProperties({},Object.getOwnPropertyDescriptors(l));for(const[R,k]of c)l[R]=k}o=r.index,s=r.keys,c=r.edits,a=r.inArray,r=r.prev}else if(f){if(u=a?o:s[o],l=f[u],l==null)continue;m.push(u)}let _;if(!Array.isArray(l)){var d,v;Ma(l)||bn(!1,`Invalid AST Node: ${hr(l)}.`);const R=x?(d=i.get(l.kind))===null||d===void 0?void 0:d.leave:(v=i.get(l.kind))===null||v===void 0?void 0:v.enter;if(_=R==null?void 0:R.call(t,l,u,f,m,p),_===Vg)break;if(_===!1){if(!x){m.pop();continue}}else if(_!==void 0&&(c.push([u,_]),!x))if(Ma(_))l=_;else{m.pop();continue}}if(_===void 0&&w&&c.push([u,l]),x)m.pop();else{var g;r={inArray:a,index:o,keys:s,edits:c,prev:r},a=Array.isArray(l),s=a?l:(g=n[l.kind])!==null&&g!==void 0?g:[],o=-1,c=[],f&&p.push(f),f=l}}while(r!==void 0);return c.length!==0?c[c.length-1][1]:e}function Hg(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function qg(e){return Gg(e,zg)}const Wg=80,zg={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>M(e.definitions,`

`)},OperationDefinition:{leave(e){const t=B("(",M(e.variableDefinitions,", "),")"),n=M([e.operation,M([e.name,t]),M(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:i})=>e+": "+t+B(" = ",n)+B(" ",M(i," "))},SelectionSet:{leave:({selections:e})=>xe(e)},Field:{leave({alias:e,name:t,arguments:n,directives:i,selectionSet:r}){const a=B("",e,": ")+t;let s=a+B("(",M(n,", "),")");return s.length>Wg&&(s=a+B(`(
`,yn(M(n,`
`)),`
)`)),M([s,M(i," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+B(" ",M(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>M(["...",B("on ",e),M(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:i,selectionSet:r})=>`fragment ${e}${B("(",M(n,", "),")")} on ${t} ${B("",M(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?pg(e):Sg(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+M(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+M(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+B("(",M(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>B("",e,`
`)+M(["schema",M(t," "),xe(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>B("",e,`
`)+M(["scalar",t,M(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>B("",e,`
`)+M(["type",t,B("implements ",M(n," & ")),M(i," "),xe(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:i,directives:r})=>B("",e,`
`)+t+(Da(n)?B(`(
`,yn(M(n,`
`)),`
)`):B("(",M(n,", "),")"))+": "+i+B(" ",M(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:i,directives:r})=>B("",e,`
`)+M([t+": "+n,B("= ",i),M(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>B("",e,`
`)+M(["interface",t,B("implements ",M(n," & ")),M(i," "),xe(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:i})=>B("",e,`
`)+M(["union",t,M(n," "),B("= ",M(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:i})=>B("",e,`
`)+M(["enum",t,M(n," "),xe(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>B("",e,`
`)+M([t,M(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:i})=>B("",e,`
`)+M(["input",t,M(n," "),xe(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:i,locations:r})=>B("",e,`
`)+"directive @"+t+(Da(n)?B(`(
`,yn(M(n,`
`)),`
)`):B("(",M(n,", "),")"))+(i?" repeatable":"")+" on "+M(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>M(["extend schema",M(e," "),xe(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>M(["extend scalar",e,M(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>M(["extend type",e,B("implements ",M(t," & ")),M(n," "),xe(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>M(["extend interface",e,B("implements ",M(t," & ")),M(n," "),xe(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>M(["extend union",e,M(t," "),B("= ",M(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>M(["extend enum",e,M(t," "),xe(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>M(["extend input",e,M(t," "),xe(n)]," ")}};function M(e,t=""){var n;return(n=e==null?void 0:e.filter(i=>i).join(t))!==null&&n!==void 0?n:""}function xe(e){return B(`{
`,yn(M(e,`
`)),`
}`)}function B(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function yn(e){return B("  ",e.replace(/\n/g,`
  `))}function Da(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}var kn=function(){return kn=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},kn.apply(this,arguments)};var _n=new Map,qi=new Map,Tc=!0,Ln=!1;function Mc(e){return e.replace(/[\s,]+/g," ").trim()}function Kg(e){return Mc(e.source.body.substring(e.start,e.end))}function Yg(e){var t=new Set,n=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,a=Kg(i.loc),s=qi.get(r);s&&!s.has(a)?Tc&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||qi.set(r,s=new Set),s.add(a),t.has(a)||(t.add(a),n.push(i))}else n.push(i)}),kn(kn({},e),{definitions:n})}function Xg(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var a=i[r];a&&typeof a=="object"&&t.add(a)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function Qg(e){var t=Mc(e);if(!_n.has(t)){var n=Ug(e,{experimentalFragmentVariables:Ln,allowLegacyFragmentVariables:Ln});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");_n.set(t,Xg(Yg(n)))}return _n.get(t)}function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(r,a){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=e[a+1]}),Qg(i)}function Zg(){_n.clear(),qi.clear()}function Jg(){Tc=!1}function ev(){Ln=!0}function tv(){Ln=!1}var Ft={gql:de,resetCaches:Zg,disableFragmentWarnings:Jg,enableExperimentalFragmentVariables:ev,disableExperimentalFragmentVariables:tv};(function(e){e.gql=Ft.gql,e.resetCaches=Ft.resetCaches,e.disableFragmentWarnings=Ft.disableFragmentWarnings,e.enableExperimentalFragmentVariables=Ft.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=Ft.disableExperimentalFragmentVariables})(de||(de={}));de.default=de;const nv=de`
    mutation addScience($identifier: String!, $presences: [String], $os: String, $arch: String) {
  addScience(identifier: $identifier, presences: $presences, os: $os, arch: $arch) {
    identifier
  }
}
    `,iv=de`
    query getAccessType($userId: String) {
  alphaBetaAccess(userId: $userId) {
    alphaAccess
    betaAccess
  }
}
    `,rv=de`
    mutation sendFeedback($input: String!, $type: FeedbackType!, $email: String, $discord: String) {
  sendFeedback(input: $input, type: $type, email: $email, discord: $discord) {
    success
  }
}
    `,av=de`
    mutation heartbeat($identifier: String!, $presence: HeartbeatPresenceInput, $extension: HeartbeatExtensionInput!) {
  heartbeat(identifier: $identifier, presence: $presence, extension: $extension) {
    identifier
  }
}
    `,sv=de`
    query getAvailableLanguages {
  availableLanguages {
    lang
    direction
    nativeName
  }
}
    `,ov=de`
    query fetchLangFile($lang: String!) {
  default: strings(lang: "en-US", project: "extension") {
    translations
  }
  strings(lang: $lang, project: "extension") {
    translations
  }
  defaultGeneralStrings: strings(lang: "en-US", project: "presence") {
    translations
  }
  generalStrings: strings(lang: $lang, project: "presence") {
    translations
  }
}
    `,cv=de`
    query fetchPresenceLangFiles($lang: String!, $services: StringOrStringArray!) {
  default: strings(lang: "en-US", project: "presence", presence: $services) {
    translations
  }
  strings(lang: $lang, project: "presence") {
    translations
  }
}
    `,lv=de`
    query getAvailablePresenceLanguages($services: StringOrStringArray!) {
  availablePresenceLanguages(presence: $services) {
    presence
    languages {
      lang
      direction
      nativeName
    }
  }
}
    `;function Pc(e){return{addScience(t,n){return e(nv,t,n)},getAccessType(t,n){return e(iv,t,n)},sendFeedback(t,n){return e(rv,t,n)},heartbeat(t,n){return e(av,t,n)},getAvailableLanguages(t,n){return e(sv,t,n)},fetchLangFile(t,n){return e(ov,t,n)},fetchPresenceLangFiles(t,n){return e(cv,t,n)},getAvailablePresenceLanguages(t,n){return e(lv,t,n)}}}function Dc(e){return async(n,i)=>(await ff.post(e,{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:qg(n),variables:i}),cache:"no-cache"}).json()).data}const un=Pc(Dc(`${`https://${Zi}`}/v4`));Pc(Dc(`${`https://${Zi}`}/v3`));var kc={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new r(u,f||c,m),d=n?n+l:l;return c._events[d]?c._events[d].fn?c._events[d]=[c._events[d],p]:c._events[d].push(p):(c._events[d]=p,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new i:delete c._events[l]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)t.call(u,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=n?n+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,d=new Array(p);m<p;m++)d[m]=f[m].fn;return d},o.prototype.listenerCount=function(l){var u=n?n+l:l,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(l,u,f,m,p,d){var v=n?n+l:l;if(!this._events[v])return!1;var g=this._events[v],x=arguments.length,w,_;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,m),!0;case 5:return g.fn.call(g.context,u,f,m,p),!0;case 6:return g.fn.call(g.context,u,f,m,p,d),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];g.fn.apply(g.context,w)}else{var R=g.length,k;for(_=0;_<R;_++)switch(g[_].once&&this.removeListener(l,g[_].fn,void 0,!0),x){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,u);break;case 3:g[_].fn.call(g[_].context,u,f);break;case 4:g[_].fn.call(g[_].context,u,f,m);break;default:if(!w)for(k=1,w=new Array(x-1);k<x;k++)w[k-1]=arguments[k];g[_].fn.apply(g[_].context,w)}}return!0},o.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},o.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},o.prototype.removeListener=function(l,u,f,m){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return s(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!m||d.once)&&(!f||d.context===f)&&s(this,p);else{for(var v=0,g=[],x=d.length;v<x;v++)(d[v].fn!==u||m&&!d[v].once||f&&d[v].context!==f)&&g.push(d[v]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&s(this,u)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(kc);var uv=kc.exports;const mr=ne(uv),Ht={direction:"ltr",lang:"en-US",nativeName:"English, United States"};class fv extends mr{constructor(n){super();T(this,"initialized");T(this,"log",Jt.extend("LanguageManager"));T(this,"availableLanguages",[Ht]);T(this,"language",this.determineDefaultLanguage().lang);this.pmd=n,this.initialized=lt().then(async i=>{if(await this.getAvailableLanguages(),!i)return;const r=await oe.getValue();this.language=r!=null&&r.language&&this.availableLanguages.map(a=>a.lang).includes(r.language)?r.language:this.determineDefaultLanguage().lang,this.log("Loading translations for %s",this.language),await this.fetchLanguage(),oe.watch(async({language:a},{language:s})=>{a&&s!==a&&(this.language=a,await this.fetchLanguage())})})}async setLanguage(n){if(this.log("Setting language to %s",n),!this.availableLanguages.some(i=>i.lang===n))return this.log("Language %s not available",n);this.language=n,await rg("language",n),await this.fetchLanguage(),await this.pmd.presenceManager.setPresencesLanguage(n)}async fetchLanguage(n){var i,r,a,s;n??(n=this.language);try{const{strings:o,default:c,generalStrings:l,defaultGeneralStrings:u}=await un.fetchLangFile({lang:n});await ta.setValue({default:(i=c[0])==null?void 0:i.translations,strings:(r=o[0])==null?void 0:r.translations}),await na.setValue({default:(a=u[0])==null?void 0:a.translations,strings:(s=l[0])==null?void 0:s.translations}),this.log("Fetched strings for %s",n),this.emit("newLanguageFetched")}catch{this.log("Failed to fetch strings for language %s",n)}}async getAvailableLanguages(){if(await lt()){try{const{availableLanguages:n}=await un.getAvailableLanguages();this.availableLanguages=n.map(i=>({direction:i.direction,lang:i.lang,nativeName:i.nativeName})),await mi.setValue(this.availableLanguages),this.log("Fetched available languages")}catch{this.log("Failed to get available languages"),this.availableLanguages=await mi.getValue()}await this.initializeUserLanguageSettings()}else this.availableLanguages=await mi.getValue()}async initializeUserLanguageSettings(){const n=await oe.getValue();n.language||(n.language=this.determineDefaultLanguage().lang),n.presencesLanguage||(n.presencesLanguage=this.determineDefaultLanguage().lang),await oe.setValue(n)}async getStrings(n){const i={},r=await ta.getValue(),a=await na.getValue(),{strings:s,default:o}=r||{},{strings:c,default:l}=a||{};for(const[u,f]of Object.entries(n))i[u]=(s==null?void 0:s[f])??(o==null?void 0:o[f])??(c==null?void 0:c[f])??(l==null?void 0:l[f])??f;return i}async getPresenceStrings(n,i){var o;const r={},{strings:a,default:s}=((o=await this.pmd.storageManager.get("local",`${n}_strings`))==null?void 0:o[`${n}_strings`])||{};for(const[c,l]of Object.entries(i))r[c]=(a==null?void 0:a[l])??(s==null?void 0:s[l])??l;return r}async getPresenceLanguage(n){const i=await this.pmd.presenceManager.getSettingObject(n,"lang"),r=await oe.getValue();let a=(r==null?void 0:r.language)??this.language;return i!=null&&i.multiLanguage&&(typeof i.value=="string"||i.value===void 0)&&(a=i.value??(r==null?void 0:r.language)??this.language),a}async fetchPresenceStrings(n){var o,c;const i=await this.pmd.presenceManager.getSettingObject(n,"lang"),r=await oe.getValue();let a=(r==null?void 0:r.presencesLanguage)??this.language;const s=[];i!=null&&i.multiLanguage&&(typeof i.value=="string"||i.value===void 0)&&(a=i.value??(r==null?void 0:r.presencesLanguage)??this.language,i.multiLanguage===!0?s.push(n):s.push(...[i.multiLanguage].flat()));try{const{strings:l,default:u}=await un.fetchPresenceLangFiles({lang:a,services:s});await this.pmd.storageManager.set("local",{[`${n}_strings`]:{default:(o=u[0])==null?void 0:o.translations,strings:(c=l[0])==null?void 0:c.translations}}),this.log("Saved presence strings for %s",n)}catch{this.log("Failed to fetch presence strings for %s",n)}}async fetchPresenceAvailableLanguages(...n){try{const{availablePresenceLanguages:i}=await un.getAvailablePresenceLanguages({services:n});await Promise.all(i.map(r=>this.pmd.storageManager.set("local",{[`${r.presence}_availableLanguages`]:r.languages.map(a=>({direction:a.direction,lang:a.lang,nativeName:a.nativeName}))}))),this.log("Saved available presence language for %s service(s)",n.length)}catch{this.log("Failed to fetch available presence language for %s services(s)",n.length)}}getBrowserLanguage(){var i,r;if(!((i=C==null?void 0:C.i18n)!=null&&i.getUILanguage))return;const n=C.i18n.getUILanguage();try{const a=Intl.Locale?new Intl.Locale(n).language:n.split(/[_-]/)[0];return(r=this.availableLanguages.find(s=>s.lang.startsWith(a)))==null?void 0:r.lang}catch{return}}determineDefaultLanguage(){const n=this.getBrowserLanguage();if(n&&this.availableLanguages.map(i=>i.lang).includes(n))return this.availableLanguages.find(i=>i.lang===n);if(n){const i=n.split(/[_-]/)[0],r=this.availableLanguages.find(a=>a.lang.startsWith(i));if(r)return r}return Ht}}var dv=Object.defineProperty,Fe=(e,t)=>dv(e,"name",{value:t,configurable:!0});function hv(e){let t;return()=>t??(t=e())}Fe(hv,"lazy");function*mv(e){let t,n=0,i=1;typeof e=="number"?t=e:(n=e.start,t=e.end,i=e.step??1);for(let r=n;r<t;r+=i)yield r}Fe(mv,"range");function pv(e,t){return Number(BigInt(e)>>22n)%t}Fe(pv,"calculateShardId");function gv(){return typeof globalThis.process>"u"?"fetch"in globalThis&&"WebSocket"in globalThis:"versions"in globalThis.process?"deno"in globalThis.process.versions||"bun"in globalThis.process.versions:!1}Fe(gv,"shouldUseGlobalFetchAndWebSocket");function Lc(){if(typeof globalThis.EdgeRuntime<"u")return"Vercel-Edge-Functions";if(typeof globalThis.R2<"u"&&typeof globalThis.WebSocketPair<"u")return"Cloudflare-Workers";if(typeof globalThis.Netlify<"u")return"Netlify-Edge-Functions";if(typeof globalThis.process!="object")return typeof globalThis.navigator=="object"?globalThis.navigator.userAgent:"UnknownEnvironment";if("versions"in globalThis.process){if("deno"in globalThis.process.versions)return`Deno/${globalThis.process.versions.deno}`;if("bun"in globalThis.process.versions)return`Bun/${globalThis.process.versions.bun}`;if("node"in globalThis.process.versions)return`Node.js/${globalThis.process.versions.node}`}return"UnknownEnvironment"}Fe(Lc,"getUserAgentAppendix");function vv(){Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"))}Fe(vv,"polyfillDispose");function xv(e){return e!==null&&typeof e=="object"&&"toJSON"in e}Fe(xv,"isJSONEncodable");function bv(e){return e!==null&&typeof e=="object"&&"equals"in e}Fe(bv,"isEquatable");var Oc={},Ec={},Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});(function(e){var t=S&&S.__createBinding||(Object.create?function(o,c,l,u){u===void 0&&(u=l);var f=Object.getOwnPropertyDescriptor(c,l);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(o,u,f)}:function(o,c,l,u){u===void 0&&(u=l),o[u]=c[l]}),n=S&&S.__exportStar||function(o,c){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&t(c,o,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.GatewayDispatchEvents=e.GatewayIntentBits=e.GatewayCloseCodes=e.GatewayOpcodes=e.GatewayVersion=void 0,n(Rc,e),e.GatewayVersion="10";var i;(function(o){o[o.Dispatch=0]="Dispatch",o[o.Heartbeat=1]="Heartbeat",o[o.Identify=2]="Identify",o[o.PresenceUpdate=3]="PresenceUpdate",o[o.VoiceStateUpdate=4]="VoiceStateUpdate",o[o.Resume=6]="Resume",o[o.Reconnect=7]="Reconnect",o[o.RequestGuildMembers=8]="RequestGuildMembers",o[o.InvalidSession=9]="InvalidSession",o[o.Hello=10]="Hello",o[o.HeartbeatAck=11]="HeartbeatAck"})(i||(e.GatewayOpcodes=i={}));var r;(function(o){o[o.UnknownError=4e3]="UnknownError",o[o.UnknownOpcode=4001]="UnknownOpcode",o[o.DecodeError=4002]="DecodeError",o[o.NotAuthenticated=4003]="NotAuthenticated",o[o.AuthenticationFailed=4004]="AuthenticationFailed",o[o.AlreadyAuthenticated=4005]="AlreadyAuthenticated",o[o.InvalidSeq=4007]="InvalidSeq",o[o.RateLimited=4008]="RateLimited",o[o.SessionTimedOut=4009]="SessionTimedOut",o[o.InvalidShard=4010]="InvalidShard",o[o.ShardingRequired=4011]="ShardingRequired",o[o.InvalidAPIVersion=4012]="InvalidAPIVersion",o[o.InvalidIntents=4013]="InvalidIntents",o[o.DisallowedIntents=4014]="DisallowedIntents"})(r||(e.GatewayCloseCodes=r={}));var a;(function(o){o[o.Guilds=1]="Guilds",o[o.GuildMembers=2]="GuildMembers",o[o.GuildModeration=4]="GuildModeration",o[o.GuildBans=4]="GuildBans",o[o.GuildEmojisAndStickers=8]="GuildEmojisAndStickers",o[o.GuildIntegrations=16]="GuildIntegrations",o[o.GuildWebhooks=32]="GuildWebhooks",o[o.GuildInvites=64]="GuildInvites",o[o.GuildVoiceStates=128]="GuildVoiceStates",o[o.GuildPresences=256]="GuildPresences",o[o.GuildMessages=512]="GuildMessages",o[o.GuildMessageReactions=1024]="GuildMessageReactions",o[o.GuildMessageTyping=2048]="GuildMessageTyping",o[o.DirectMessages=4096]="DirectMessages",o[o.DirectMessageReactions=8192]="DirectMessageReactions",o[o.DirectMessageTyping=16384]="DirectMessageTyping",o[o.MessageContent=32768]="MessageContent",o[o.GuildScheduledEvents=65536]="GuildScheduledEvents",o[o.AutoModerationConfiguration=1048576]="AutoModerationConfiguration",o[o.AutoModerationExecution=2097152]="AutoModerationExecution",o[o.GuildMessagePolls=16777216]="GuildMessagePolls",o[o.DirectMessagePolls=33554432]="DirectMessagePolls"})(a||(e.GatewayIntentBits=a={}));var s;(function(o){o.ApplicationCommandPermissionsUpdate="APPLICATION_COMMAND_PERMISSIONS_UPDATE",o.ChannelCreate="CHANNEL_CREATE",o.ChannelDelete="CHANNEL_DELETE",o.ChannelPinsUpdate="CHANNEL_PINS_UPDATE",o.ChannelUpdate="CHANNEL_UPDATE",o.GuildBanAdd="GUILD_BAN_ADD",o.GuildBanRemove="GUILD_BAN_REMOVE",o.GuildCreate="GUILD_CREATE",o.GuildDelete="GUILD_DELETE",o.GuildEmojisUpdate="GUILD_EMOJIS_UPDATE",o.GuildIntegrationsUpdate="GUILD_INTEGRATIONS_UPDATE",o.GuildMemberAdd="GUILD_MEMBER_ADD",o.GuildMemberRemove="GUILD_MEMBER_REMOVE",o.GuildMembersChunk="GUILD_MEMBERS_CHUNK",o.GuildMemberUpdate="GUILD_MEMBER_UPDATE",o.GuildRoleCreate="GUILD_ROLE_CREATE",o.GuildRoleDelete="GUILD_ROLE_DELETE",o.GuildRoleUpdate="GUILD_ROLE_UPDATE",o.GuildStickersUpdate="GUILD_STICKERS_UPDATE",o.GuildUpdate="GUILD_UPDATE",o.IntegrationCreate="INTEGRATION_CREATE",o.IntegrationDelete="INTEGRATION_DELETE",o.IntegrationUpdate="INTEGRATION_UPDATE",o.InteractionCreate="INTERACTION_CREATE",o.InviteCreate="INVITE_CREATE",o.InviteDelete="INVITE_DELETE",o.MessageCreate="MESSAGE_CREATE",o.MessageDelete="MESSAGE_DELETE",o.MessageDeleteBulk="MESSAGE_DELETE_BULK",o.MessageReactionAdd="MESSAGE_REACTION_ADD",o.MessageReactionRemove="MESSAGE_REACTION_REMOVE",o.MessageReactionRemoveAll="MESSAGE_REACTION_REMOVE_ALL",o.MessageReactionRemoveEmoji="MESSAGE_REACTION_REMOVE_EMOJI",o.MessageUpdate="MESSAGE_UPDATE",o.PresenceUpdate="PRESENCE_UPDATE",o.StageInstanceCreate="STAGE_INSTANCE_CREATE",o.StageInstanceDelete="STAGE_INSTANCE_DELETE",o.StageInstanceUpdate="STAGE_INSTANCE_UPDATE",o.Ready="READY",o.Resumed="RESUMED",o.ThreadCreate="THREAD_CREATE",o.ThreadDelete="THREAD_DELETE",o.ThreadListSync="THREAD_LIST_SYNC",o.ThreadMembersUpdate="THREAD_MEMBERS_UPDATE",o.ThreadMemberUpdate="THREAD_MEMBER_UPDATE",o.ThreadUpdate="THREAD_UPDATE",o.TypingStart="TYPING_START",o.UserUpdate="USER_UPDATE",o.VoiceServerUpdate="VOICE_SERVER_UPDATE",o.VoiceStateUpdate="VOICE_STATE_UPDATE",o.WebhooksUpdate="WEBHOOKS_UPDATE",o.MessagePollVoteAdd="MESSAGE_POLL_VOTE_ADD",o.MessagePollVoteRemove="MESSAGE_POLL_VOTE_REMOVE",o.GuildScheduledEventCreate="GUILD_SCHEDULED_EVENT_CREATE",o.GuildScheduledEventUpdate="GUILD_SCHEDULED_EVENT_UPDATE",o.GuildScheduledEventDelete="GUILD_SCHEDULED_EVENT_DELETE",o.GuildScheduledEventUserAdd="GUILD_SCHEDULED_EVENT_USER_ADD",o.GuildScheduledEventUserRemove="GUILD_SCHEDULED_EVENT_USER_REMOVE",o.AutoModerationRuleCreate="AUTO_MODERATION_RULE_CREATE",o.AutoModerationRuleUpdate="AUTO_MODERATION_RULE_UPDATE",o.AutoModerationRuleDelete="AUTO_MODERATION_RULE_DELETE",o.AutoModerationActionExecution="AUTO_MODERATION_ACTION_EXECUTION",o.GuildAuditLogEntryCreate="GUILD_AUDIT_LOG_ENTRY_CREATE",o.EntitlementCreate="ENTITLEMENT_CREATE",o.EntitlementUpdate="ENTITLEMENT_UPDATE",o.EntitlementDelete="ENTITLEMENT_DELETE"})(s||(e.GatewayDispatchEvents=s={}))})(Ec);const Tt=ne(Ec),yv=Tt.GatewayCloseCodes,_v=Tt.GatewayDispatchEvents,$v=Tt.GatewayIntentBits,Iv=Tt.GatewayOpcodes,Av=Tt.GatewayVersion,wv=Object.freeze(Object.defineProperty({__proto__:null,GatewayCloseCodes:yv,GatewayDispatchEvents:_v,GatewayIntentBits:$v,GatewayOpcodes:Iv,GatewayVersion:Av,default:Tt},Symbol.toStringTag,{value:"Module"})),Tv=bt(wv);var Cc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingPatterns=void 0,e.FormattingPatterns={User:/<@(?<id>\d{17,20})>/,UserWithNickname:/<@!(?<id>\d{17,20})>/,UserWithOptionalNickname:/<@!?(?<id>\d{17,20})>/,Channel:/<#(?<id>\d{17,20})>/,Role:/<@&(?<id>\d{17,20})>/,SlashCommand:/<\/(?<fullName>(?<name>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32})(?: (?<subcommandOrGroup>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32}))?(?: (?<subcommand>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32}))?):(?<id>\d{17,20})>/u,Emoji:/<(?<animated>a)?:(?<name>\w{2,32}):(?<id>\d{17,20})>/,AnimatedEmoji:/<(?<animated>a):(?<name>\w{2,32}):(?<id>\d{17,20})>/,StaticEmoji:/<:(?<name>\w{2,32}):(?<id>\d{17,20})>/,Timestamp:/<t:(?<timestamp>-?\d{1,13})(:(?<style>[DFRTdft]))?>/,DefaultStyledTimestamp:/<t:(?<timestamp>-?\d{1,13})>/,StyledTimestamp:/<t:(?<timestamp>-?\d{1,13}):(?<style>[DFRTdft])>/},Object.freeze(e.FormattingPatterns)})(Cc);const Uc=ne(Cc),Mv=Uc.FormattingPatterns,Pv=Object.freeze(Object.defineProperty({__proto__:null,FormattingPatterns:Mv,default:Uc},Symbol.toStringTag,{value:"Module"})),Dv=bt(Pv);var Fc={},Sc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionFlagsBits=void 0,e.PermissionFlagsBits={CreateInstantInvite:1n<<0n,KickMembers:1n<<1n,BanMembers:1n<<2n,Administrator:1n<<3n,ManageChannels:1n<<4n,ManageGuild:1n<<5n,AddReactions:1n<<6n,ViewAuditLog:1n<<7n,PrioritySpeaker:1n<<8n,Stream:1n<<9n,ViewChannel:1n<<10n,SendMessages:1n<<11n,SendTTSMessages:1n<<12n,ManageMessages:1n<<13n,EmbedLinks:1n<<14n,AttachFiles:1n<<15n,ReadMessageHistory:1n<<16n,MentionEveryone:1n<<17n,UseExternalEmojis:1n<<18n,ViewGuildInsights:1n<<19n,Connect:1n<<20n,Speak:1n<<21n,MuteMembers:1n<<22n,DeafenMembers:1n<<23n,MoveMembers:1n<<24n,UseVAD:1n<<25n,ChangeNickname:1n<<26n,ManageNicknames:1n<<27n,ManageRoles:1n<<28n,ManageWebhooks:1n<<29n,ManageEmojisAndStickers:1n<<30n,ManageGuildExpressions:1n<<30n,UseApplicationCommands:1n<<31n,RequestToSpeak:1n<<32n,ManageEvents:1n<<33n,ManageThreads:1n<<34n,CreatePublicThreads:1n<<35n,CreatePrivateThreads:1n<<36n,UseExternalStickers:1n<<37n,SendMessagesInThreads:1n<<38n,UseEmbeddedActivities:1n<<39n,ModerateMembers:1n<<40n,ViewCreatorMonetizationAnalytics:1n<<41n,UseSoundboard:1n<<42n,CreateGuildExpressions:1n<<43n,CreateEvents:1n<<44n,UseExternalSounds:1n<<45n,SendVoiceMessages:1n<<46n,SendPolls:1n<<49n,UseExternalApps:1n<<50n},Object.freeze(e.PermissionFlagsBits)})(Sc);var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.ApplicationRoleConnectionMetadataType=ut.ApplicationFlags=void 0;var ka;(function(e){e[e.EmbeddedReleased=2]="EmbeddedReleased",e[e.ManagedEmoji=4]="ManagedEmoji",e[e.EmbeddedIAP=8]="EmbeddedIAP",e[e.GroupDMCreate=16]="GroupDMCreate",e[e.ApplicationAutoModerationRuleCreateBadge=64]="ApplicationAutoModerationRuleCreateBadge",e[e.RPCHasConnected=2048]="RPCHasConnected",e[e.GatewayPresence=4096]="GatewayPresence",e[e.GatewayPresenceLimited=8192]="GatewayPresenceLimited",e[e.GatewayGuildMembers=16384]="GatewayGuildMembers",e[e.GatewayGuildMembersLimited=32768]="GatewayGuildMembersLimited",e[e.VerificationPendingGuildLimit=65536]="VerificationPendingGuildLimit",e[e.Embedded=131072]="Embedded",e[e.GatewayMessageContent=262144]="GatewayMessageContent",e[e.GatewayMessageContentLimited=524288]="GatewayMessageContentLimited",e[e.EmbeddedFirstParty=1048576]="EmbeddedFirstParty",e[e.ApplicationCommandBadge=8388608]="ApplicationCommandBadge"})(ka||(ut.ApplicationFlags=ka={}));var La;(function(e){e[e.IntegerLessThanOrEqual=1]="IntegerLessThanOrEqual",e[e.IntegerGreaterThanOrEqual=2]="IntegerGreaterThanOrEqual",e[e.IntegerEqual=3]="IntegerEqual",e[e.IntegerNotEqual=4]="IntegerNotEqual",e[e.DatetimeLessThanOrEqual=5]="DatetimeLessThanOrEqual",e[e.DatetimeGreaterThanOrEqual=6]="DatetimeGreaterThanOrEqual",e[e.BooleanEqual=7]="BooleanEqual",e[e.BooleanNotEqual=8]="BooleanNotEqual"})(La||(ut.ApplicationRoleConnectionMetadataType=La={}));var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.AuditLogOptionsType=ft.AuditLogEvent=void 0;var Oa;(function(e){e[e.GuildUpdate=1]="GuildUpdate",e[e.ChannelCreate=10]="ChannelCreate",e[e.ChannelUpdate=11]="ChannelUpdate",e[e.ChannelDelete=12]="ChannelDelete",e[e.ChannelOverwriteCreate=13]="ChannelOverwriteCreate",e[e.ChannelOverwriteUpdate=14]="ChannelOverwriteUpdate",e[e.ChannelOverwriteDelete=15]="ChannelOverwriteDelete",e[e.MemberKick=20]="MemberKick",e[e.MemberPrune=21]="MemberPrune",e[e.MemberBanAdd=22]="MemberBanAdd",e[e.MemberBanRemove=23]="MemberBanRemove",e[e.MemberUpdate=24]="MemberUpdate",e[e.MemberRoleUpdate=25]="MemberRoleUpdate",e[e.MemberMove=26]="MemberMove",e[e.MemberDisconnect=27]="MemberDisconnect",e[e.BotAdd=28]="BotAdd",e[e.RoleCreate=30]="RoleCreate",e[e.RoleUpdate=31]="RoleUpdate",e[e.RoleDelete=32]="RoleDelete",e[e.InviteCreate=40]="InviteCreate",e[e.InviteUpdate=41]="InviteUpdate",e[e.InviteDelete=42]="InviteDelete",e[e.WebhookCreate=50]="WebhookCreate",e[e.WebhookUpdate=51]="WebhookUpdate",e[e.WebhookDelete=52]="WebhookDelete",e[e.EmojiCreate=60]="EmojiCreate",e[e.EmojiUpdate=61]="EmojiUpdate",e[e.EmojiDelete=62]="EmojiDelete",e[e.MessageDelete=72]="MessageDelete",e[e.MessageBulkDelete=73]="MessageBulkDelete",e[e.MessagePin=74]="MessagePin",e[e.MessageUnpin=75]="MessageUnpin",e[e.IntegrationCreate=80]="IntegrationCreate",e[e.IntegrationUpdate=81]="IntegrationUpdate",e[e.IntegrationDelete=82]="IntegrationDelete",e[e.StageInstanceCreate=83]="StageInstanceCreate",e[e.StageInstanceUpdate=84]="StageInstanceUpdate",e[e.StageInstanceDelete=85]="StageInstanceDelete",e[e.StickerCreate=90]="StickerCreate",e[e.StickerUpdate=91]="StickerUpdate",e[e.StickerDelete=92]="StickerDelete",e[e.GuildScheduledEventCreate=100]="GuildScheduledEventCreate",e[e.GuildScheduledEventUpdate=101]="GuildScheduledEventUpdate",e[e.GuildScheduledEventDelete=102]="GuildScheduledEventDelete",e[e.ThreadCreate=110]="ThreadCreate",e[e.ThreadUpdate=111]="ThreadUpdate",e[e.ThreadDelete=112]="ThreadDelete",e[e.ApplicationCommandPermissionUpdate=121]="ApplicationCommandPermissionUpdate",e[e.AutoModerationRuleCreate=140]="AutoModerationRuleCreate",e[e.AutoModerationRuleUpdate=141]="AutoModerationRuleUpdate",e[e.AutoModerationRuleDelete=142]="AutoModerationRuleDelete",e[e.AutoModerationBlockMessage=143]="AutoModerationBlockMessage",e[e.AutoModerationFlagToChannel=144]="AutoModerationFlagToChannel",e[e.AutoModerationUserCommunicationDisabled=145]="AutoModerationUserCommunicationDisabled",e[e.CreatorMonetizationRequestCreated=150]="CreatorMonetizationRequestCreated",e[e.CreatorMonetizationTermsAccepted=151]="CreatorMonetizationTermsAccepted",e[e.OnboardingPromptCreate=163]="OnboardingPromptCreate",e[e.OnboardingPromptUpdate=164]="OnboardingPromptUpdate",e[e.OnboardingPromptDelete=165]="OnboardingPromptDelete",e[e.OnboardingCreate=166]="OnboardingCreate",e[e.OnboardingUpdate=167]="OnboardingUpdate",e[e.HomeSettingsCreate=190]="HomeSettingsCreate",e[e.HomeSettingsUpdate=191]="HomeSettingsUpdate"})(Oa||(ft.AuditLogEvent=Oa={}));var Ea;(function(e){e.Role="0",e.Member="1"})(Ea||(ft.AuditLogOptionsType=Ea={}));var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.AutoModerationActionType=$e.AutoModerationRuleEventType=$e.AutoModerationRuleKeywordPresetType=$e.AutoModerationRuleTriggerType=void 0;var Ra;(function(e){e[e.Keyword=1]="Keyword",e[e.Spam=3]="Spam",e[e.KeywordPreset=4]="KeywordPreset",e[e.MentionSpam=5]="MentionSpam",e[e.MemberProfile=6]="MemberProfile"})(Ra||($e.AutoModerationRuleTriggerType=Ra={}));var Ca;(function(e){e[e.Profanity=1]="Profanity",e[e.SexualContent=2]="SexualContent",e[e.Slurs=3]="Slurs"})(Ca||($e.AutoModerationRuleKeywordPresetType=Ca={}));var Ua;(function(e){e[e.MessageSend=1]="MessageSend",e[e.MemberUpdate=2]="MemberUpdate"})(Ua||($e.AutoModerationRuleEventType=Ua={}));var Fa;(function(e){e[e.BlockMessage=1]="BlockMessage",e[e.SendAlertMessage=2]="SendAlertMessage",e[e.Timeout=3]="Timeout",e[e.BlockMemberInteraction=4]="BlockMemberInteraction"})(Fa||($e.AutoModerationActionType=Fa={}));var F={};Object.defineProperty(F,"__esModule",{value:!0});F.ChannelFlags=F.SelectMenuDefaultValueType=F.TextInputStyle=F.ButtonStyle=F.ComponentType=F.AllowedMentionsTypes=F.AttachmentFlags=F.EmbedType=F.ThreadMemberFlags=F.ThreadAutoArchiveDuration=F.OverwriteType=F.MessageFlags=F.MessageReferenceType=F.MessageActivityType=F.MessageType=F.VideoQualityMode=F.ChannelType=F.ForumLayoutType=F.SortOrderType=void 0;var Sa;(function(e){e[e.LatestActivity=0]="LatestActivity",e[e.CreationDate=1]="CreationDate"})(Sa||(F.SortOrderType=Sa={}));var Na;(function(e){e[e.NotSet=0]="NotSet",e[e.ListView=1]="ListView",e[e.GalleryView=2]="GalleryView"})(Na||(F.ForumLayoutType=Na={}));var Ba;(function(e){e[e.GuildText=0]="GuildText",e[e.DM=1]="DM",e[e.GuildVoice=2]="GuildVoice",e[e.GroupDM=3]="GroupDM",e[e.GuildCategory=4]="GuildCategory",e[e.GuildAnnouncement=5]="GuildAnnouncement",e[e.AnnouncementThread=10]="AnnouncementThread",e[e.PublicThread=11]="PublicThread",e[e.PrivateThread=12]="PrivateThread",e[e.GuildStageVoice=13]="GuildStageVoice",e[e.GuildDirectory=14]="GuildDirectory",e[e.GuildForum=15]="GuildForum",e[e.GuildMedia=16]="GuildMedia",e[e.GuildNews=5]="GuildNews",e[e.GuildNewsThread=10]="GuildNewsThread",e[e.GuildPublicThread=11]="GuildPublicThread",e[e.GuildPrivateThread=12]="GuildPrivateThread"})(Ba||(F.ChannelType=Ba={}));var ja;(function(e){e[e.Auto=1]="Auto",e[e.Full=2]="Full"})(ja||(F.VideoQualityMode=ja={}));var Va;(function(e){e[e.Default=0]="Default",e[e.RecipientAdd=1]="RecipientAdd",e[e.RecipientRemove=2]="RecipientRemove",e[e.Call=3]="Call",e[e.ChannelNameChange=4]="ChannelNameChange",e[e.ChannelIconChange=5]="ChannelIconChange",e[e.ChannelPinnedMessage=6]="ChannelPinnedMessage",e[e.UserJoin=7]="UserJoin",e[e.GuildBoost=8]="GuildBoost",e[e.GuildBoostTier1=9]="GuildBoostTier1",e[e.GuildBoostTier2=10]="GuildBoostTier2",e[e.GuildBoostTier3=11]="GuildBoostTier3",e[e.ChannelFollowAdd=12]="ChannelFollowAdd",e[e.GuildDiscoveryDisqualified=14]="GuildDiscoveryDisqualified",e[e.GuildDiscoveryRequalified=15]="GuildDiscoveryRequalified",e[e.GuildDiscoveryGracePeriodInitialWarning=16]="GuildDiscoveryGracePeriodInitialWarning",e[e.GuildDiscoveryGracePeriodFinalWarning=17]="GuildDiscoveryGracePeriodFinalWarning",e[e.ThreadCreated=18]="ThreadCreated",e[e.Reply=19]="Reply",e[e.ChatInputCommand=20]="ChatInputCommand",e[e.ThreadStarterMessage=21]="ThreadStarterMessage",e[e.GuildInviteReminder=22]="GuildInviteReminder",e[e.ContextMenuCommand=23]="ContextMenuCommand",e[e.AutoModerationAction=24]="AutoModerationAction",e[e.RoleSubscriptionPurchase=25]="RoleSubscriptionPurchase",e[e.InteractionPremiumUpsell=26]="InteractionPremiumUpsell",e[e.StageStart=27]="StageStart",e[e.StageEnd=28]="StageEnd",e[e.StageSpeaker=29]="StageSpeaker",e[e.StageRaiseHand=30]="StageRaiseHand",e[e.StageTopic=31]="StageTopic",e[e.GuildApplicationPremiumSubscription=32]="GuildApplicationPremiumSubscription",e[e.GuildIncidentAlertModeEnabled=36]="GuildIncidentAlertModeEnabled",e[e.GuildIncidentAlertModeDisabled=37]="GuildIncidentAlertModeDisabled",e[e.GuildIncidentReportRaid=38]="GuildIncidentReportRaid",e[e.GuildIncidentReportFalseAlarm=39]="GuildIncidentReportFalseAlarm"})(Va||(F.MessageType=Va={}));var Ga;(function(e){e[e.Join=1]="Join",e[e.Spectate=2]="Spectate",e[e.Listen=3]="Listen",e[e.JoinRequest=5]="JoinRequest"})(Ga||(F.MessageActivityType=Ga={}));var Ha;(function(e){e[e.Default=0]="Default",e[e.Forward=1]="Forward"})(Ha||(F.MessageReferenceType=Ha={}));var qa;(function(e){e[e.Crossposted=1]="Crossposted",e[e.IsCrosspost=2]="IsCrosspost",e[e.SuppressEmbeds=4]="SuppressEmbeds",e[e.SourceMessageDeleted=8]="SourceMessageDeleted",e[e.Urgent=16]="Urgent",e[e.HasThread=32]="HasThread",e[e.Ephemeral=64]="Ephemeral",e[e.Loading=128]="Loading",e[e.FailedToMentionSomeRolesInThread=256]="FailedToMentionSomeRolesInThread",e[e.ShouldShowLinkNotDiscordWarning=1024]="ShouldShowLinkNotDiscordWarning",e[e.SuppressNotifications=4096]="SuppressNotifications",e[e.IsVoiceMessage=8192]="IsVoiceMessage"})(qa||(F.MessageFlags=qa={}));var Wa;(function(e){e[e.Role=0]="Role",e[e.Member=1]="Member"})(Wa||(F.OverwriteType=Wa={}));var za;(function(e){e[e.OneHour=60]="OneHour",e[e.OneDay=1440]="OneDay",e[e.ThreeDays=4320]="ThreeDays",e[e.OneWeek=10080]="OneWeek"})(za||(F.ThreadAutoArchiveDuration=za={}));var Ka;(function(e){e[e.HasInteracted=1]="HasInteracted",e[e.AllMessages=2]="AllMessages",e[e.OnlyMentions=4]="OnlyMentions",e[e.NoMessages=8]="NoMessages"})(Ka||(F.ThreadMemberFlags=Ka={}));var Ya;(function(e){e.Rich="rich",e.Image="image",e.Video="video",e.GIFV="gifv",e.Article="article",e.Link="link",e.AutoModerationMessage="auto_moderation_message"})(Ya||(F.EmbedType=Ya={}));var Xa;(function(e){e[e.IsRemix=4]="IsRemix"})(Xa||(F.AttachmentFlags=Xa={}));var Qa;(function(e){e.Everyone="everyone",e.Role="roles",e.User="users"})(Qa||(F.AllowedMentionsTypes=Qa={}));var Za;(function(e){e[e.ActionRow=1]="ActionRow",e[e.Button=2]="Button",e[e.StringSelect=3]="StringSelect",e[e.TextInput=4]="TextInput",e[e.UserSelect=5]="UserSelect",e[e.RoleSelect=6]="RoleSelect",e[e.MentionableSelect=7]="MentionableSelect",e[e.ChannelSelect=8]="ChannelSelect",e[e.SelectMenu=3]="SelectMenu"})(Za||(F.ComponentType=Za={}));var Ja;(function(e){e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Success=3]="Success",e[e.Danger=4]="Danger",e[e.Link=5]="Link",e[e.Premium=6]="Premium"})(Ja||(F.ButtonStyle=Ja={}));var es;(function(e){e[e.Short=1]="Short",e[e.Paragraph=2]="Paragraph"})(es||(F.TextInputStyle=es={}));var ts;(function(e){e.Channel="channel",e.Role="role",e.User="user"})(ts||(F.SelectMenuDefaultValueType=ts={}));var ns;(function(e){e[e.GuildFeedRemoved=1]="GuildFeedRemoved",e[e.Pinned=2]="Pinned",e[e.ActiveChannelsRemoved=4]="ActiveChannelsRemoved",e[e.RequireTag=16]="RequireTag",e[e.IsSpam=32]="IsSpam",e[e.IsGuildResourceChannel=128]="IsGuildResourceChannel",e[e.ClydeAI=256]="ClydeAI",e[e.IsScheduledForDeletion=512]="IsScheduledForDeletion",e[e.HideMediaDownloadOptions=32768]="HideMediaDownloadOptions"})(ns||(F.ChannelFlags=ns={}));var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.ActivityFlags=Ie.ActivityType=Ie.ActivityPlatform=Ie.PresenceUpdateStatus=void 0;var is;(function(e){e.Online="online",e.DoNotDisturb="dnd",e.Idle="idle",e.Invisible="invisible",e.Offline="offline"})(is||(Ie.PresenceUpdateStatus=is={}));var rs;(function(e){e.Desktop="desktop",e.Xbox="xbox",e.Samsung="samsung",e.IOS="ios",e.Android="android",e.Embedded="embedded",e.PS4="ps4",e.PS5="ps5"})(rs||(Ie.ActivityPlatform=rs={}));var as;(function(e){e[e.Playing=0]="Playing",e[e.Streaming=1]="Streaming",e[e.Listening=2]="Listening",e[e.Watching=3]="Watching",e[e.Custom=4]="Custom",e[e.Competing=5]="Competing"})(as||(Ie.ActivityType=as={}));var ss;(function(e){e[e.Instance=1]="Instance",e[e.Join=2]="Join",e[e.Spectate=4]="Spectate",e[e.JoinRequest=8]="JoinRequest",e[e.Sync=16]="Sync",e[e.Play=32]="Play",e[e.PartyPrivacyFriends=64]="PartyPrivacyFriends",e[e.PartyPrivacyVoiceChannel=128]="PartyPrivacyVoiceChannel",e[e.Embedded=256]="Embedded"})(ss||(Ie.ActivityFlags=ss={}));var V={};Object.defineProperty(V,"__esModule",{value:!0});V.GuildOnboardingPromptType=V.GuildOnboardingMode=V.MembershipScreeningFieldType=V.GuildWidgetStyle=V.IntegrationExpireBehavior=V.GuildMemberFlags=V.GuildFeature=V.GuildSystemChannelFlags=V.GuildHubType=V.GuildPremiumTier=V.GuildVerificationLevel=V.GuildNSFWLevel=V.GuildMFALevel=V.GuildExplicitContentFilter=V.GuildDefaultMessageNotifications=void 0;var os;(function(e){e[e.AllMessages=0]="AllMessages",e[e.OnlyMentions=1]="OnlyMentions"})(os||(V.GuildDefaultMessageNotifications=os={}));var cs;(function(e){e[e.Disabled=0]="Disabled",e[e.MembersWithoutRoles=1]="MembersWithoutRoles",e[e.AllMembers=2]="AllMembers"})(cs||(V.GuildExplicitContentFilter=cs={}));var ls;(function(e){e[e.None=0]="None",e[e.Elevated=1]="Elevated"})(ls||(V.GuildMFALevel=ls={}));var us;(function(e){e[e.Default=0]="Default",e[e.Explicit=1]="Explicit",e[e.Safe=2]="Safe",e[e.AgeRestricted=3]="AgeRestricted"})(us||(V.GuildNSFWLevel=us={}));var fs;(function(e){e[e.None=0]="None",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"})(fs||(V.GuildVerificationLevel=fs={}));var ds;(function(e){e[e.None=0]="None",e[e.Tier1=1]="Tier1",e[e.Tier2=2]="Tier2",e[e.Tier3=3]="Tier3"})(ds||(V.GuildPremiumTier=ds={}));var hs;(function(e){e[e.Default=0]="Default",e[e.HighSchool=1]="HighSchool",e[e.College=2]="College"})(hs||(V.GuildHubType=hs={}));var ms;(function(e){e[e.SuppressJoinNotifications=1]="SuppressJoinNotifications",e[e.SuppressPremiumSubscriptions=2]="SuppressPremiumSubscriptions",e[e.SuppressGuildReminderNotifications=4]="SuppressGuildReminderNotifications",e[e.SuppressJoinNotificationReplies=8]="SuppressJoinNotificationReplies",e[e.SuppressRoleSubscriptionPurchaseNotifications=16]="SuppressRoleSubscriptionPurchaseNotifications",e[e.SuppressRoleSubscriptionPurchaseNotificationReplies=32]="SuppressRoleSubscriptionPurchaseNotificationReplies"})(ms||(V.GuildSystemChannelFlags=ms={}));var ps;(function(e){e.AnimatedBanner="ANIMATED_BANNER",e.AnimatedIcon="ANIMATED_ICON",e.ApplicationCommandPermissionsV2="APPLICATION_COMMAND_PERMISSIONS_V2",e.AutoModeration="AUTO_MODERATION",e.Banner="BANNER",e.Community="COMMUNITY",e.CreatorMonetizableProvisional="CREATOR_MONETIZABLE_PROVISIONAL",e.CreatorStorePage="CREATOR_STORE_PAGE",e.DeveloperSupportServer="DEVELOPER_SUPPORT_SERVER",e.Discoverable="DISCOVERABLE",e.Featurable="FEATURABLE",e.HasDirectoryEntry="HAS_DIRECTORY_ENTRY",e.Hub="HUB",e.InvitesDisabled="INVITES_DISABLED",e.InviteSplash="INVITE_SPLASH",e.LinkedToHub="LINKED_TO_HUB",e.MemberVerificationGateEnabled="MEMBER_VERIFICATION_GATE_ENABLED",e.MonetizationEnabled="MONETIZATION_ENABLED",e.MoreStickers="MORE_STICKERS",e.News="NEWS",e.Partnered="PARTNERED",e.PreviewEnabled="PREVIEW_ENABLED",e.PrivateThreads="PRIVATE_THREADS",e.RaidAlertsDisabled="RAID_ALERTS_DISABLED",e.RelayEnabled="RELAY_ENABLED",e.RoleIcons="ROLE_ICONS",e.RoleSubscriptionsAvailableForPurchase="ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE",e.RoleSubscriptionsEnabled="ROLE_SUBSCRIPTIONS_ENABLED",e.TicketedEventsEnabled="TICKETED_EVENTS_ENABLED",e.VanityURL="VANITY_URL",e.Verified="VERIFIED",e.VIPRegions="VIP_REGIONS",e.WelcomeScreenEnabled="WELCOME_SCREEN_ENABLED"})(ps||(V.GuildFeature=ps={}));var gs;(function(e){e[e.DidRejoin=1]="DidRejoin",e[e.CompletedOnboarding=2]="CompletedOnboarding",e[e.BypassesVerification=4]="BypassesVerification",e[e.StartedOnboarding=8]="StartedOnboarding",e[e.StartedHomeActions=32]="StartedHomeActions",e[e.CompletedHomeActions=64]="CompletedHomeActions",e[e.AutomodQuarantinedUsernameOrGuildNickname=128]="AutomodQuarantinedUsernameOrGuildNickname",e[e.AutomodQuarantinedBio=256]="AutomodQuarantinedBio"})(gs||(V.GuildMemberFlags=gs={}));var vs;(function(e){e[e.RemoveRole=0]="RemoveRole",e[e.Kick=1]="Kick"})(vs||(V.IntegrationExpireBehavior=vs={}));var xs;(function(e){e.Shield="shield",e.Banner1="banner1",e.Banner2="banner2",e.Banner3="banner3",e.Banner4="banner4"})(xs||(V.GuildWidgetStyle=xs={}));var bs;(function(e){e.Terms="TERMS"})(bs||(V.MembershipScreeningFieldType=bs={}));var ys;(function(e){e[e.OnboardingDefault=0]="OnboardingDefault",e[e.OnboardingAdvanced=1]="OnboardingAdvanced"})(ys||(V.GuildOnboardingMode=ys={}));var _s;(function(e){e[e.MultipleChoice=0]="MultipleChoice",e[e.Dropdown=1]="Dropdown"})(_s||(V.GuildOnboardingPromptType=_s={}));var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.GuildScheduledEventPrivacyLevel=ce.GuildScheduledEventStatus=ce.GuildScheduledEventEntityType=ce.GuildScheduledEventRecurrenceRuleMonth=ce.GuildScheduledEventRecurrenceRuleWeekday=ce.GuildScheduledEventRecurrenceRuleFrequency=void 0;var $s;(function(e){e[e.Yearly=0]="Yearly",e[e.Monthly=1]="Monthly",e[e.Weekly=2]="Weekly",e[e.Daily=3]="Daily"})($s||(ce.GuildScheduledEventRecurrenceRuleFrequency=$s={}));var Is;(function(e){e[e.Monday=0]="Monday",e[e.Tuesday=1]="Tuesday",e[e.Wednesday=2]="Wednesday",e[e.Thursday=3]="Thursday",e[e.Friday=4]="Friday",e[e.Saturday=5]="Saturday",e[e.Sunday=6]="Sunday"})(Is||(ce.GuildScheduledEventRecurrenceRuleWeekday=Is={}));var As;(function(e){e[e.January=1]="January",e[e.February=2]="February",e[e.March=3]="March",e[e.April=4]="April",e[e.May=5]="May",e[e.June=6]="June",e[e.July=7]="July",e[e.August=8]="August",e[e.September=9]="September",e[e.October=10]="October",e[e.November=11]="November",e[e.December=12]="December"})(As||(ce.GuildScheduledEventRecurrenceRuleMonth=As={}));var ws;(function(e){e[e.StageInstance=1]="StageInstance",e[e.Voice=2]="Voice",e[e.External=3]="External"})(ws||(ce.GuildScheduledEventEntityType=ws={}));var Ts;(function(e){e[e.Scheduled=1]="Scheduled",e[e.Active=2]="Active",e[e.Completed=3]="Completed",e[e.Canceled=4]="Canceled"})(Ts||(ce.GuildScheduledEventStatus=Ts={}));var Ms;(function(e){e[e.GuildOnly=2]="GuildOnly"})(Ms||(ce.GuildScheduledEventPrivacyLevel=Ms={}));var Bc={},jc={},Vc={},Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});var qc={};Object.defineProperty(qc,"__esModule",{value:!0});var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});var zc={};Object.defineProperty(zc,"__esModule",{value:!0});var Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.ApplicationCommandOptionType=void 0;var Ps;(function(e){e[e.Subcommand=1]="Subcommand",e[e.SubcommandGroup=2]="SubcommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionable=9]="Mentionable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(Ps||(Wn.ApplicationCommandOptionType=Ps={}));var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});var el={};Object.defineProperty(el,"__esModule",{value:!0});(function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Gc,e),n(Hc,e),n(qc,e),n(Wc,e),n(zc,e),n(Kc,e),n(Yc,e),n(Xc,e),n(Wn,e),n(Qc,e),n(Zc,e),n(Jc,e),n(el,e)})(Vc);var tl={};Object.defineProperty(tl,"__esModule",{value:!0});var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.APIApplicationCommandPermissionsConstant=dt.ApplicationCommandPermissionType=void 0;var Ds;(function(e){e[e.Role=1]="Role",e[e.User=2]="User",e[e.Channel=3]="Channel"})(Ds||(dt.ApplicationCommandPermissionType=Ds={}));dt.APIApplicationCommandPermissionsConstant={Everyone:e=>String(e),AllChannels:e=>String(BigInt(e)-1n)};(function(e){var t=S&&S.__createBinding||(Object.create?function(s,o,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(o,c);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(s,l,u)}:function(s,o,c,l){l===void 0&&(l=c),s[l]=o[c]}),n=S&&S.__exportStar||function(s,o){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,s,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionContextType=e.ApplicationIntegrationType=e.ApplicationCommandType=void 0,n(Vc,e),n(tl,e),n(dt,e);var i;(function(s){s[s.ChatInput=1]="ChatInput",s[s.User=2]="User",s[s.Message=3]="Message"})(i||(e.ApplicationCommandType=i={}));var r;(function(s){s[s.GuildInstall=0]="GuildInstall",s[s.UserInstall=1]="UserInstall"})(r||(e.ApplicationIntegrationType=r={}));var a;(function(s){s[s.Guild=0]="Guild",s[s.BotDM=1]="BotDM",s[s.PrivateChannel=2]="PrivateChannel"})(a||(e.InteractionContextType=a={}))})(jc);var nl={};Object.defineProperty(nl,"__esModule",{value:!0});var il={};Object.defineProperty(il,"__esModule",{value:!0});var rl={};Object.defineProperty(rl,"__esModule",{value:!0});var al={};Object.defineProperty(al,"__esModule",{value:!0});var sl={};Object.defineProperty(sl,"__esModule",{value:!0});var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.InteractionResponseType=ht.InteractionType=void 0;var ks;(function(e){e[e.Ping=1]="Ping",e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent",e[e.ApplicationCommandAutocomplete=4]="ApplicationCommandAutocomplete",e[e.ModalSubmit=5]="ModalSubmit"})(ks||(ht.InteractionType=ks={}));var Ls;(function(e){e[e.Pong=1]="Pong",e[e.ChannelMessageWithSource=4]="ChannelMessageWithSource",e[e.DeferredChannelMessageWithSource=5]="DeferredChannelMessageWithSource",e[e.DeferredMessageUpdate=6]="DeferredMessageUpdate",e[e.UpdateMessage=7]="UpdateMessage",e[e.ApplicationCommandAutocompleteResult=8]="ApplicationCommandAutocompleteResult",e[e.Modal=9]="Modal",e[e.PremiumRequired=10]="PremiumRequired"})(Ls||(ht.InteractionResponseType=Ls={}));(function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(jc,e),n(nl,e),n(il,e),n(rl,e),n(al,e),n(sl,e),n(ht,e)})(Bc);var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.InviteTargetType=mt.InviteType=void 0;var Os;(function(e){e[e.Guild=0]="Guild",e[e.GroupDM=1]="GroupDM",e[e.Friend=2]="Friend"})(Os||(mt.InviteType=Os={}));var Es;(function(e){e[e.Stream=1]="Stream",e[e.EmbeddedApplication=2]="EmbeddedApplication"})(Es||(mt.InviteTargetType=Es={}));var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.OAuth2Scopes=void 0;var Rs;(function(e){e.Bot="bot",e.Connections="connections",e.DMChannelsRead="dm_channels.read",e.Email="email",e.Identify="identify",e.Guilds="guilds",e.GuildsJoin="guilds.join",e.GuildsMembersRead="guilds.members.read",e.GroupDMJoins="gdm.join",e.MessagesRead="messages.read",e.RoleConnectionsWrite="role_connections.write",e.RPC="rpc",e.RPCNotificationsRead="rpc.notifications.read",e.WebhookIncoming="webhook.incoming",e.Voice="voice",e.ApplicationsBuildsUpload="applications.builds.upload",e.ApplicationsBuildsRead="applications.builds.read",e.ApplicationsStoreUpdate="applications.store.update",e.ApplicationsEntitlements="applications.entitlements",e.RelationshipsRead="relationships.read",e.ActivitiesRead="activities.read",e.ActivitiesWrite="activities.write",e.ApplicationsCommands="applications.commands",e.ApplicationsCommandsUpdate="applications.commands.update",e.ApplicationCommandsPermissionsUpdate="applications.commands.permissions.update"})(Rs||(zn.OAuth2Scopes=Rs={}));var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.PollLayoutType=void 0;var Cs;(function(e){e[e.Default=1]="Default"})(Cs||(Kn.PollLayoutType=Cs={}));var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.RoleFlags=void 0;var Us;(function(e){e[e.InPrompt=1]="InPrompt"})(Us||(Yn.RoleFlags=Us={}));var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.StageInstancePrivacyLevel=void 0;var Fs;(function(e){e[e.Public=1]="Public",e[e.GuildOnly=2]="GuildOnly"})(Fs||(Xn.StageInstancePrivacyLevel=Fs={}));var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.StickerFormatType=pt.StickerType=void 0;var Ss;(function(e){e[e.Standard=1]="Standard",e[e.Guild=2]="Guild"})(Ss||(pt.StickerType=Ss={}));var Ns;(function(e){e[e.PNG=1]="PNG",e[e.APNG=2]="APNG",e[e.Lottie=3]="Lottie",e[e.GIF=4]="GIF"})(Ns||(pt.StickerFormatType=Ns={}));var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.TeamMemberRole=gt.TeamMemberMembershipState=void 0;var Bs;(function(e){e[e.Invited=1]="Invited",e[e.Accepted=2]="Accepted"})(Bs||(gt.TeamMemberMembershipState=Bs={}));var js;(function(e){e.Admin="admin",e.Developer="developer",e.ReadOnly="read_only"})(js||(gt.TeamMemberRole=js={}));var ol={};Object.defineProperty(ol,"__esModule",{value:!0});var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.ConnectionVisibility=Ae.ConnectionService=Ae.UserPremiumType=Ae.UserFlags=void 0;var Vs;(function(e){e[e.Staff=1]="Staff",e[e.Partner=2]="Partner",e[e.Hypesquad=4]="Hypesquad",e[e.BugHunterLevel1=8]="BugHunterLevel1",e[e.MFASMS=16]="MFASMS",e[e.PremiumPromoDismissed=32]="PremiumPromoDismissed",e[e.HypeSquadOnlineHouse1=64]="HypeSquadOnlineHouse1",e[e.HypeSquadOnlineHouse2=128]="HypeSquadOnlineHouse2",e[e.HypeSquadOnlineHouse3=256]="HypeSquadOnlineHouse3",e[e.PremiumEarlySupporter=512]="PremiumEarlySupporter",e[e.TeamPseudoUser=1024]="TeamPseudoUser",e[e.HasUnreadUrgentMessages=8192]="HasUnreadUrgentMessages",e[e.BugHunterLevel2=16384]="BugHunterLevel2",e[e.VerifiedBot=65536]="VerifiedBot",e[e.VerifiedDeveloper=131072]="VerifiedDeveloper",e[e.CertifiedModerator=262144]="CertifiedModerator",e[e.BotHTTPInteractions=524288]="BotHTTPInteractions",e[e.Spammer=1048576]="Spammer",e[e.DisablePremium=2097152]="DisablePremium",e[e.ActiveDeveloper=4194304]="ActiveDeveloper",e[e.Quarantined=17592186044416]="Quarantined",e[e.Collaborator=0x4000000000000]="Collaborator",e[e.RestrictedCollaborator=0x8000000000000]="RestrictedCollaborator"})(Vs||(Ae.UserFlags=Vs={}));var Gs;(function(e){e[e.None=0]="None",e[e.NitroClassic=1]="NitroClassic",e[e.Nitro=2]="Nitro",e[e.NitroBasic=3]="NitroBasic"})(Gs||(Ae.UserPremiumType=Gs={}));var Hs;(function(e){e.BattleNet="battlenet",e.BungieNet="bungie",e.Domain="domain",e.eBay="ebay",e.EpicGames="epicgames",e.Facebook="facebook",e.GitHub="github",e.Instagram="instagram",e.LeagueOfLegends="leagueoflegends",e.PayPal="paypal",e.PlayStationNetwork="playstation",e.Reddit="reddit",e.RiotGames="riotgames",e.Roblox="roblox",e.Spotify="spotify",e.Skype="skype",e.Steam="steam",e.TikTok="tiktok",e.Twitch="twitch",e.X="twitter",e.Twitter="twitter",e.Xbox="xbox",e.YouTube="youtube"})(Hs||(Ae.ConnectionService=Hs={}));var qs;(function(e){e[e.None=0]="None",e[e.Everyone=1]="Everyone"})(qs||(Ae.ConnectionVisibility=qs={}));var cl={};Object.defineProperty(cl,"__esModule",{value:!0});var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.WebhookType=void 0;var Ws;(function(e){e[e.Incoming=1]="Incoming",e[e.ChannelFollower=2]="ChannelFollower",e[e.Application=3]="Application"})(Ws||(Qn.WebhookType=Ws={}));var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.SKUType=Re.SKUFlags=Re.EntitlementType=void 0;var zs;(function(e){e[e.Purchase=1]="Purchase",e[e.PremiumSubscription=2]="PremiumSubscription",e[e.DeveloperGift=3]="DeveloperGift",e[e.TestModePurchase=4]="TestModePurchase",e[e.FreePurchase=5]="FreePurchase",e[e.UserGift=6]="UserGift",e[e.PremiumPurchase=7]="PremiumPurchase",e[e.ApplicationSubscription=8]="ApplicationSubscription"})(zs||(Re.EntitlementType=zs={}));var Ks;(function(e){e[e.Available=4]="Available",e[e.GuildSubscription=128]="GuildSubscription",e[e.UserSubscription=256]="UserSubscription"})(Ks||(Re.SKUFlags=Ks={}));var Ys;(function(e){e[e.Durable=2]="Durable",e[e.Consumable=3]="Consumable",e[e.Subscription=5]="Subscription",e[e.SubscriptionGroup=6]="SubscriptionGroup"})(Ys||(Re.SKUType=Ys={}));(function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Sc,e),n(ut,e),n(ft,e),n($e,e),n(F,e),n(Nc,e),n(Ie,e),n(V,e),n(ce,e),n(Bc,e),n(mt,e),n(zn,e),n(Kn,e),n(Yn,e),n(Xn,e),n(pt,e),n(gt,e),n(ol,e),n(Ae,e),n(cl,e),n(Qn,e),n(Re,e)})(Fc);const $=ne(Fc),kv=$.APIApplicationCommandPermissionsConstant,Lv=$.ActivityFlags,Ov=$.ActivityPlatform,Ev=$.ActivityType,Rv=$.AllowedMentionsTypes,Cv=$.ApplicationCommandOptionType,Uv=$.ApplicationCommandPermissionType,Fv=$.ApplicationCommandType,Sv=$.ApplicationFlags,Nv=$.ApplicationIntegrationType,Bv=$.ApplicationRoleConnectionMetadataType,jv=$.AttachmentFlags,Vv=$.AuditLogEvent,Gv=$.AuditLogOptionsType,Hv=$.AutoModerationActionType,qv=$.AutoModerationRuleEventType,Wv=$.AutoModerationRuleKeywordPresetType,zv=$.AutoModerationRuleTriggerType,Kv=$.ButtonStyle,Yv=$.ChannelFlags,Xv=$.ChannelType,Qv=$.ComponentType,Zv=$.ConnectionService,Jv=$.ConnectionVisibility,ex=$.EmbedType,tx=$.EntitlementType,nx=$.ForumLayoutType,ix=$.GuildDefaultMessageNotifications,rx=$.GuildExplicitContentFilter,ax=$.GuildFeature,sx=$.GuildHubType,ox=$.GuildMFALevel,cx=$.GuildMemberFlags,lx=$.GuildNSFWLevel,ux=$.GuildOnboardingMode,fx=$.GuildOnboardingPromptType,dx=$.GuildPremiumTier,hx=$.GuildScheduledEventEntityType,mx=$.GuildScheduledEventPrivacyLevel,px=$.GuildScheduledEventRecurrenceRuleFrequency,gx=$.GuildScheduledEventRecurrenceRuleMonth,vx=$.GuildScheduledEventRecurrenceRuleWeekday,xx=$.GuildScheduledEventStatus,bx=$.GuildSystemChannelFlags,yx=$.GuildVerificationLevel,_x=$.GuildWidgetStyle,$x=$.IntegrationExpireBehavior,Ix=$.InteractionContextType,Ax=$.InteractionResponseType,wx=$.InteractionType,Tx=$.InviteTargetType,Mx=$.InviteType,Px=$.MembershipScreeningFieldType,Dx=$.MessageActivityType,kx=$.MessageFlags,Lx=$.MessageReferenceType,Ox=$.MessageType,Ex=$.OAuth2Scopes,Rx=$.OverwriteType,Cx=$.PermissionFlagsBits,Ux=$.PollLayoutType,Fx=$.PresenceUpdateStatus,Sx=$.RoleFlags,Nx=$.SKUFlags,Bx=$.SKUType,jx=$.SelectMenuDefaultValueType,Vx=$.SortOrderType,Gx=$.StageInstancePrivacyLevel,Hx=$.StickerFormatType,qx=$.StickerType,Wx=$.TeamMemberMembershipState,zx=$.TeamMemberRole,Kx=$.TextInputStyle,Yx=$.ThreadAutoArchiveDuration,Xx=$.ThreadMemberFlags,Qx=$.UserFlags,Zx=$.UserPremiumType,Jx=$.VideoQualityMode,eb=$.WebhookType,tb=Object.freeze(Object.defineProperty({__proto__:null,APIApplicationCommandPermissionsConstant:kv,ActivityFlags:Lv,ActivityPlatform:Ov,ActivityType:Ev,AllowedMentionsTypes:Rv,ApplicationCommandOptionType:Cv,ApplicationCommandPermissionType:Uv,ApplicationCommandType:Fv,ApplicationFlags:Sv,ApplicationIntegrationType:Nv,ApplicationRoleConnectionMetadataType:Bv,AttachmentFlags:jv,AuditLogEvent:Vv,AuditLogOptionsType:Gv,AutoModerationActionType:Hv,AutoModerationRuleEventType:qv,AutoModerationRuleKeywordPresetType:Wv,AutoModerationRuleTriggerType:zv,ButtonStyle:Kv,ChannelFlags:Yv,ChannelType:Xv,ComponentType:Qv,ConnectionService:Zv,ConnectionVisibility:Jv,EmbedType:ex,EntitlementType:tx,ForumLayoutType:nx,GuildDefaultMessageNotifications:ix,GuildExplicitContentFilter:rx,GuildFeature:ax,GuildHubType:sx,GuildMFALevel:ox,GuildMemberFlags:cx,GuildNSFWLevel:lx,GuildOnboardingMode:ux,GuildOnboardingPromptType:fx,GuildPremiumTier:dx,GuildScheduledEventEntityType:hx,GuildScheduledEventPrivacyLevel:mx,GuildScheduledEventRecurrenceRuleFrequency:px,GuildScheduledEventRecurrenceRuleMonth:gx,GuildScheduledEventRecurrenceRuleWeekday:vx,GuildScheduledEventStatus:xx,GuildSystemChannelFlags:bx,GuildVerificationLevel:yx,GuildWidgetStyle:_x,IntegrationExpireBehavior:$x,InteractionContextType:Ix,InteractionResponseType:Ax,InteractionType:wx,InviteTargetType:Tx,InviteType:Mx,MembershipScreeningFieldType:Px,MessageActivityType:Dx,MessageFlags:kx,MessageReferenceType:Lx,MessageType:Ox,OAuth2Scopes:Ex,OverwriteType:Rx,PermissionFlagsBits:Cx,PollLayoutType:Ux,PresenceUpdateStatus:Fx,RoleFlags:Sx,SKUFlags:Nx,SKUType:Bx,SelectMenuDefaultValueType:jx,SortOrderType:Vx,StageInstancePrivacyLevel:Gx,StickerFormatType:Hx,StickerType:qx,TeamMemberMembershipState:Wx,TeamMemberRole:zx,TextInputStyle:Kx,ThreadAutoArchiveDuration:Yx,ThreadMemberFlags:Xx,UserFlags:Qx,UserPremiumType:Zx,VideoQualityMode:Jx,WebhookType:eb,default:$},Symbol.toStringTag,{value:"Module"})),ll=bt(tb);var ul={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.Locale=vt.RESTJSONErrorCodes=void 0;var Xs;(function(e){e[e.GeneralError=0]="GeneralError",e[e.UnknownAccount=10001]="UnknownAccount",e[e.UnknownApplication=10002]="UnknownApplication",e[e.UnknownChannel=10003]="UnknownChannel",e[e.UnknownGuild=10004]="UnknownGuild",e[e.UnknownIntegration=10005]="UnknownIntegration",e[e.UnknownInvite=10006]="UnknownInvite",e[e.UnknownMember=10007]="UnknownMember",e[e.UnknownMessage=10008]="UnknownMessage",e[e.UnknownPermissionOverwrite=10009]="UnknownPermissionOverwrite",e[e.UnknownProvider=10010]="UnknownProvider",e[e.UnknownRole=10011]="UnknownRole",e[e.UnknownToken=10012]="UnknownToken",e[e.UnknownUser=10013]="UnknownUser",e[e.UnknownEmoji=10014]="UnknownEmoji",e[e.UnknownWebhook=10015]="UnknownWebhook",e[e.UnknownWebhookService=10016]="UnknownWebhookService",e[e.UnknownSession=10020]="UnknownSession",e[e.UnknownBan=10026]="UnknownBan",e[e.UnknownSKU=10027]="UnknownSKU",e[e.UnknownStoreListing=10028]="UnknownStoreListing",e[e.UnknownEntitlement=10029]="UnknownEntitlement",e[e.UnknownBuild=10030]="UnknownBuild",e[e.UnknownLobby=10031]="UnknownLobby",e[e.UnknownBranch=10032]="UnknownBranch",e[e.UnknownStoreDirectoryLayout=10033]="UnknownStoreDirectoryLayout",e[e.UnknownRedistributable=10036]="UnknownRedistributable",e[e.UnknownGiftCode=10038]="UnknownGiftCode",e[e.UnknownStream=10049]="UnknownStream",e[e.UnknownPremiumServerSubscribeCooldown=10050]="UnknownPremiumServerSubscribeCooldown",e[e.UnknownGuildTemplate=10057]="UnknownGuildTemplate",e[e.UnknownDiscoverableServerCategory=10059]="UnknownDiscoverableServerCategory",e[e.UnknownSticker=10060]="UnknownSticker",e[e.UnknownStickerPack=10061]="UnknownStickerPack",e[e.UnknownInteraction=10062]="UnknownInteraction",e[e.UnknownApplicationCommand=10063]="UnknownApplicationCommand",e[e.UnknownVoiceState=10065]="UnknownVoiceState",e[e.UnknownApplicationCommandPermissions=10066]="UnknownApplicationCommandPermissions",e[e.UnknownStageInstance=10067]="UnknownStageInstance",e[e.UnknownGuildMemberVerificationForm=10068]="UnknownGuildMemberVerificationForm",e[e.UnknownGuildWelcomeScreen=10069]="UnknownGuildWelcomeScreen",e[e.UnknownGuildScheduledEvent=10070]="UnknownGuildScheduledEvent",e[e.UnknownGuildScheduledEventUser=10071]="UnknownGuildScheduledEventUser",e[e.UnknownTag=10087]="UnknownTag",e[e.BotsCannotUseThisEndpoint=20001]="BotsCannotUseThisEndpoint",e[e.OnlyBotsCanUseThisEndpoint=20002]="OnlyBotsCanUseThisEndpoint",e[e.ExplicitContentCannotBeSentToTheDesiredRecipient=20009]="ExplicitContentCannotBeSentToTheDesiredRecipient",e[e.NotAuthorizedToPerformThisActionOnThisApplication=20012]="NotAuthorizedToPerformThisActionOnThisApplication",e[e.ActionCannotBePerformedDueToSlowmodeRateLimit=20016]="ActionCannotBePerformedDueToSlowmodeRateLimit",e[e.TheMazeIsntMeantForYou=20017]="TheMazeIsntMeantForYou",e[e.OnlyTheOwnerOfThisAccountCanPerformThisAction=20018]="OnlyTheOwnerOfThisAccountCanPerformThisAction",e[e.AnnouncementEditLimitExceeded=20022]="AnnouncementEditLimitExceeded",e[e.UnderMinimumAge=20024]="UnderMinimumAge",e[e.ChannelSendRateLimit=20028]="ChannelSendRateLimit",e[e.ServerSendRateLimit=20029]="ServerSendRateLimit",e[e.StageTopicServerNameServerDescriptionOrChannelNamesContainDisallowedWords=20031]="StageTopicServerNameServerDescriptionOrChannelNamesContainDisallowedWords",e[e.GuildPremiumSubscriptionLevelTooLow=20035]="GuildPremiumSubscriptionLevelTooLow",e[e.MaximumNumberOfGuildsReached=30001]="MaximumNumberOfGuildsReached",e[e.MaximumNumberOfFriendsReached=30002]="MaximumNumberOfFriendsReached",e[e.MaximumNumberOfPinsReachedForTheChannel=30003]="MaximumNumberOfPinsReachedForTheChannel",e[e.MaximumNumberOfRecipientsReached=30004]="MaximumNumberOfRecipientsReached",e[e.MaximumNumberOfGuildRolesReached=30005]="MaximumNumberOfGuildRolesReached",e[e.MaximumNumberOfWebhooksReached=30007]="MaximumNumberOfWebhooksReached",e[e.MaximumNumberOfEmojisReached=30008]="MaximumNumberOfEmojisReached",e[e.MaximumNumberOfReactionsReached=30010]="MaximumNumberOfReactionsReached",e[e.MaximumNumberOfGroupDMsReached=30011]="MaximumNumberOfGroupDMsReached",e[e.MaximumNumberOfGuildChannelsReached=30013]="MaximumNumberOfGuildChannelsReached",e[e.MaximumNumberOfAttachmentsInAMessageReached=30015]="MaximumNumberOfAttachmentsInAMessageReached",e[e.MaximumNumberOfInvitesReached=30016]="MaximumNumberOfInvitesReached",e[e.MaximumNumberOfAnimatedEmojisReached=30018]="MaximumNumberOfAnimatedEmojisReached",e[e.MaximumNumberOfServerMembersReached=30019]="MaximumNumberOfServerMembersReached",e[e.MaximumNumberOfServerCategoriesReached=30030]="MaximumNumberOfServerCategoriesReached",e[e.GuildAlreadyHasTemplate=30031]="GuildAlreadyHasTemplate",e[e.MaximumNumberOfApplicationCommandsReached=30032]="MaximumNumberOfApplicationCommandsReached",e[e.MaximumThreadParticipantsReached=30033]="MaximumThreadParticipantsReached",e[e.MaximumDailyApplicationCommandCreatesReached=30034]="MaximumDailyApplicationCommandCreatesReached",e[e.MaximumNumberOfNonGuildMemberBansHasBeenExceeded=30035]="MaximumNumberOfNonGuildMemberBansHasBeenExceeded",e[e.MaximumNumberOfBanFetchesHasBeenReached=30037]="MaximumNumberOfBanFetchesHasBeenReached",e[e.MaximumNumberOfUncompletedGuildScheduledEventsReached=30038]="MaximumNumberOfUncompletedGuildScheduledEventsReached",e[e.MaximumNumberOfStickersReached=30039]="MaximumNumberOfStickersReached",e[e.MaximumNumberOfPruneRequestsHasBeenReached=30040]="MaximumNumberOfPruneRequestsHasBeenReached",e[e.MaximumNumberOfGuildWidgetSettingsUpdatesHasBeenReached=30042]="MaximumNumberOfGuildWidgetSettingsUpdatesHasBeenReached",e[e.MaximumNumberOfEditsToMessagesOlderThanOneHourReached=30046]="MaximumNumberOfEditsToMessagesOlderThanOneHourReached",e[e.MaximumNumberOfPinnedThreadsInForumHasBeenReached=30047]="MaximumNumberOfPinnedThreadsInForumHasBeenReached",e[e.MaximumNumberOfTagsInForumHasBeenReached=30048]="MaximumNumberOfTagsInForumHasBeenReached",e[e.BitrateIsTooHighForChannelOfThisType=30052]="BitrateIsTooHighForChannelOfThisType",e[e.MaximumNumberOfPremiumEmojisReached=30056]="MaximumNumberOfPremiumEmojisReached",e[e.MaximumNumberOfWebhooksPerGuildReached=30058]="MaximumNumberOfWebhooksPerGuildReached",e[e.MaximumNumberOfChannelPermissionOverwritesReached=30060]="MaximumNumberOfChannelPermissionOverwritesReached",e[e.TheChannelsForThisGuildAreTooLarge=30061]="TheChannelsForThisGuildAreTooLarge",e[e.Unauthorized=40001]="Unauthorized",e[e.VerifyYourAccount=40002]="VerifyYourAccount",e[e.OpeningDirectMessagesTooFast=40003]="OpeningDirectMessagesTooFast",e[e.SendMessagesHasBeenTemporarilyDisabled=40004]="SendMessagesHasBeenTemporarilyDisabled",e[e.RequestEntityTooLarge=40005]="RequestEntityTooLarge",e[e.FeatureTemporarilyDisabledServerSide=40006]="FeatureTemporarilyDisabledServerSide",e[e.UserBannedFromThisGuild=40007]="UserBannedFromThisGuild",e[e.ConnectionHasBeenRevoked=40012]="ConnectionHasBeenRevoked",e[e.TargetUserIsNotConnectedToVoice=40032]="TargetUserIsNotConnectedToVoice",e[e.ThisMessageWasAlreadyCrossposted=40033]="ThisMessageWasAlreadyCrossposted",e[e.ApplicationCommandWithThatNameAlreadyExists=40041]="ApplicationCommandWithThatNameAlreadyExists",e[e.ApplicationInteractionFailedToSend=40043]="ApplicationInteractionFailedToSend",e[e.CannotSendAMessageInAForumChannel=40058]="CannotSendAMessageInAForumChannel",e[e.InteractionHasAlreadyBeenAcknowledged=40060]="InteractionHasAlreadyBeenAcknowledged",e[e.TagNamesMustBeUnique=40061]="TagNamesMustBeUnique",e[e.ServiceResourceIsBeingRateLimited=40062]="ServiceResourceIsBeingRateLimited",e[e.ThereAreNoTagsAvailableThatCanBeSetByNonModerators=40066]="ThereAreNoTagsAvailableThatCanBeSetByNonModerators",e[e.TagRequiredToCreateAForumPostInThisChannel=40067]="TagRequiredToCreateAForumPostInThisChannel",e[e.AnEntitlementHasAlreadyBeenGrantedForThisResource=40074]="AnEntitlementHasAlreadyBeenGrantedForThisResource",e[e.CloudflareIsBlockingYourRequest=40333]="CloudflareIsBlockingYourRequest",e[e.MissingAccess=50001]="MissingAccess",e[e.InvalidAccountType=50002]="InvalidAccountType",e[e.CannotExecuteActionOnDMChannel=50003]="CannotExecuteActionOnDMChannel",e[e.GuildWidgetDisabled=50004]="GuildWidgetDisabled",e[e.CannotEditMessageAuthoredByAnotherUser=50005]="CannotEditMessageAuthoredByAnotherUser",e[e.CannotSendAnEmptyMessage=50006]="CannotSendAnEmptyMessage",e[e.CannotSendMessagesToThisUser=50007]="CannotSendMessagesToThisUser",e[e.CannotSendMessagesInNonTextChannel=50008]="CannotSendMessagesInNonTextChannel",e[e.ChannelVerificationLevelTooHighForYouToGainAccess=50009]="ChannelVerificationLevelTooHighForYouToGainAccess",e[e.OAuth2ApplicationDoesNotHaveBot=50010]="OAuth2ApplicationDoesNotHaveBot",e[e.OAuth2ApplicationLimitReached=50011]="OAuth2ApplicationLimitReached",e[e.InvalidOAuth2State=50012]="InvalidOAuth2State",e[e.MissingPermissions=50013]="MissingPermissions",e[e.InvalidToken=50014]="InvalidToken",e[e.NoteWasTooLong=50015]="NoteWasTooLong",e[e.ProvidedTooFewOrTooManyMessagesToDelete=50016]="ProvidedTooFewOrTooManyMessagesToDelete",e[e.InvalidMFALevel=50017]="InvalidMFALevel",e[e.MessageCanOnlyBePinnedInTheChannelItWasSentIn=50019]="MessageCanOnlyBePinnedInTheChannelItWasSentIn",e[e.InviteCodeInvalidOrTaken=50020]="InviteCodeInvalidOrTaken",e[e.CannotExecuteActionOnSystemMessage=50021]="CannotExecuteActionOnSystemMessage",e[e.CannotExecuteActionOnThisChannelType=50024]="CannotExecuteActionOnThisChannelType",e[e.InvalidOAuth2AccessToken=50025]="InvalidOAuth2AccessToken",e[e.MissingRequiredOAuth2Scope=50026]="MissingRequiredOAuth2Scope",e[e.InvalidWebhookToken=50027]="InvalidWebhookToken",e[e.InvalidRole=50028]="InvalidRole",e[e.InvalidRecipients=50033]="InvalidRecipients",e[e.OneOfTheMessagesProvidedWasTooOldForBulkDelete=50034]="OneOfTheMessagesProvidedWasTooOldForBulkDelete",e[e.InvalidFormBodyOrContentType=50035]="InvalidFormBodyOrContentType",e[e.InviteAcceptedToGuildWithoutTheBotBeingIn=50036]="InviteAcceptedToGuildWithoutTheBotBeingIn",e[e.InvalidActivityAction=50039]="InvalidActivityAction",e[e.InvalidAPIVersion=50041]="InvalidAPIVersion",e[e.FileUploadedExceedsMaximumSize=50045]="FileUploadedExceedsMaximumSize",e[e.InvalidFileUploaded=50046]="InvalidFileUploaded",e[e.CannotSelfRedeemThisGift=50054]="CannotSelfRedeemThisGift",e[e.InvalidGuild=50055]="InvalidGuild",e[e.InvalidSKU=50057]="InvalidSKU",e[e.InvalidRequestOrigin=50067]="InvalidRequestOrigin",e[e.InvalidMessageType=50068]="InvalidMessageType",e[e.PaymentSourceRequiredToRedeemGift=50070]="PaymentSourceRequiredToRedeemGift",e[e.CannotModifyASystemWebhook=50073]="CannotModifyASystemWebhook",e[e.CannotDeleteChannelRequiredForCommunityGuilds=50074]="CannotDeleteChannelRequiredForCommunityGuilds",e[e.CannotEditStickersWithinMessage=50080]="CannotEditStickersWithinMessage",e[e.InvalidStickerSent=50081]="InvalidStickerSent",e[e.InvalidActionOnArchivedThread=50083]="InvalidActionOnArchivedThread",e[e.InvalidThreadNotificationSettings=50084]="InvalidThreadNotificationSettings",e[e.ParameterEarlierThanCreation=50085]="ParameterEarlierThanCreation",e[e.CommunityServerChannelsMustBeTextChannels=50086]="CommunityServerChannelsMustBeTextChannels",e[e.TheEntityTypeOfTheEventIsDifferentFromTheEntityYouAreTryingToStartTheEventFor=50091]="TheEntityTypeOfTheEventIsDifferentFromTheEntityYouAreTryingToStartTheEventFor",e[e.ServerNotAvailableInYourLocation=50095]="ServerNotAvailableInYourLocation",e[e.ServerNeedsMonetizationEnabledToPerformThisAction=50097]="ServerNeedsMonetizationEnabledToPerformThisAction",e[e.ServerNeedsMoreBoostsToPerformThisAction=50101]="ServerNeedsMoreBoostsToPerformThisAction",e[e.RequestBodyContainsInvalidJSON=50109]="RequestBodyContainsInvalidJSON",e[e.OwnerCannotBePendingMember=50131]="OwnerCannotBePendingMember",e[e.OwnershipCannotBeMovedToABotUser=50132]="OwnershipCannotBeMovedToABotUser",e[e.FailedToResizeAssetBelowTheMinimumSize=50138]="FailedToResizeAssetBelowTheMinimumSize",e[e.CannotMixSubscriptionAndNonSubscriptionRolesForAnEmoji=50144]="CannotMixSubscriptionAndNonSubscriptionRolesForAnEmoji",e[e.CannotConvertBetweenPremiumEmojiAndNormalEmoji=50145]="CannotConvertBetweenPremiumEmojiAndNormalEmoji",e[e.UploadedFileNotFound=50146]="UploadedFileNotFound",e[e.VoiceMessagesDoNotSupportAdditionalContent=50159]="VoiceMessagesDoNotSupportAdditionalContent",e[e.VoiceMessagesMustHaveASingleAudioAttachment=50160]="VoiceMessagesMustHaveASingleAudioAttachment",e[e.VoiceMessagesMustHaveSupportingMetadata=50161]="VoiceMessagesMustHaveSupportingMetadata",e[e.VoiceMessagesCannotBeEdited=50162]="VoiceMessagesCannotBeEdited",e[e.CannotDeleteGuildSubscriptionIntegration=50163]="CannotDeleteGuildSubscriptionIntegration",e[e.YouCannotSendVoiceMessagesInThisChannel=50173]="YouCannotSendVoiceMessagesInThisChannel",e[e.TheUserAccountMustFirstBeVerified=50178]="TheUserAccountMustFirstBeVerified",e[e.YouDoNotHavePermissionToSendThisSticker=50600]="YouDoNotHavePermissionToSendThisSticker",e[e.TwoFactorAuthenticationIsRequired=60003]="TwoFactorAuthenticationIsRequired",e[e.NoUsersWithDiscordTagExist=80004]="NoUsersWithDiscordTagExist",e[e.ReactionWasBlocked=90001]="ReactionWasBlocked",e[e.UserCannotUseBurstReactions=90002]="UserCannotUseBurstReactions",e[e.ApplicationNotYetAvailable=110001]="ApplicationNotYetAvailable",e[e.APIResourceOverloaded=13e4]="APIResourceOverloaded",e[e.TheStageIsAlreadyOpen=150006]="TheStageIsAlreadyOpen",e[e.CannotReplyWithoutPermissionToReadMessageHistory=160002]="CannotReplyWithoutPermissionToReadMessageHistory",e[e.ThreadAlreadyCreatedForMessage=160004]="ThreadAlreadyCreatedForMessage",e[e.ThreadLocked=160005]="ThreadLocked",e[e.MaximumActiveThreads=160006]="MaximumActiveThreads",e[e.MaximumActiveAnnouncementThreads=160007]="MaximumActiveAnnouncementThreads",e[e.InvalidJSONForUploadedLottieFile=170001]="InvalidJSONForUploadedLottieFile",e[e.UploadedLottiesCannotContainRasterizedImages=170002]="UploadedLottiesCannotContainRasterizedImages",e[e.StickerMaximumFramerateExceeded=170003]="StickerMaximumFramerateExceeded",e[e.StickerFrameCountExceedsMaximumOf1000Frames=170004]="StickerFrameCountExceedsMaximumOf1000Frames",e[e.LottieAnimationMaximumDimensionsExceeded=170005]="LottieAnimationMaximumDimensionsExceeded",e[e.StickerFramerateIsTooSmallOrTooLarge=170006]="StickerFramerateIsTooSmallOrTooLarge",e[e.StickerAnimationDurationExceedsMaximumOf5Seconds=170007]="StickerAnimationDurationExceedsMaximumOf5Seconds",e[e.CannotUpdateAFinishedEvent=18e4]="CannotUpdateAFinishedEvent",e[e.FailedToCreateStageNeededForStageEvent=180002]="FailedToCreateStageNeededForStageEvent",e[e.MessageWasBlockedByAutomaticModeration=2e5]="MessageWasBlockedByAutomaticModeration",e[e.TitleWasBlockedByAutomaticModeration=200001]="TitleWasBlockedByAutomaticModeration",e[e.WebhooksPostedToForumChannelsMustHaveAThreadNameOrThreadId=220001]="WebhooksPostedToForumChannelsMustHaveAThreadNameOrThreadId",e[e.WebhooksPostedToForumChannelsCannotHaveBothAThreadNameAndThreadId=220002]="WebhooksPostedToForumChannelsCannotHaveBothAThreadNameAndThreadId",e[e.WebhooksCanOnlyCreateThreadsInForumChannels=220003]="WebhooksCanOnlyCreateThreadsInForumChannels",e[e.WebhookServicesCannotBeUsedInForumChannels=220004]="WebhookServicesCannotBeUsedInForumChannels",e[e.MessageBlockedByHarmfulLinksFilter=24e4]="MessageBlockedByHarmfulLinksFilter",e[e.CannotEnableOnboardingRequirementsAreNotMet=35e4]="CannotEnableOnboardingRequirementsAreNotMet",e[e.CannotUpdateOnboardingWhileBelowRequirements=350001]="CannotUpdateOnboardingWhileBelowRequirements",e[e.FailedToBanUsers=5e5]="FailedToBanUsers",e[e.PollVotingBlocked=52e4]="PollVotingBlocked",e[e.PollExpired=520001]="PollExpired",e[e.InvalidChannelTypeForPollCreation=520002]="InvalidChannelTypeForPollCreation",e[e.CannotEditAPollMessage=520003]="CannotEditAPollMessage",e[e.CannotUseAnEmojiIncludedWithThePoll=520004]="CannotUseAnEmojiIncludedWithThePoll",e[e.CannotExpireANonPollMessage=520006]="CannotExpireANonPollMessage"})(Xs||(vt.RESTJSONErrorCodes=Xs={}));var Qs;(function(e){e.Indonesian="id",e.EnglishUS="en-US",e.EnglishGB="en-GB",e.Bulgarian="bg",e.ChineseCN="zh-CN",e.ChineseTW="zh-TW",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.Finnish="fi",e.French="fr",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Lithuanian="lt",e.Norwegian="no",e.Polish="pl",e.PortugueseBR="pt-BR",e.Romanian="ro",e.Russian="ru",e.SpanishES="es-ES",e.SpanishLATAM="es-419",e.Swedish="sv-SE",e.Thai="th",e.Turkish="tr",e.Ukrainian="uk",e.Vietnamese="vi"})(Qs||(vt.Locale=Qs={}));var fl={};Object.defineProperty(fl,"__esModule",{value:!0});var dl={};Object.defineProperty(dl,"__esModule",{value:!0});var hl={};Object.defineProperty(hl,"__esModule",{value:!0});var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.ReactionType=void 0;var Zs;(function(e){e[e.Normal=0]="Normal",e[e.Super=1]="Super"})(Zs||(Zn.ReactionType=Zs={}));var ml={};Object.defineProperty(ml,"__esModule",{value:!0});var pl={};Object.defineProperty(pl,"__esModule",{value:!0});var gl={};Object.defineProperty(gl,"__esModule",{value:!0});var vl={};Object.defineProperty(vl,"__esModule",{value:!0});var xl={};Object.defineProperty(xl,"__esModule",{value:!0});var bl={};Object.defineProperty(bl,"__esModule",{value:!0});var yl={};Object.defineProperty(yl,"__esModule",{value:!0});var _l={};Object.defineProperty(_l,"__esModule",{value:!0});var $l={};Object.defineProperty($l,"__esModule",{value:!0});var Il={};Object.defineProperty(Il,"__esModule",{value:!0});var Al={};Object.defineProperty(Al,"__esModule",{value:!0});var wl={};Object.defineProperty(wl,"__esModule",{value:!0});var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.EntitlementOwnerType=void 0;var Js;(function(e){e[e.Guild=1]="Guild",e[e.User=2]="User"})(Js||(Jn.EntitlementOwnerType=Js={}));(function(e){var t=S&&S.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,c)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=S&&S.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2Routes=e.RouteBases=e.CDNRoutes=e.ImageFormat=e.StickerPackApplicationId=e.Routes=e.APIVersion=void 0,n(vt,e),n(fl,e),n(dl,e),n(hl,e),n(Zn,e),n(ml,e),n(pl,e),n(gl,e),n(vl,e),n(xl,e),n(bl,e),n(yl,e),n(_l,e),n($l,e),n(Il,e),n(Al,e),n(wl,e),n(Tl,e),n(Ml,e),n(Jn,e),e.APIVersion="10",e.Routes={applicationRoleConnectionMetadata(r){return`/applications/${r}/role-connections/metadata`},guildAutoModerationRules(r){return`/guilds/${r}/auto-moderation/rules`},guildAutoModerationRule(r,a){return`/guilds/${r}/auto-moderation/rules/${a}`},guildAuditLog(r){return`/guilds/${r}/audit-logs`},channel(r){return`/channels/${r}`},channelMessages(r){return`/channels/${r}/messages`},channelMessage(r,a){return`/channels/${r}/messages/${a}`},channelMessageCrosspost(r,a){return`/channels/${r}/messages/${a}/crosspost`},channelMessageOwnReaction(r,a,s){return`/channels/${r}/messages/${a}/reactions/${s}/@me`},channelMessageUserReaction(r,a,s,o){return`/channels/${r}/messages/${a}/reactions/${s}/${o}`},channelMessageReaction(r,a,s){return`/channels/${r}/messages/${a}/reactions/${s}`},channelMessageAllReactions(r,a){return`/channels/${r}/messages/${a}/reactions`},channelBulkDelete(r){return`/channels/${r}/messages/bulk-delete`},channelPermission(r,a){return`/channels/${r}/permissions/${a}`},channelInvites(r){return`/channels/${r}/invites`},channelFollowers(r){return`/channels/${r}/followers`},channelTyping(r){return`/channels/${r}/typing`},channelPins(r){return`/channels/${r}/pins`},channelPin(r,a){return`/channels/${r}/pins/${a}`},channelRecipient(r,a){return`/channels/${r}/recipients/${a}`},guildEmojis(r){return`/guilds/${r}/emojis`},guildEmoji(r,a){return`/guilds/${r}/emojis/${a}`},guilds(){return"/guilds"},guild(r){return`/guilds/${r}`},guildPreview(r){return`/guilds/${r}/preview`},guildChannels(r){return`/guilds/${r}/channels`},guildMember(r,a="@me"){return`/guilds/${r}/members/${a}`},guildMembers(r){return`/guilds/${r}/members`},guildMembersSearch(r){return`/guilds/${r}/members/search`},guildCurrentMemberNickname(r){return`/guilds/${r}/members/@me/nick`},guildMemberRole(r,a,s){return`/guilds/${r}/members/${a}/roles/${s}`},guildMFA(r){return`/guilds/${r}/mfa`},guildBans(r){return`/guilds/${r}/bans`},guildBan(r,a){return`/guilds/${r}/bans/${a}`},guildRoles(r){return`/guilds/${r}/roles`},guildRole(r,a){return`/guilds/${r}/roles/${a}`},guildPrune(r){return`/guilds/${r}/prune`},guildVoiceRegions(r){return`/guilds/${r}/regions`},guildInvites(r){return`/guilds/${r}/invites`},guildIntegrations(r){return`/guilds/${r}/integrations`},guildIntegration(r,a){return`/guilds/${r}/integrations/${a}`},guildWidgetSettings(r){return`/guilds/${r}/widget`},guildWidgetJSON(r){return`/guilds/${r}/widget.json`},guildVanityUrl(r){return`/guilds/${r}/vanity-url`},guildWidgetImage(r){return`/guilds/${r}/widget.png`},invite(r){return`/invites/${r}`},template(r){return`/guilds/templates/${r}`},guildTemplates(r){return`/guilds/${r}/templates`},guildTemplate(r,a){return`/guilds/${r}/templates/${a}`},pollAnswerVoters(r,a,s){return`/channels/${r}/polls/${a}/answers/${s}`},expirePoll(r,a){return`/channels/${r}/polls/${a}/expire`},threads(r,a){const s=["","channels",r];return a&&s.push("messages",a),s.push("threads"),s.join("/")},guildActiveThreads(r){return`/guilds/${r}/threads/active`},channelThreads(r,a){return`/channels/${r}/threads/archived/${a}`},channelJoinedArchivedThreads(r){return`/channels/${r}/users/@me/threads/archived/private`},threadMembers(r,a){const s=["","channels",r,"thread-members"];return a&&s.push(a),s.join("/")},user(r="@me"){return`/users/${r}`},userApplicationRoleConnection(r){return`/users/@me/applications/${r}/role-connection`},userGuilds(){return"/users/@me/guilds"},userGuildMember(r){return`/users/@me/guilds/${r}/member`},userGuild(r){return`/users/@me/guilds/${r}`},userChannels(){return"/users/@me/channels"},userConnections(){return"/users/@me/connections"},voiceRegions(){return"/voice/regions"},channelWebhooks(r){return`/channels/${r}/webhooks`},guildWebhooks(r){return`/guilds/${r}/webhooks`},webhook(r,a){const s=["","webhooks",r];return a&&s.push(a),s.join("/")},webhookMessage(r,a,s="@original"){return`/webhooks/${r}/${a}/messages/${s}`},webhookPlatform(r,a,s){return`/webhooks/${r}/${a}/${s}`},gateway(){return"/gateway"},gatewayBot(){return"/gateway/bot"},oauth2CurrentApplication(){return"/oauth2/applications/@me"},oauth2CurrentAuthorization(){return"/oauth2/@me"},oauth2Authorization(){return"/oauth2/authorize"},oauth2TokenExchange(){return"/oauth2/token"},oauth2TokenRevocation(){return"/oauth2/token/revoke"},applicationCommands(r){return`/applications/${r}/commands`},applicationCommand(r,a){return`/applications/${r}/commands/${a}`},applicationGuildCommands(r,a){return`/applications/${r}/guilds/${a}/commands`},applicationGuildCommand(r,a,s){return`/applications/${r}/guilds/${a}/commands/${s}`},interactionCallback(r,a){return`/interactions/${r}/${a}/callback`},guildMemberVerification(r){return`/guilds/${r}/member-verification`},guildVoiceState(r,a="@me"){return`/guilds/${r}/voice-states/${a}`},guildApplicationCommandsPermissions(r,a){return`/applications/${r}/guilds/${a}/commands/permissions`},applicationCommandPermissions(r,a,s){return`/applications/${r}/guilds/${a}/commands/${s}/permissions`},guildWelcomeScreen(r){return`/guilds/${r}/welcome-screen`},stageInstances(){return"/stage-instances"},stageInstance(r){return`/stage-instances/${r}`},sticker(r){return`/stickers/${r}`},stickerPacks(){return"/sticker-packs"},stickerPack(r){return`/sticker-packs/${r}`},nitroStickerPacks(){return"/sticker-packs"},guildStickers(r){return`/guilds/${r}/stickers`},guildSticker(r,a){return`/guilds/${r}/stickers/${a}`},guildScheduledEvents(r){return`/guilds/${r}/scheduled-events`},guildScheduledEvent(r,a){return`/guilds/${r}/scheduled-events/${a}`},guildScheduledEventUsers(r,a){return`/guilds/${r}/scheduled-events/${a}/users`},guildOnboarding(r){return`/guilds/${r}/onboarding`},currentApplication(){return"/applications/@me"},entitlements(r){return`/applications/${r}/entitlements`},entitlement(r,a){return`/applications/${r}/entitlements/${a}`},skus(r){return`/applications/${r}/skus`},guildBulkBan(r){return`/guilds/${r}/bulk-ban`},consumeEntitlement(r,a){return`/applications/${r}/entitlements/${a}/consume`},applicationEmojis(r){return`/applications/${r}/emojis`},applicationEmoji(r,a){return`/applications/${r}/emojis/${a}`}},e.StickerPackApplicationId="710982414301790216";var i;(function(r){r.JPEG="jpeg",r.PNG="png",r.WebP="webp",r.GIF="gif",r.Lottie="json"})(i||(e.ImageFormat=i={})),e.CDNRoutes={emoji(r,a){return`/emojis/${r}.${a}`},guildIcon(r,a,s){return`/icons/${r}/${a}.${s}`},guildSplash(r,a,s){return`/splashes/${r}/${a}.${s}`},guildDiscoverySplash(r,a,s){return`/discovery-splashes/${r}/${a}.${s}`},guildBanner(r,a,s){return`/banners/${r}/${a}.${s}`},userBanner(r,a,s){return`/banners/${r}/${a}.${s}`},defaultUserAvatar(r){return`/embed/avatars/${r}.png`},userAvatar(r,a,s){return`/avatars/${r}/${a}.${s}`},guildMemberAvatar(r,a,s,o){return`/guilds/${r}/users/${a}/avatars/${s}.${o}`},userAvatarDecoration(r,a){return`/avatar-decorations/${r}/${a}.png`},avatarDecoration(r){return`/avatar-decoration-presets/${r}.png`},applicationIcon(r,a,s){return`/app-icons/${r}/${a}.${s}`},applicationCover(r,a,s){return`/app-icons/${r}/${a}.${s}`},applicationAsset(r,a,s){return`/app-assets/${r}/${a}.${s}`},achievementIcon(r,a,s,o){return`/app-assets/${r}/achievements/${a}/icons/${s}.${o}`},stickerPackBanner(r,a){return`/app-assets/${e.StickerPackApplicationId}/store/${r}.${a}`},storePageAsset(r,a,s=i.PNG){return`/app-assets/${r}/store/${a}.${s}`},teamIcon(r,a,s){return`/team-icons/${r}/${a}.${s}`},sticker(r,a){return`/stickers/${r}.${a}`},roleIcon(r,a,s){return`/role-icons/${r}/${a}.${s}`},guildScheduledEventCover(r,a,s){return`/guild-events/${r}/${a}.${s}`},guildMemberBanner(r,a,s,o){return`/guilds/${r}/users/${a}/banners/${s}.${o}`}},e.RouteBases={api:`https://discord.com/api/v${e.APIVersion}`,cdn:"https://cdn.discordapp.com",media:"https://media.discordapp.net",invite:"https://discord.gg",template:"https://discord.new",gift:"https://discord.gift",scheduledEvent:"https://discord.com/events"},Object.freeze(e.RouteBases),e.OAuth2Routes={authorizationURL:`${e.RouteBases.api}${e.Routes.oauth2Authorization()}`,tokenURL:`${e.RouteBases.api}${e.Routes.oauth2TokenExchange()}`,tokenRevocationURL:`${e.RouteBases.api}${e.Routes.oauth2TokenRevocation()}`},Object.freeze(e.OAuth2Routes)})(ul);const ve=ne(ul),nb=ve.APIVersion,ib=ve.CDNRoutes,rb=ve.EntitlementOwnerType,ab=ve.ImageFormat,sb=ve.Locale,ob=ve.OAuth2Routes,Pl=ve.RESTJSONErrorCodes,cb=ve.ReactionType,lb=ve.RouteBases,Dl=ve.Routes,ub=ve.StickerPackApplicationId,fb=Object.freeze(Object.defineProperty({__proto__:null,APIVersion:nb,CDNRoutes:ib,EntitlementOwnerType:rb,ImageFormat:ab,Locale:sb,OAuth2Routes:ob,RESTJSONErrorCodes:Pl,ReactionType:cb,RouteBases:lb,Routes:Dl,StickerPackApplicationId:ub,default:ve},Symbol.toStringTag,{value:"Module"})),db=bt(fb);var kl={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.RPCCloseEventCodes=xt.RPCErrorCodes=void 0;var eo;(function(e){e[e.UnknownError=1e3]="UnknownError",e[e.InvalidPayload=4e3]="InvalidPayload",e[e.InvalidCommand=4002]="InvalidCommand",e[e.InvalidGuild=4003]="InvalidGuild",e[e.InvalidEvent=4004]="InvalidEvent",e[e.InvalidChannel=4005]="InvalidChannel",e[e.InvalidPermissions=4006]="InvalidPermissions",e[e.InvalidClientId=4007]="InvalidClientId",e[e.InvalidOrigin=4008]="InvalidOrigin",e[e.InvalidToken=4009]="InvalidToken",e[e.InvalidUser=4010]="InvalidUser",e[e.OAuth2Error=5e3]="OAuth2Error",e[e.SelectChannelTimedOut=5001]="SelectChannelTimedOut",e[e.GetGuildTimedOut=5002]="GetGuildTimedOut",e[e.SelectVoiceForceRequired=5003]="SelectVoiceForceRequired",e[e.CaptureShortcutAlreadyListening=5004]="CaptureShortcutAlreadyListening"})(eo||(xt.RPCErrorCodes=eo={}));var to;(function(e){e[e.InvalidClientId=4e3]="InvalidClientId",e[e.InvalidOrigin=4001]="InvalidOrigin",e[e.RateLimited=4002]="RateLimited",e[e.TokenRevoked=4003]="TokenRevoked",e[e.InvalidVersion=4004]="InvalidVersion",e[e.InvalidEncoding=4005]="InvalidEncoding"})(to||(xt.RPCCloseEventCodes=to={}));(function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(xt,e)})(kl);const pr=ne(kl),hb=pr.RPCCloseEventCodes,mb=pr.RPCErrorCodes,pb=Object.freeze(Object.defineProperty({__proto__:null,RPCCloseEventCodes:hb,RPCErrorCodes:mb,default:pr},Symbol.toStringTag,{value:"Module"})),gb=bt(pb);var H={};Object.defineProperty(H,"__esModule",{value:!0});H.isDMInteraction=gr;H.isGuildInteraction=vr;H.isApplicationCommandDMInteraction=vb;H.isApplicationCommandGuildInteraction=xb;H.isMessageComponentDMInteraction=bb;H.isMessageComponentGuildInteraction=yb;H.isLinkButton=_b;H.isInteractionButton=$b;H.isMessageComponentInteraction=Ib;H.isMessageComponentButtonInteraction=Ab;H.isMessageComponentSelectMenuInteraction=wb;H.isChatInputApplicationCommandInteraction=Tb;H.isContextMenuApplicationCommandInteraction=Mb;const me=ll;function gr(e){return Reflect.has(e,"user")}function vr(e){return Reflect.has(e,"guild_id")}function vb(e){return gr(e)}function xb(e){return vr(e)}function bb(e){return gr(e)}function yb(e){return vr(e)}function _b(e){return e.style===me.ButtonStyle.Link}function $b(e){return e.style!==me.ButtonStyle.Link}function Ib(e){return e.type===me.InteractionType.MessageComponent}function Ab(e){return e.data.component_type===me.ComponentType.Button}function wb(e){return[me.ComponentType.StringSelect,me.ComponentType.UserSelect,me.ComponentType.RoleSelect,me.ComponentType.MentionableSelect,me.ComponentType.ChannelSelect].includes(e.data.component_type)}function Tb(e){return e.data.type===me.ApplicationCommandType.ChatInput}function Mb(e){return e.data.type===me.ApplicationCommandType.Message||e.data.type===me.ApplicationCommandType.User}const Pb=H.isApplicationCommandDMInteraction,Db=H.isApplicationCommandGuildInteraction,kb=H.isChatInputApplicationCommandInteraction,Lb=H.isContextMenuApplicationCommandInteraction,Ob=H.isDMInteraction,Eb=H.isGuildInteraction,Rb=H.isInteractionButton,Cb=H.isLinkButton,Ub=H.isMessageComponentButtonInteraction,Fb=H.isMessageComponentDMInteraction,Sb=H.isMessageComponentGuildInteraction,Nb=H.isMessageComponentInteraction,Bb=H.isMessageComponentSelectMenuInteraction,jb=Object.freeze(Object.defineProperty({__proto__:null,default:H,isApplicationCommandDMInteraction:Pb,isApplicationCommandGuildInteraction:Db,isChatInputApplicationCommandInteraction:kb,isContextMenuApplicationCommandInteraction:Lb,isDMInteraction:Ob,isGuildInteraction:Eb,isInteractionButton:Rb,isLinkButton:Cb,isMessageComponentButtonInteraction:Ub,isMessageComponentDMInteraction:Fb,isMessageComponentGuildInteraction:Sb,isMessageComponentInteraction:Nb,isMessageComponentSelectMenuInteraction:Bb},Symbol.toStringTag,{value:"Module"})),Vb=bt(jb);(function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0,n(Tv,e),n(Dv,e),n(ll,e),n(db,e),n(gb,e),e.Utils=Vb})(Oc);const y=ne(Oc);y.APIApplicationCommandPermissionsConstant;const Gb=y.APIVersion;y.ActivityFlags;y.ActivityPlatform;y.ActivityType;y.AllowedMentionsTypes;y.ApplicationCommandOptionType;y.ApplicationCommandPermissionType;y.ApplicationCommandType;y.ApplicationFlags;y.ApplicationIntegrationType;y.ApplicationRoleConnectionMetadataType;y.AttachmentFlags;y.AuditLogEvent;y.AuditLogOptionsType;y.AutoModerationActionType;y.AutoModerationRuleEventType;y.AutoModerationRuleKeywordPresetType;y.AutoModerationRuleTriggerType;y.ButtonStyle;y.CDNRoutes;y.ChannelFlags;y.ChannelType;y.ComponentType;y.ConnectionService;y.ConnectionVisibility;y.EmbedType;y.EntitlementOwnerType;y.EntitlementType;y.FormattingPatterns;y.ForumLayoutType;y.GatewayCloseCodes;y.GatewayDispatchEvents;y.GatewayIntentBits;y.GatewayOpcodes;y.GatewayVersion;y.GuildDefaultMessageNotifications;y.GuildExplicitContentFilter;y.GuildFeature;y.GuildHubType;y.GuildMFALevel;y.GuildMemberFlags;y.GuildNSFWLevel;y.GuildOnboardingMode;y.GuildOnboardingPromptType;y.GuildPremiumTier;y.GuildScheduledEventEntityType;y.GuildScheduledEventPrivacyLevel;y.GuildScheduledEventRecurrenceRuleFrequency;y.GuildScheduledEventRecurrenceRuleMonth;y.GuildScheduledEventRecurrenceRuleWeekday;y.GuildScheduledEventStatus;y.GuildSystemChannelFlags;y.GuildVerificationLevel;y.GuildWidgetStyle;y.ImageFormat;y.IntegrationExpireBehavior;y.InteractionContextType;y.InteractionResponseType;y.InteractionType;y.InviteTargetType;y.InviteType;y.Locale;y.MembershipScreeningFieldType;y.MessageActivityType;y.MessageFlags;y.MessageReferenceType;y.MessageType;y.OAuth2Routes;y.OAuth2Scopes;y.OverwriteType;y.PermissionFlagsBits;y.PollLayoutType;y.PresenceUpdateStatus;y.RESTJSONErrorCodes;y.RPCCloseEventCodes;y.RPCErrorCodes;y.ReactionType;y.RoleFlags;y.RouteBases;y.Routes;y.SKUFlags;y.SKUType;y.SelectMenuDefaultValueType;y.SortOrderType;y.StageInstancePrivacyLevel;y.StickerFormatType;y.StickerPackApplicationId;y.StickerType;y.TeamMemberMembershipState;y.TeamMemberRole;y.TextInputStyle;y.ThreadAutoArchiveDuration;y.ThreadMemberFlags;y.UserFlags;y.UserPremiumType;y.Utils;y.VideoQualityMode;y.WebhookType;var Hb=Object.defineProperty,qb=(e,t)=>Hb(e,"name",{value:t,configurable:!0}),De,fn=(De=class extends Map{ensure(t,n){if(this.has(t))return this.get(t);if(typeof n!="function")throw new TypeError(`${n} is not a function`);const i=n(t,this);return this.set(t,i),i}hasAll(...t){return t.every(n=>super.has(n))}hasAny(...t){return t.some(n=>super.has(n))}first(t){if(t===void 0)return this.values().next().value;if(t<0)return this.last(t*-1);t=Math.min(this.size,t);const n=this.values();return Array.from({length:t},()=>n.next().value)}firstKey(t){if(t===void 0)return this.keys().next().value;if(t<0)return this.lastKey(t*-1);t=Math.min(this.size,t);const n=this.keys();return Array.from({length:t},()=>n.next().value)}last(t){const n=[...this.values()];return t===void 0?n[n.length-1]:t<0?this.first(t*-1):t?n.slice(-t):[]}lastKey(t){const n=[...this.keys()];return t===void 0?n[n.length-1]:t<0?this.firstKey(t*-1):t?n.slice(-t):[]}at(t){return t=Math.floor(t),[...this.values()].at(t)}keyAt(t){return t=Math.floor(t),[...this.keys()].at(t)}random(t){const n=[...this.values()];return t===void 0?n[Math.floor(Math.random()*n.length)]:!n.length||!t?[]:Array.from({length:Math.min(t,n.length)},()=>n.splice(Math.floor(Math.random()*n.length),1)[0])}randomKey(t){const n=[...this.keys()];return t===void 0?n[Math.floor(Math.random()*n.length)]:!n.length||!t?[]:Array.from({length:Math.min(t,n.length)},()=>n.splice(Math.floor(Math.random()*n.length),1)[0])}reverse(){const t=[...this.entries()].reverse();this.clear();for(const[n,i]of t)this.set(n,i);return this}find(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(t(r,i,this))return r}findKey(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(t(r,i,this))return i}findLast(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=[...this.entries()];for(let r=i.length-1;r>=0;r--){const a=i[r][1],s=i[r][0];if(t(a,s,this))return a}}findLastKey(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=[...this.entries()];for(let r=i.length-1;r>=0;r--){const a=i[r][0],s=i[r][1];if(t(s,a,this))return a}}sweep(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=this.size;for(const[r,a]of this)t(a,r,this)&&this.delete(r);return i-this.size}filter(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=new this.constructor[Symbol.species];for(const[r,a]of this)t(a,r,this)&&i.set(r,a);return i}partition(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=[new this.constructor[Symbol.species],new this.constructor[Symbol.species]];for(const[r,a]of this)t(a,r,this)?i[0].set(r,a):i[1].set(r,a);return i}flatMap(t,n){const i=this.map(t,n);return new this.constructor[Symbol.species]().concat(...i)}map(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=this.entries();return Array.from({length:this.size},()=>{const[r,a]=i.next().value;return t(a,r,this)})}mapValues(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=new this.constructor[Symbol.species];for(const[r,a]of this)i.set(r,t(a,r,this));return i}some(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(t(r,i,this))return!0;return!1}every(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(!t(r,i,this))return!1;return!0}reduce(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);let i;const r=this.entries();if(n===void 0){if(this.size===0)throw new TypeError("Reduce of empty collection with no initial value");i=r.next().value[1]}else i=n;for(const[a,s]of r)i=t(i,s,a,this);return i}reduceRight(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);const i=[...this.entries()];let r,a;if(n===void 0){if(i.length===0)throw new TypeError("Reduce of empty collection with no initial value");r=i[i.length-1][1],a=i.length-1}else r=n,a=i.length;for(;--a>=0;){const s=i[a][0],o=i[a][1];r=t(r,o,s,this)}return r}each(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)t(r,i,this);return this}tap(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);return n!==void 0&&(t=t.bind(n)),t(this),this}clone(){return new this.constructor[Symbol.species](this)}concat(...t){const n=this.clone();for(const i of t)for(const[r,a]of i)n.set(r,a);return n}equals(t){if(!t)return!1;if(this===t)return!0;if(this.size!==t.size)return!1;for(const[n,i]of this)if(!t.has(n)||i!==t.get(n))return!1;return!0}sort(t=De.defaultSort){const n=[...this.entries()];n.sort((i,r)=>t(i[1],r[1],i[0],r[0])),super.clear();for(const[i,r]of n)super.set(i,r);return this}intersection(t){const n=new this.constructor[Symbol.species];for(const[i,r]of this)t.has(i)&&n.set(i,r);return n}union(t){const n=new this.constructor[Symbol.species](this);for(const[i,r]of t)n.has(i)||n.set(i,r);return n}difference(t){const n=new this.constructor[Symbol.species];for(const[i,r]of this)t.has(i)||n.set(i,r);return n}symmetricDifference(t){const n=new this.constructor[Symbol.species];for(const[i,r]of this)t.has(i)||n.set(i,r);for(const[i,r]of t)this.has(i)||n.set(i,r);return n}merge(t,n,i,r){const a=new this.constructor[Symbol.species],s=new Set([...this.keys(),...t.keys()]);for(const o of s){const c=this.has(o),l=t.has(o);if(c&&l){const u=r(this.get(o),t.get(o),o);u.keep&&a.set(o,u.value)}else if(c){const u=n(this.get(o),o);u.keep&&a.set(o,u.value)}else if(l){const u=i(t.get(o),o);u.keep&&a.set(o,u.value)}}return a}toReversed(){return new this.constructor[Symbol.species](this).reverse()}toSorted(t=De.defaultSort){return new this.constructor[Symbol.species](this).sort((n,i,r,a)=>t(n,i,r,a))}toJSON(){return[...this.entries()]}static defaultSort(t,n){return+(t>n)||+(t===n)-1}static combineEntries(t,n){const i=new De;for(const[r,a]of t)i.has(r)?i.set(r,n(i.get(r),a,r)):i.set(r,a);return i}},qb(De,"Collection"),De),Ll=Object.defineProperty,Wb=(e,t,n)=>t in e?Ll(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xr=(e,t)=>Ll(e,"name",{value:t,configurable:!0}),St=(e,t,n)=>(Wb(e,typeof t!="symbol"?t+"":t,n),n),Wi=Symbol("@sapphire/snowflake.increment"),Je=Symbol("@sapphire/snowflake.epoch"),$n=Symbol("@sapphire/snowflake.processId"),In=Symbol("@sapphire/snowflake.workerId"),Ai=0b11111n,wi=0b11111n,Ti=0b111111111111n,Ol,El,Rl,Cl,Ul=class{constructor(t){St(this,"decode",this.deconstruct),St(this,Ol),St(this,El,0n),St(this,Rl,1n),St(this,Cl,0n),this[Je]=BigInt(t instanceof Date?t.getTime():t)}get epoch(){return this[Je]}get processId(){return this[$n]}set processId(t){this[$n]=BigInt(t)&wi}get workerId(){return this[In]}set workerId(t){this[In]=BigInt(t)&Ai}generate({increment:t,timestamp:n=Date.now(),workerId:i=this[In],processId:r=this[$n]}={}){if(n instanceof Date)n=BigInt(n.getTime());else if(typeof n=="number")n=BigInt(n);else if(typeof n!="bigint")throw new TypeError(`"timestamp" argument must be a number, bigint, or Date (received ${typeof n})`);return typeof t!="bigint"&&(t=this[Wi],this[Wi]=t+1n&Ti),n-this[Je]<<22n|(i&Ai)<<17n|(r&wi)<<12n|t&Ti}deconstruct(t){const n=BigInt(t),i=this[Je];return{id:n,timestamp:(n>>22n)+i,workerId:n>>17n&Ai,processId:n>>12n&wi,increment:n&Ti,epoch:i}}timestampFrom(t){return Number((BigInt(t)>>22n)+this[Je])}static compare(t,n){const i=typeof t;return i===typeof n?i==="string"?Sl(t,n):zi(t,n):zi(BigInt(t),BigInt(n))}};Ol=Je,El=Wi,Rl=$n,Cl=In;xr(Ul,"Snowflake");var Fl=Ul;function zi(e,t){return e===t?0:e<t?-1:1}xr(zi,"cmpBigInt");function Sl(e,t){return e===t?0:e.length<t.length?-1:e.length>t.length?1:e<t?-1:1}xr(Sl,"cmpString");var zb=new Fl(1420070400000n);new Fl(1288834974657n);var Kb=Object.defineProperty,Z=(e,t)=>Kb(e,"name",{value:t,configurable:!0});function et(e){if(typeof e!="function")throw new TypeError(`The listener argument must be a function. Received ${typeof e}`)}Z(et,"validateListener");function Ki(e){if(e&&!(e instanceof AbortSignal))throw new TypeError(`The signal option must be an AbortSignal. Received ${e}`)}Z(Ki,"validateAbortSignal");function Nl(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}Z(Nl,"spliceOne");function An(e){switch(e.length){case 2:return[e[0],e[1]];case 3:return[e[0],e[1],e[2]];case 4:return[e[0],e[1],e[2],e[3]];case 5:return[e[0],e[1],e[2],e[3],e[4]];case 6:return[e[0],e[1],e[2],e[3],e[4],e[5]]}return e.slice()}Z(An,"arrayClone");function Bl(e,t){for(let n=0;n<e.length-3;n++){const i=t.indexOf(e[n]);if(i!==-1){const r=t.length-i;if(r>3){let a=1;const s=Math.min(e.length-n,r);for(;s>a&&e[n+a]===t[i+a];)a++;if(a>3)return[a,n]}}}return[0,0]}Z(Bl,"identicalSequenceRange");function jl(e,t){let n="";try{const{name:c}=this.constructor;c!=="AsyncEventEmitter"&&(n=` on ${c} instance`)}catch{}const i=`
Emitted 'error' event${n} at:
`,r=e.stack.split(`
`).slice(1),a=t.stack.split(`
`).slice(1),{0:s,1:o}=Bl(a,r);return s>0&&a.splice(o+1,s-2,"    [... lines matching original stack trace ...]"),e.stack+i+a.join(`
`)}Z(jl,"enhanceStackTrace");var Vl=class Gl{constructor(){this._events={__proto__:null},this._eventCount=0,this._maxListeners=10,this._internalPromiseMap=new Map,this._wrapperId=0n}addListener(t,n){et(n);const i=this._wrapListener(t,n,!1);return this._addListener(t,i,!1),this}on(t,n){return this.addListener(t,n)}once(t,n){et(n);const i=this._wrapListener(t,n,!0);return this._addListener(t,i,!1),this}removeListener(t,n){et(n);const i=this._events,r=i[t];if(r===void 0)return this;if(r===n||r.listener===n)--this._eventCount===0?this._events={__proto__:null}:(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener??r));else if(typeof r!="function"){let a=-1;for(let s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=s;break}if(a<0)return this;a===0?r.shift():Nl(r,a),r.length===0&&(delete i[t],--this._eventCount),i.removeListener!==void 0&&this.emit("removeListener",t,n)}return this}off(t,n){return this.removeListener(t,n)}removeAllListeners(t){const n=this._events;if(n.removeListener===void 0)return t?n[t]!==void 0&&(--this._eventCount===0?this._events={__proto__:null}:delete n[t]):(this._events={__proto__:null},this._eventCount=0),this;if(!t){for(const r of Reflect.ownKeys(n))r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={__proto__:null},this._eventCount=0,this}const i=n[t];if(typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(let r=i.length-1;r>=0;r--)this.removeListener(t,i[r]);return this}setMaxListeners(t){if(typeof t!="number"||t<0||Number.isNaN(t))throw new RangeError(`Expected to get a non-negative number for "setMaxListeners", got ${t} instead`);return this._maxListeners=t,this}getMaxListeners(){return this._maxListeners}listeners(t){const n=this._events[t];if(n===void 0)return[];if(typeof n=="function")return[n.listener??n];const i=An(n);for(let r=0;r<i.length;++r){const a=i[r].listener;typeof a=="function"&&(i[r]=a)}return i}rawListeners(t){const n=this._events[t];return n===void 0?[]:typeof n=="function"?[n]:An(n)}emit(t,...n){let i=t==="error";const r=this._events;if(r!==void 0)i=i&&r.error===void 0;else if(!i)return!1;if(i){let s;if(n.length>0&&(s=n[0]),s instanceof Error){try{const l={};Error.captureStackTrace(l,Gl.prototype.emit),Object.defineProperty(s,"stack",{value:jl.call(this,s,l),configurable:!0})}catch{}throw s}const o=String(s),c=new Error(`Unhandled 'error' event emitted, received ${o}`);throw c.context=s,c}const a=r[t];if(a===void 0)return!1;if(typeof a=="function"){const s=a.apply(this,n);s!=null&&Xi(this,s)}else{const s=a.length,o=An(a);for(let c=0;c<s;++c){const l=o[c].apply(this,n);l!=null&&Xi(this,l)}}return!0}listenerCount(t){const n=this._events;if(n===void 0)return 0;const i=n[t];return typeof i=="function"?1:(i==null?void 0:i.length)??0}prependListener(t,n){et(n);const i=this._wrapListener(t,n,!1);return this._addListener(t,i,!0),this}prependOnceListener(t,n){et(n);const i=this._wrapListener(t,n,!0);return this._addListener(t,i,!0),this}eventNames(){return this._eventCount>0?Reflect.ownKeys(this._events):[]}async waitForAllListenersToComplete(){const t=[...this._internalPromiseMap.values()];return t.length===0?!1:(await Promise.all(t),!0)}_addListener(t,n,i){this._events.newListener!==void 0&&this.emit("newListener",t,n.listener??n);let r=this._events[t];r===void 0?(r=this._events[t]=n,++this._eventCount):typeof r=="function"?r=this._events[t]=i?[n,r]:[r,n]:i?r.unshift(n):r.push(n);const a=Reflect.get(r,"_hasWarnedAboutMaxListeners");if(this._maxListeners>0&&r.length>this._maxListeners&&!a){Reflect.set(r,"_hasWarnedAboutMaxListeners",!0);const s=[`Possible AsyncEventEmitter memory leak detected. ${r.length} ${String(t)} listeners added to ${this.constructor.name}.`,"Use emitter.setMaxListeners() to increase the limit."].join(" ");console.warn(s)}}_wrapListener(t,n,i){if(!i)return n;const r={fired:!1,wrapFn:void 0,eventEmitter:this,eventName:t,listener:n},s=Hl.bind(r);return s.listener=n,r.wrapFn=s,s}static listenerCount(t,n){return t.listenerCount(n)}static async once(t,n,i={}){const r=i==null?void 0:i.signal;if(Ki(r),r!=null&&r.aborted)throw new dn(void 0,{cause:Vt(r)});return new Promise((a,s)=>{const o=Z(u=>{t.removeListener(n,c),r&&tt(t,n,l),s(u)},"errorListener"),c=Z((...u)=>{t.removeListener("error",o),r&&tt(r,"abort",l),a(u)},"resolver");t.once(n,c),n!=="error"&&t.once("error",o);const l=Z(()=>{tt(t,n,c),tt(t,"error",o),s(new dn(void 0,{cause:Vt(r)}))},"abortListener");r&&Yi(r,"abort",l,{once:!0})})}static on(t,n,i={}){const r=i==null?void 0:i.signal;if(Ki(r),r!=null&&r.aborted)throw new dn(void 0,{cause:Vt(r)});const a=[],s=[];let o=null,c=!1;const l=Z(()=>{f(new dn(void 0,{cause:Vt(r)}))},"abortListener"),u=Z((...p)=>{const d=s.shift();d?d.resolve(Gt(p,!1)):a.push(p)},"eventHandler"),f=Z(p=>{c=!0;const d=s.shift();d?d.reject(p):o=p,m.return()},"errorHandler"),m=Object.setPrototypeOf({next(){const p=a.shift();if(p)return Promise.resolve(Gt(p,!1));if(o){const d=Promise.reject(o);return o=null,d}return c?Promise.resolve(Gt(void 0,!0)):new Promise((d,v)=>{s.push({resolve:d,reject:v})})},return(){t.off(n,u),t.off("error",f),r&&tt(r,"abort",l),c=!0;const p=Gt(void 0,!0);for(const d of s)d.resolve(p);return Promise.resolve(p)},throw(p){if(!p||!(p instanceof Error))throw new TypeError(`Expected Error instance to be thrown in AsyncEventEmitter.AsyncIterator. Got ${p}`);o=p,t.off(n,u),t.off("error",f)},[Symbol.asyncIterator](){return this}},Xb);return t.on(n,u),n!=="error"&&t.on("error",f),r&&Yi(r,"abort",l),m}};Z(Vl,"AsyncEventEmitter");var Yb=Vl;function Hl(){if(!this.fired)return this.eventEmitter.removeListener(this.eventName,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.eventEmitter):this.listener.apply(this.eventEmitter,arguments)}Z(Hl,"onceWrapper");function Vt(e){return e==null?void 0:e.reason}Z(Vt,"getReason");function tt(e,t,n,i){typeof e.off=="function"?e.off(t,n):typeof e.removeEventListener=="function"&&e.removeEventListener(t,n,i)}Z(tt,"eventTargetAgnosticRemoveListener");function Yi(e,t,n,i){typeof e.on=="function"?i!=null&&i.once?e.once(t,n):e.on(t,n):typeof e.addEventListener=="function"&&e.addEventListener(t,n,i)}Z(Yi,"eventTargetAgnosticAddListener");var Xb=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function Gt(e,t){return{value:e,done:t}}Z(Gt,"createIterResult");var ql=class extends Error{constructor(t="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new TypeError("Failed to create AbortError: options is not an object or undefined");super(t,n),this.code="ABORT_ERR",this.name="AbortError"}};Z(ql,"AbortError");var dn=ql;function Xi(e,t){try{const n=t.then,i=t.finally;if(typeof n=="function"&&n.call(t,void 0,r=>{setTimeout(()=>{e.emit("error",r)},0)}),typeof i=="function"){const r=String(++e._wrapperId);e._internalPromiseMap.set(r,t),i.call(t,Z(function(){e._internalPromiseMap.delete(r)},"final"))}}catch(n){e.emit("error",n)}}Z(Xi,"handleMaybeAsync");var Wl={},br={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.fromHex=Ye.toHex=void 0;const Mi=e=>new Number(e).toString(16).toLowerCase(),Qb=e=>`0x${Mi(e).length===1?"0"+Mi(e):Mi(e)}`;Ye.toHex=Qb;const Zb=e=>new Number(e);Ye.fromHex=Zb;var zl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const t=c=>({typename:c.typename,mime:c.info.mime,extension:c.info.extension}),n=(c,l)=>c&&l.length===0,i=c=>c[0],r=c=>c.slice(1,c.length),a=(c,l)=>{if(c.bytes.length===0)return l;const u=i(c.bytes),f=r(c.bytes),m=l.bytes[u];if(n(m,f)){const p=l.bytes[u];return l.bytes[u]={...p,matches:[...p.matches?p.matches:[],t(c)]},l}return l.bytes[u]?(l.bytes[u]=e.merge(e.createNode(c.typename,f,c.info),l.bytes[u]),l):(l.bytes[u]||(l.bytes[u]={...l.bytes[u],...e.createComplexNode(c.typename,f,c.info)}),l)};e.merge=a;const s=(c,l,u)=>({typename:c,bytes:l,info:u||{}});e.createNode=s;const o=(c,l,u)=>{let f={bytes:{},matches:void 0};const m=i(l),p=r(l);return l.length===0?{matches:[t({typename:c,info:u?{extension:u.extension,mime:u.mime}:{}})],bytes:{}}:(f.bytes[m]=e.createComplexNode(c,p,u),f)};e.createComplexNode=o})(zl);Object.defineProperty(br,"__esModule",{value:!0});const Pi=Ye,Ze=zl;let Oe={noOffset:null,offset:{}};const h=(e,t,n,i)=>{if(i){const r=Oe.offset[Pi.toHex(i)];if(!r)Oe.offset[Pi.toHex(i)]=Ze.createComplexNode(e,t.map(a=>a.toLowerCase()),n);else{const a=Ze.merge(Ze.createNode(e,t.map(s=>s.toLowerCase()),n),{...r});Oe.offset[Pi.toHex(i)]=a}}else Oe.noOffset===null?Oe.noOffset=Ze.createComplexNode(e,t.map(r=>r.toLowerCase()),n):Oe.noOffset=Ze.merge(Ze.createNode(e,t.map(r=>r.toLowerCase()),n),Oe.noOffset)};h("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"});h("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"});h("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"});h("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"});h("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4);h("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4);h("rpm",["0xed","0xab","0xee","0xdb"]);h("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"});h("pic",["0x00"]);h("pif",["0x00"]);h("sea",["0x00"]);h("ytr",["0x00"]);h("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4);h("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"});h("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"});h("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"});h("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"});h("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"});h("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]);h("dba",["0xBE","0xBA","0xFE","0xCA"]);h("dba2",["0x00","0x01","0x42","0x44"]);h("tda",["0x00","0x01","0x44","0x54"]);h("tda2",["0x00","0x01","0x00","0x00"]);h("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"});h("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]);h("z",["0x1F","0x9D"]);h("tar.z",["0x1F","0xA0"]);h("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]);h("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"});h("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"});h("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"});h("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]);h("cin",["0x80","0x2A","0x5F","0xD7"]);h("cin1",["0x52","0x4E","0x43","0x01"]);h("cin2",["0x52","0x4E","0x43","0x02"]);h("dpx",["0x53","0x44","0x50","0x58"]);h("dpx2",["0x58","0x50","0x44","0x53"]);h("exr",["0x76","0x2F","0x31","0x01"]);h("bpg",["0x42","0x50","0x47","0xFB"]);h("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]);h("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]);h("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]);h("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]);h("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]);h("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]);h("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]);h("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]);h("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]);h("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]);h("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]);h("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"});h("idx",["0x49","0x4E","0x44","0x58"]);h("lz",["0x4C","0x5A","0x49","0x50"]);h("exe",["0x4D","0x5A"]);h("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"});h("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"});h("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"});h("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"});h("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"});h("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"});h("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"});h("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"});h("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"});h("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"});h("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"});h("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"});h("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"});h("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"});h("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"});h("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"});h("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"});h("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"});h("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"});h("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"});h("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"});h("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"});h("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"});h("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"});h("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"});h("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"});h("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"});h("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"});h("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"});h("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"});h("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"});h("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"});h("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"});h("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"});h("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"});h("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"});h("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"});h("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"});h("class",["0xCA","0xFE","0xBA","0xBE"]);h("class",["0xEF","0xBB","0xBF"]);h("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096);h("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096);h("class",["0xCE","0xFA","0xed","0xFE"]);h("class",["0xCF","0xFA","0xed","0xFE"]);h("class",["0xFF","0xFE"]);h("class",["0xFF","0xFE"]);h("class",["0xFF","0xFE","0x00","0x00"]);h("ps",["0x25","0x21","0x50","0x53"],{mime:"application/postscript",extension:".ps"});h("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"});h("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]);h("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]);h("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]);h("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]);h("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"});h("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"});h("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"});h("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"});h("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"});h("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"});h("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"});h("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]);h("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"});h("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"});h("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"});h("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"});h("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"});h("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"});h("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"});h("iso",["0x43","0x44","0x30","0x30","0x31"]);h("flac",["0x66","0x4C","0x61","0x43"]);h("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"});h("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"});h("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"});h("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"});h("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"});h("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]);h("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]);h("vmdk",["0x4B","0x44","0x4D"]);h("crx",["0x43","0x72","0x32","0x34"]);h("fh8",["0x41","0x47","0x44","0x33"]);h("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]);h("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]);h("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]);h("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]);h("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]);h("xar",["0x78","0x61","0x72","0x21"]);h("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]);h("nes",["0x4E","0x45","0x53","0x1A"]);h("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],{mime:"application/x-tar",extension:"tar"},257);h("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],{mime:"application/x-tar",extension:"tar"},257);h("tox",["0x74","0x6F","0x78","0x33"]);h("mlv",["0x4D","0x4C","0x56","0x49"]);h("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]);h("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"});h("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"});h("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"});h("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"});h("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"});h("lz2",["0x04","0x22","0x4D","0x18"]);h("cab",["0x4D","0x53","0x43","0x46"]);h("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"});h("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"});h("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"});h("mk3d",["0x1A","0x45","0xDF","0xA3"]);h("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"});h("dcm",["0x44","0x49","0x43","0x4D"],void 0,128);h("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"});h("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"});h("lep",["0xCF","0x84","0x01"]);h("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"});h("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"});h("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]);h("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"});h("m2p",["0x00","0x00","0x01","0xBA"]);h("vob",["0x00","0x00","0x01","0xBA"]);h("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"});h("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"});h("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"});h("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"});h("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4);h("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4);h("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4);h("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4);h("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4);h("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]);h("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"});h("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"});h("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"});h("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"});h("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"});h("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"});h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"});h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"});h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"});h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"});h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"});h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"});h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"});h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"});h("Json",["0x7B"],{mime:"application/json",extension:".json"});h("Json",["0x5B"],{mime:"application/json",extension:".json"});h("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"});h("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"});h("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"});h("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"});h("SVG",["0x3c","0x73","0x76","0x67"],{mime:"image/svg+xml",extension:"svg"});br.default=()=>Oe;(function(e){var t=S&&S.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const n=t(br),i=Ye,r=n.default(),a=u=>{let f=r;for(const m of Object.keys(f.offset)){const p=i.fromHex(m);if(p>=u.length)continue;const v=r.offset[m],g=s(p,u,v);if(g.length>0)return g}return f.noOffset===null?[]:s(0,u,f.noOffset)};e.filetypeinfo=a;const s=(u,f,m)=>{let p=m,d=[];for(;;){const v=i.toHex(f[u]);if(p.bytes["?"]&&!p.bytes[v]?p=p.bytes["?"]:p=p.bytes[v],!p)return d;p&&p.matches&&(d=p.matches.slice(0)),u+=1}};e.default=e.filetypeinfo;const o=u=>e.filetypeinfo(u).map(f=>f.typename);e.filetypename=o;const c=u=>e.filetypeinfo(u).map(f=>f.mime?f.mime:null).filter(f=>f!==null);e.filetypemime=c;const l=u=>e.filetypeinfo(u).map(f=>f.extension?f.extension:null).filter(f=>f!==null);e.filetypeextension=l})(Wl);var Kl=Object.defineProperty,Jb=(e,t,n)=>t in e?Kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yl=(e,t)=>Kl(e,"name",{value:t,configurable:!0}),Ve=(e,t,n)=>Jb(e,typeof t!="symbol"?t+"":t,n),Xl=class{constructor(t){Ve(this,"promise"),Ve(this,"resolve"),Ve(this,"reject"),Ve(this,"queue"),Ve(this,"signal",null),Ve(this,"signalListener",null),this.queue=t,this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}setSignal(t){return t.aborted?this:(this.signal=t,this.signalListener=()=>{const n=this.queue.promises.indexOf(this);n!==-1&&this.queue.promises.splice(n,1),this.reject(new Error("Request aborted manually"))},this.signal.addEventListener("abort",this.signalListener),this)}use(){return this.dispose(),this.resolve(),this}abort(){return this.dispose(),this.reject(new Error("Request aborted manually")),this}dispose(){this.signal&&(this.signal.removeEventListener("abort",this.signalListener),this.signal=null,this.signalListener=null)}};Yl(Xl,"AsyncQueueEntry");var ey=Xl,Ql=class{constructor(){Ve(this,"promises",[])}get remaining(){return this.promises.length}get queued(){return this.remaining===0?0:this.remaining-1}wait(t){const n=new ey(this);return this.promises.length===0?(this.promises.push(n),Promise.resolve()):(this.promises.push(n),t!=null&&t.signal&&n.setSignal(t.signal),n.promise)}shift(){if(this.promises.length!==0){if(this.promises.length===1){this.promises.shift();return}this.promises.shift(),this.promises[0].use()}}abortAll(){if(this.queued!==0){for(let t=1;t<this.promises.length;++t)this.promises[t].abort();this.promises.length=1}}};Yl(Ql,"AsyncQueue");var no=Ql,ty=Object.defineProperty,z=(e,t)=>ty(e,"name",{value:t,configurable:!0}),Zl;function Jl(e){Zl=e}z(Jl,"setDefaultStrategy");function eu(){return Zl}z(eu,"getDefaultStrategy");var ny="DiscordBot (https://discord.js.org, 2.4.0)",iy=Lc(),qt={agent:null,api:"https://discord.com/api",authPrefix:"Bot",cdn:"https://cdn.discordapp.com",headers:{},invalidRequestWarningInterval:0,globalRequestsPerSecond:50,offset:50,rejectOnRateLimit:null,retries:3,timeout:15e3,userAgentAppendix:iy,version:Gb,hashSweepInterval:144e5,hashLifetime:864e5,handlerSweepInterval:36e5,async makeRequest(...e){return eu()(...e)},mediaProxy:"https://media.discordapp.net"},ry=["webp","png","jpg","jpeg","gif"],ay=["png","json","gif"],io=[16,32,64,128,256,512,1024,2048,4096],sy={"image/apng":"image/png"},ro="burst",ao="DeprecationWarning",qe,oy=(qe=class extends Error{constructor({timeToReset:n,limit:i,method:r,hash:a,url:s,route:o,majorParameter:c,global:l,retryAfter:u,sublimitTimeout:f,scope:m}){super();T(this,"timeToReset");T(this,"limit");T(this,"method");T(this,"hash");T(this,"url");T(this,"route");T(this,"majorParameter");T(this,"global");T(this,"retryAfter");T(this,"sublimitTimeout");T(this,"scope");this.timeToReset=n,this.limit=i,this.method=r,this.hash=a,this.url=s,this.route=o,this.majorParameter=c,this.global=l,this.retryAfter=u,this.sublimitTimeout=f,this.scope=m}get name(){return`${qe.name}[${this.route}]`}},z(qe,"RateLimitError"),qe);function tu(e){switch(typeof e){case"string":return e;case"number":case"bigint":case"boolean":return e.toString();case"object":return e===null?null:e instanceof Date?Number.isNaN(e.getTime())?null:e.toISOString():typeof e.toString=="function"&&e.toString!==Object.prototype.toString?e.toString():null;default:return null}}z(tu,"serializeSearchParam");function cy(e){const t=new URLSearchParams;if(!e)return t;for(const[n,i]of Object.entries(e)){const r=tu(i);r!==null&&t.append(n,r)}return t}z(cy,"makeURLSearchParams");async function yr(e){var t;return(t=e.headers.get("Content-Type"))!=null&&t.startsWith("application/json")?e.json():e.arrayBuffer()}z(yr,"parseResponse");function Qi(e,t,n){if(e==="/channels/:id"){if(typeof t!="object"||t===null||n!=="PATCH")return!1;const i=t;return["name","topic"].some(r=>Reflect.has(i,r))}return!0}z(Qi,"hasSublimit");function nu(e){return e.name==="AbortError"?!0:"code"in e&&e.code==="ECONNRESET"||e.message.includes("ECONNRESET")}z(nu,"shouldRetry");async function On(e,t){const{options:n}=e;if(!n.rejectOnRateLimit)return;if(typeof n.rejectOnRateLimit=="function"?await n.rejectOnRateLimit(t):n.rejectOnRateLimit.some(r=>t.route.startsWith(r.toLowerCase())))throw new oy(t)}z(On,"onRateLimit");function ly(e){return Number(BigInt(e)>>22n)%6}z(ly,"calculateUserDefaultAvatarIndex");async function Wt(e){return new Promise(t=>{setTimeout(()=>t(),e)})}z(Wt,"sleep");function iu(e){return e instanceof ArrayBuffer||e instanceof Uint8Array||e instanceof Uint8ClampedArray}z(iu,"isBufferLike");function ru(e){typeof globalThis.process>"u"?console.warn(`${ao}: ${e}`):process.emitWarning(e,ao)}z(ru,"deprecationWarning");function it(e,t){if(typeof e=="number")return Math.max(0,e);const n=e(t);return Math.max(0,n)}z(it,"normalizeRateLimitOffset");var so=!1,rt,uy=(rt=class{constructor(t=qt.cdn,n=qt.mediaProxy){this.cdn=t,this.mediaProxy=n}appAsset(t,n,i){return this.makeURL(`/app-assets/${t}/${n}`,i)}appIcon(t,n,i){return this.makeURL(`/app-icons/${t}/${n}`,i)}avatar(t,n,i){return this.dynamicMakeURL(`/avatars/${t}/${n}`,n,i)}avatarDecoration(t,n,i){return n?this.makeURL(`/avatar-decorations/${t}/${n}`,i):this.makeURL(`/avatar-decoration-presets/${t}`,{extension:"png"})}banner(t,n,i){return this.dynamicMakeURL(`/banners/${t}/${n}`,n,i)}channelIcon(t,n,i){return this.makeURL(`/channel-icons/${t}/${n}`,i)}defaultAvatar(t){return this.makeURL(`/embed/avatars/${t}`,{extension:"png"})}discoverySplash(t,n,i){return this.makeURL(`/discovery-splashes/${t}/${n}`,i)}emoji(t,n){let i;return typeof n=="string"?(so||(ru("Passing a string for the second parameter of CDN#emoji() is deprecated. Use an object instead."),so=!0),i={extension:n}):i=n,this.makeURL(`/emojis/${t}`,i)}guildMemberAvatar(t,n,i,r){return this.dynamicMakeURL(`/guilds/${t}/users/${n}/avatars/${i}`,i,r)}guildMemberBanner(t,n,i,r){return this.dynamicMakeURL(`/guilds/${t}/users/${n}/banner`,i,r)}icon(t,n,i){return this.dynamicMakeURL(`/icons/${t}/${n}`,n,i)}roleIcon(t,n,i){return this.makeURL(`/role-icons/${t}/${n}`,i)}splash(t,n,i){return this.makeURL(`/splashes/${t}/${n}`,i)}sticker(t,n="png"){return this.makeURL(`/stickers/${t}`,{allowedExtensions:ay,base:n==="gif"?this.mediaProxy:this.cdn,extension:n})}stickerPackBanner(t,n){return this.makeURL(`/app-assets/710982414301790216/store/${t}`,n)}teamIcon(t,n,i){return this.makeURL(`/team-icons/${t}/${n}`,i)}guildScheduledEventCover(t,n,i){return this.makeURL(`/guild-events/${t}/${n}`,i)}dynamicMakeURL(t,n,{forceStatic:i=!1,...r}={}){return this.makeURL(t,!i&&n.startsWith("a_")?{...r,extension:"gif"}:r)}makeURL(t,{allowedExtensions:n=ry,base:i=this.cdn,extension:r="webp",size:a}={}){if(r=String(r).toLowerCase(),!n.includes(r))throw new RangeError(`Invalid extension provided: ${r}
Must be one of: ${n.join(", ")}`);if(a&&!io.includes(a))throw new RangeError(`Invalid size provided: ${a}
Must be one of: ${io.join(", ")}`);const s=new URL(`${i}${t}.${r}`);return a&&s.searchParams.set("size",String(a)),s.toString()}},z(rt,"CDN"),rt);function au(e){return Reflect.has(e,"_errors")}z(au,"isErrorGroupWrapper");function su(e){return typeof Reflect.get(e,"message")=="string"}z(su,"isErrorResponse");var Ce,ou=(Ce=class extends Error{constructor(n,i,r,a,s,o){super(Ce.getMessage(n));T(this,"requestBody");this.rawError=n,this.code=i,this.status=r,this.method=a,this.url=s,this.requestBody={files:o.files,json:o.body}}get name(){return`${Ce.name}[${this.code}]`}static getMessage(n){let i="";return"code"in n?(n.errors&&(i=[...this.flattenDiscordError(n.errors)].join(`
`)),n.message&&i?`${n.message}
${i}`:n.message||i||"Unknown Error"):n.error_description??"No Description"}static*flattenDiscordError(n,i=""){if(su(n))return yield`${i.length?`${i}[${n.code}]`:`${n.code}`}: ${n.message}`.trim();for(const[r,a]of Object.entries(n)){const s=r.startsWith("_")?i:i?Number.isNaN(Number(r))?`${i}.${r}`:`${i}[${r}]`:r;if(typeof a=="string")yield a;else if(au(a))for(const o of a._errors)yield*this.flattenDiscordError(o,s);else yield*this.flattenDiscordError(a,s)}}},z(Ce,"DiscordAPIError"),Ce),We,fy=(We=class extends Error{constructor(n,i,r,a,s){super(i);T(this,"requestBody");T(this,"name",We.name);this.status=n,this.method=r,this.url=a,this.requestBody={files:s.files,json:s.body}}},z(We,"HTTPError"),We),hn=0,mn=null;function _r(e){(!mn||mn<Date.now())&&(mn=Date.now()+1e3*60*10,hn=0),hn++,e.options.invalidRequestWarningInterval>0&&hn%e.options.invalidRequestWarningInterval===0&&e.emit("invalidRequestWarning",{count:hn,remainingTime:mn-Date.now()})}z(_r,"incrementInvalidCount");async function $r(e,t,n,i,r,a){const s=new AbortController,o=setTimeout(()=>s.abort(),e.options.timeout);r.signal&&(r.signal.aborted?s.abort():r.signal.addEventListener("abort",()=>s.abort()));let c;try{c=await e.options.makeRequest(n,{...i,signal:s.signal})}catch(l){if(!(l instanceof Error))throw l;if(nu(l)&&a!==e.options.retries)return null;throw l}finally{clearTimeout(o)}return e.listenerCount("response")&&e.emit("response",{method:i.method??"get",path:t.original,route:t.bucketRoute,options:i,data:r,retries:a},c instanceof Response?c.clone():{...c}),c}z($r,"makeNetworkRequest");async function Ir(e,t,n,i,r,a){const s=t.status;if(s>=500&&s<600){if(a!==e.options.retries)return null;throw new fy(s,t.statusText,n,i,r)}else{if(s>=400&&s<500){s===401&&r.auth&&e.setToken(null);const o=await yr(t);throw new ou(o,"code"in o?o.code:o.error,s,n,i,r)}return t}}z(Ir,"handleErrors");var at,dy=(at=class{constructor(t,n,i){T(this,"id");T(this,"inactive",!1);this.manager=t,this.hash=n,this.majorParameter=i,this.id=`${n}:${i}`}debug(t){this.manager.emit("restDebug",`[REST ${this.id}] ${t}`)}async queueRequest(t,n,i,r){return this.runRequest(t,n,i,r)}async runRequest(t,n,i,r,a=0){const s=i.method??"get",o=await $r(this.manager,t,n,i,r,a);if(o===null)return this.runRequest(t,n,i,r,++a);const c=o.status;let l=0;const u=o.headers.get("Retry-After"),f=it(this.manager.options.offset,t.bucketRoute);if(u&&(l=Number(u)*1e3+f),(c===401||c===403||c===429)&&_r(this.manager),c>=200&&c<300)return o;if(c===429){const m=o.headers.has("X-RateLimit-Global"),p=o.headers.get("X-RateLimit-Scope")??"user";return await On(this.manager,{global:m,method:s,url:n,route:t.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:Number.POSITIVE_INFINITY,timeToReset:l,retryAfter:l,sublimitTimeout:0,scope:p}),this.debug(["Encountered unexpected 429 rate limit",`  Global         : ${m}`,`  Method         : ${s}`,`  URL            : ${n}`,`  Bucket         : ${t.bucketRoute}`,`  Major parameter: ${t.majorParameter}`,`  Hash           : ${this.hash}`,`  Limit          : ${Number.POSITIVE_INFINITY}`,`  Retry After    : ${l}ms`,"  Sublimit       : None",`  Scope          : ${p}`].join(`
`)),await Wt(l),this.runRequest(t,n,i,r,a)}else{const m=await Ir(this.manager,o,s,n,r,a);return m===null?this.runRequest(t,n,i,r,++a):m}}},z(at,"BurstHandler"),at),Ee,ae,Pe,st,ot,hy=(ot=class{constructor(t,n,i){T(this,"id");T(this,"reset",-1);T(this,"remaining",1);T(this,"limit",Number.POSITIVE_INFINITY);Me(this,Ee,new no);Me(this,ae,null);Me(this,Pe,null);Me(this,st,!1);this.manager=t,this.hash=n,this.majorParameter=i,this.id=`${n}:${i}`}get inactive(){return j(this,Ee).remaining===0&&(j(this,ae)===null||j(this,ae).remaining===0)&&!this.limited}get globalLimited(){return this.manager.globalRemaining<=0&&Date.now()<this.manager.globalReset}get localLimited(){return this.remaining<=0&&Date.now()<this.reset}get limited(){return this.globalLimited||this.localLimited}getTimeToReset(t){const n=it(this.manager.options.offset,t.bucketRoute);return this.reset+n-Date.now()}debug(t){this.manager.emit("restDebug",`[REST ${this.id}] ${t}`)}async globalDelayFor(t){await Wt(t),this.manager.globalDelay=null}async queueRequest(t,n,i,r){var o,c,l;let a=j(this,Ee),s=0;if(j(this,ae)&&Qi(t.bucketRoute,r.body,i.method)&&(a=j(this,ae),s=1),await a.wait({signal:r.signal}),s===0)if(j(this,ae)&&Qi(t.bucketRoute,r.body,i.method)){a=j(this,ae);const u=a.wait();j(this,Ee).shift(),await u}else j(this,Pe)&&await j(this,Pe).promise;try{return await this.runRequest(t,n,i,r)}finally{a.shift(),j(this,st)&&(re(this,st,!1),(o=j(this,ae))==null||o.shift()),((c=j(this,ae))==null?void 0:c.remaining)===0&&((l=j(this,Pe))==null||l.resolve(),re(this,ae,null))}}async runRequest(t,n,i,r,a=0){var w;for(;this.limited;){const _=this.globalLimited;let R,k,Y;if(_){const le=it(this.manager.options.offset,t.bucketRoute);R=this.manager.options.globalRequestsPerSecond,k=this.manager.globalReset+le-Date.now(),this.manager.globalDelay||(this.manager.globalDelay=this.globalDelayFor(k)),Y=this.manager.globalDelay}else R=this.limit,k=this.getTimeToReset(t),Y=Wt(k);const q={global:_,method:i.method??"get",url:n,route:t.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:R,timeToReset:k,retryAfter:k,sublimitTimeout:0,scope:"user"};this.manager.emit("rateLimited",q),await On(this.manager,q),_?this.debug(`Global rate limit hit, blocking all requests for ${k}ms`):this.debug(`Waiting ${k}ms for rate limit to pass`),await Y}(!this.manager.globalReset||this.manager.globalReset<Date.now())&&(this.manager.globalReset=Date.now()+1e3,this.manager.globalRemaining=this.manager.options.globalRequestsPerSecond),this.manager.globalRemaining--;const s=i.method??"get",o=await $r(this.manager,t,n,i,r,a);if(o===null)return this.runRequest(t,n,i,r,++a);const c=o.status;let l=0;const u=o.headers.get("X-RateLimit-Limit"),f=o.headers.get("X-RateLimit-Remaining"),m=o.headers.get("X-RateLimit-Reset-After"),p=o.headers.get("X-RateLimit-Bucket"),d=o.headers.get("Retry-After"),v=o.headers.get("X-RateLimit-Scope")??"user",g=it(this.manager.options.offset,t.bucketRoute);if(this.limit=u?Number(u):Number.POSITIVE_INFINITY,this.remaining=f?Number(f):1,this.reset=m?Number(m)*1e3+Date.now()+g:Date.now(),d&&(l=Number(d)*1e3+g),p&&p!==this.hash)this.debug(["Received bucket hash update",`  Old Hash  : ${this.hash}`,`  New Hash  : ${p}`].join(`
`)),this.manager.hashes.set(`${s}:${t.bucketRoute}`,{value:p,lastAccess:Date.now()});else if(p){const _=this.manager.hashes.get(`${s}:${t.bucketRoute}`);_&&(_.lastAccess=Date.now())}let x=null;if(l>0&&(o.headers.has("X-RateLimit-Global")?(this.manager.globalRemaining=0,this.manager.globalReset=Date.now()+l):this.localLimited||(x=l)),(c===401||c===403||c===429)&&_r(this.manager),o.ok)return o;if(c===429){const _=this.globalLimited;let R,k;if(_){const Y=it(this.manager.options.offset,t.bucketRoute);R=this.manager.options.globalRequestsPerSecond,k=this.manager.globalReset+Y-Date.now()}else R=this.limit,k=this.getTimeToReset(t);if(await On(this.manager,{global:_,method:s,url:n,route:t.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:R,timeToReset:k,retryAfter:l,sublimitTimeout:x??0,scope:v}),this.debug(["Encountered unexpected 429 rate limit",`  Global         : ${_.toString()}`,`  Method         : ${s}`,`  URL            : ${n}`,`  Bucket         : ${t.bucketRoute}`,`  Major parameter: ${t.majorParameter}`,`  Hash           : ${this.hash}`,`  Limit          : ${R}`,`  Retry After    : ${l}ms`,`  Sublimit       : ${x?`${x}ms`:"None"}`,`  Scope          : ${v}`].join(`
`)),x){const Y=!j(this,ae);Y&&(re(this,ae,new no),j(this,ae).wait(),j(this,Ee).shift()),(w=j(this,Pe))==null||w.resolve(),re(this,Pe,null),await Wt(x);let q;const le=new Promise(X=>q=X);re(this,Pe,{promise:le,resolve:q}),Y&&(await j(this,Ee).wait(),re(this,st,!0))}return this.runRequest(t,n,i,r,a)}else{const _=await Ir(this.manager,o,s,n,r,a);return _===null?this.runRequest(t,n,i,r,++a):_}}},Ee=new WeakMap,ae=new WeakMap,Pe=new WeakMap,st=new WeakMap,z(ot,"SequentialHandler"),ot),ct,ze,my=(ze=class extends Yb{constructor(n={}){super();T(this,"agent",null);T(this,"cdn");T(this,"globalRemaining");T(this,"globalDelay",null);T(this,"globalReset",-1);T(this,"hashes",new fn);T(this,"handlers",new fn);Me(this,ct,null);T(this,"hashTimer");T(this,"handlerTimer");T(this,"options");this.cdn=new uy(n.cdn??qt.cdn,n.mediaProxy??qt.mediaProxy),this.options={...qt,...n},this.globalRemaining=Math.max(1,this.options.globalRequestsPerSecond),this.agent=n.agent??null,this.setupSweepers()}setupSweepers(){var i,r,a,s;const n=z(o=>{if(o>144e5)throw new Error("Cannot set an interval greater than 4 hours")},"validateMaxInterval");this.options.hashSweepInterval!==0&&this.options.hashSweepInterval!==Number.POSITIVE_INFINITY&&(n(this.options.hashSweepInterval),this.hashTimer=setInterval(()=>{const o=new fn,c=Date.now();this.hashes.sweep((l,u)=>{if(l.lastAccess===-1)return!1;const f=Math.floor(c-l.lastAccess)>this.options.hashLifetime;return f&&(o.set(u,l),this.emit("restDebug",`Hash ${l.value} for ${u} swept due to lifetime being exceeded`)),f}),this.emit("hashSweep",o)},this.options.hashSweepInterval),(r=(i=this.hashTimer).unref)==null||r.call(i)),this.options.handlerSweepInterval!==0&&this.options.handlerSweepInterval!==Number.POSITIVE_INFINITY&&(n(this.options.handlerSweepInterval),this.handlerTimer=setInterval(()=>{const o=new fn;this.handlers.sweep((c,l)=>{const{inactive:u}=c;return u&&(o.set(l,c),this.emit("restDebug",`Handler ${c.id} for ${l} swept due to being inactive`)),u}),this.emit("handlerSweep",o)},this.options.handlerSweepInterval),(s=(a=this.handlerTimer).unref)==null||s.call(a))}async get(n,i={}){return this.request({...i,fullRoute:n,method:"GET"})}async delete(n,i={}){return this.request({...i,fullRoute:n,method:"DELETE"})}async post(n,i={}){return this.request({...i,fullRoute:n,method:"POST"})}async put(n,i={}){return this.request({...i,fullRoute:n,method:"PUT"})}async patch(n,i={}){return this.request({...i,fullRoute:n,method:"PATCH"})}async request(n){const i=await this.queueRequest(n);return yr(i)}setAgent(n){return this.agent=n,this}setToken(n){return re(this,ct,n),this}async queueRequest(n){const i=ze.generateRouteData(n.fullRoute,n.method),r=this.hashes.get(`${n.method}:${i.bucketRoute}`)??{value:`Global(${n.method}:${i.bucketRoute})`,lastAccess:-1},a=this.handlers.get(`${r.value}:${i.majorParameter}`)??this.createHandler(r.value,i.majorParameter),{url:s,fetchOptions:o}=await this.resolveRequest(n);return a.queueRequest(i,s,o,{body:n.body,files:n.files,auth:n.auth!==!1,signal:n.signal})}createHandler(n,i){const r=i===ro?new dy(this,n,i):new hy(this,n,i);return this.handlers.set(r.id,r),r}async resolveRequest(n){var f,m;const{options:i}=this;let r="";if(n.query){const p=n.query.toString();p!==""&&(r=`?${p}`)}const a={...this.options.headers,"User-Agent":`${ny} ${i.userAgentAppendix}`.trim()};if(n.auth!==!1){if(!j(this,ct))throw new Error("Expected token to be set for this request, but none was present");a.Authorization=`${n.authPrefix??this.options.authPrefix} ${j(this,ct)}`}(f=n.reason)!=null&&f.length&&(a["X-Audit-Log-Reason"]=encodeURIComponent(n.reason));const s=`${i.api}${n.versioned===!1?"":`/v${i.version}`}${n.fullRoute}${r}`;let o,c={};if((m=n.files)!=null&&m.length){const p=new FormData;for(const[d,v]of n.files.entries()){const g=v.key??`files[${d}]`;if(iu(v.data)){let x=v.contentType;if(!x){const[w]=Wl.filetypeinfo(v.data);w&&(x=sy[w.mime]??w.mime??"application/octet-stream")}p.append(g,new Blob([v.data],{type:x}),v.name)}else p.append(g,new Blob([`${v.data}`],{type:v.contentType}),v.name)}if(n.body!=null)if(n.appendToFormData)for(const[d,v]of Object.entries(n.body))p.append(d,v);else p.append("payload_json",JSON.stringify(n.body));o=p}else n.body!=null&&(n.passThroughBody?o=n.body:(o=JSON.stringify(n.body),c={"Content-Type":"application/json"}));const l=n.method.toUpperCase(),u={body:["GET","HEAD"].includes(l)?null:o,headers:{...n.headers,...c,...a},method:l,dispatcher:n.dispatcher??this.agent??void 0};return{url:s,fetchOptions:u}}clearHashSweeper(){clearInterval(this.hashTimer)}clearHandlerSweeper(){clearInterval(this.handlerTimer)}static generateRouteData(n,i){if(n.startsWith("/interactions/")&&n.endsWith("/callback"))return{majorParameter:ro,bucketRoute:"/interactions/:id/:token/callback",original:n};const r=/(?:^\/webhooks\/(\d{17,19}\/[^/?]+))|(?:^\/(?:channels|guilds|webhooks)\/(\d{17,19}))/.exec(n),a=(r==null?void 0:r[2])??(r==null?void 0:r[1])??"global",s=n.replaceAll(/\d{17,19}/g,":id").replace(/\/reactions\/(.*)/,"/reactions/:reaction").replace(/\/webhooks\/:id\/[^/?]+/,"/webhooks/:id/:token");let o="";if(i==="DELETE"&&s==="/channels/:id/messages/:id"){const c=/\d{17,19}$/.exec(n)[0],l=zb.timestampFrom(c);Date.now()-l>1e3*60*60*24*14&&(o+="/Delete Old Message")}return{majorParameter:a,bucketRoute:s+o,original:n}}},ct=new WeakMap,z(ze,"REST"),ze);Jl(fetch);var cu={};function pe(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var py=pe;pe.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};pe.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};pe.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},n),this._options.unref&&this._timer.unref(),!0};pe.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};pe.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};pe.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};pe.prototype.start=pe.prototype.try;pe.prototype.errors=function(){return this._errors};pe.prototype.attempts=function(){return this._attempts};pe.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var r=this._errors[i],a=r.message,s=(e[a]||0)+1;e[a]=s,s>=n&&(t=r,n=s)}return t};(function(e){var t=py;e.operation=function(n){var i=e.timeouts(n);return new t(i,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var i={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in n)i[r]=n[r];if(i.minTimeout>i.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<i.retries;s++)a.push(this.createTimeout(s,i));return n&&n.forever&&!a.length&&a.push(this.createTimeout(s,i)),a.sort(function(o,c){return o-c}),a},e.createTimeout=function(n,i){var r=i.randomize?Math.random()+1:1,a=Math.round(r*Math.max(i.minTimeout,1)*Math.pow(i.factor,n));return a=Math.min(a,i.maxTimeout),a},e.wrap=function(n,i,r){if(i instanceof Array&&(r=i,i=null),!r){r=[];for(var a in n)typeof n[a]=="function"&&r.push(a)}for(var s=0;s<r.length;s++){var o=r[s],c=n[o];n[o]=(function(u){var f=e.operation(i),m=Array.prototype.slice.call(arguments,1),p=m.pop();m.push(function(d){f.retry(d)||(d&&(arguments[0]=f.mainError()),p.apply(this,arguments))}),f.attempt(function(){u.apply(n,m)})}).bind(n,c),n[o].options=i}}})(cu);var gy=cu;const vy=ne(gy),xy=Object.prototype.toString,by=e=>xy.call(e)==="[object Error]",yy=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function _y(e){return e&&by(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:yy.has(e.message):!1}class wn extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const oo=(e,t,n)=>{const i=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=i,e};async function $y(e,t){return new Promise((n,i)=>{t={onFailedAttempt(){},retries:10,shouldRetry:()=>!0,...t};const r=vy.operation(t),a=()=>{var o;r.stop(),i((o=t.signal)==null?void 0:o.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",a,{once:!0});const s=()=>{var o;(o=t.signal)==null||o.removeEventListener("abort",a),r.stop()};r.attempt(async o=>{try{const c=await e(o);s(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof wn)throw c.originalError;if(c instanceof TypeError&&!_y(c))throw c;if(oo(c,o,t),await t.shouldRetry(c)||(r.stop(),i(c)),await t.onFailedAttempt(c),!r.retry(c))throw r.mainError()}catch(l){oo(l,o,t),s(),i(l)}}})})}const co=`https://${Zi}`;class Iy{constructor(t){T(this,"log",Jt.extend("OAuthManager"));T(this,"clientId","503557087041683458");T(this,"redirectUri","https://login.premid.app");T(this,"refreshAlarm");T(this,"rest",new my({authPrefix:"Bearer",version:"10"}));this.pmd=t,Bt.watch(n=>{n&&this.setDiscordUser(n),Ni()}),this.init()}async openOAuth2Window(){const t=lu(32),{codeVerifier:n,codeChallenge:i}=await Ty(),r=new URL("https://discord.com/oauth2/authorize");await fe.setValue({state:t,verifier:n}),r.searchParams.set("client_id",this.clientId),r.searchParams.set("redirect_uri",this.redirectUri),r.searchParams.set("response_type","code"),r.searchParams.set("scope","identify activities.write"),r.searchParams.set("state",t),r.searchParams.set("code_challenge",i),r.searchParams.set("code_challenge_method","S256"),await C.tabs.create({url:r.toString()}),this.log("Opened OAuth2 window")}async init(){var i,r;const t=await fe.getValue(),n=await lt();t&&"token"in t&&(this.rest=this.rest.setToken(t.token),(i=this.pmd.websocketManager)==null||i.send({type:"token",token:t.token,expires:t.expires}),(r=this.pmd.sessionKeepAlive)==null||r.setToken(t.token),n&&this.createRefreshTokenAlarm()),n&&(oe.watch((a,s)=>{(s==null?void 0:s.usePlayingStatus)!==(a==null?void 0:a.usePlayingStatus)&&this.createHeadlessSession()}),C.tabs.onUpdated.addListener(async(a,s,o)=>{var d,v;if(s.status!=="complete"||!((d=o.url)!=null&&d.startsWith("https://login.premid.app")))return;await C.tabs.remove(a).catch(()=>{});const{searchParams:c}=new URL(((v=o.url)==null?void 0:v.toString())??""),l=c.get("code"),u=c.get("state"),f=c.get("error"),m=c.get("error_description");if(f){this.log(f,m);return}if(!l||!u)return this.log("No code or state");const p=await fe.getValue();if(!p)return this.log("No oauth2");if(!("state"in p))return this.log("No state in oauth2");if(u!==p.state)return this.log("State doesn't match");this.getAuthorizationCode(l)}),await Promise.allSettled([this.deleteHeadlessSession(),this.fetchUser()]),C.alarms.onAlarm.addListener(async a=>{a.name==="headlessSessionRefresh"&&(this.log("Refreshing headless session due to expiration"),await this.createHeadlessSession()),a.name==="requestRefreshToken"&&(this.log("Requesting refresh token"),await this.refreshToken())}),this.log("Initialized"))}async getAuthorizationCode(t){var a,s;const n=await fe.getValue();if(!n||!("verifier"in n))return this.log("No verifier in oauth2");const i=await fetch("https://discord.com/api/oauth2/token",{body:new URLSearchParams({client_id:this.clientId,code:t,code_verifier:n.verifier,grant_type:"authorization_code",redirect_uri:this.redirectUri}),method:"POST"});if(!i.ok)return this.openOAuth2Window();const r=await i.json();this.rest=this.rest.setToken(r.access_token),(a=this.pmd.websocketManager)==null||a.send({type:"token",token:r.access_token,expires:Date.now()+r.expires_in*1e3}),(s=this.pmd.sessionKeepAlive)==null||s.setToken(r.access_token),await fe.setValue({expires:Date.now()+r.expires_in*1e3,refreshToken:r.refresh_token,scope:r.scope,token:r.access_token}),await this.fetchUser(),this.log("Got authorization code")}async createHeadlessSession(){var c,l,u,f,m;if(!this.pmd.tabPriority)return this.log("Not in background");this.refreshAlarm||(C.alarms.create("headlessSessionRefresh",{delayInMinutes:15}),this.refreshAlarm=await C.alarms.get("headlessSessionRefresh"));const t=await fe.getValue();if(!t||!("token"in t))return this.log("No token in oauth2");const{usePlayingStatus:n}=await oe.getValue(),i=(c=this.pmd.tabPriority.activityManager.currentPresence)==null?void 0:c.presenceData,r=(i==null?void 0:i.largeImageKey)||(i==null?void 0:i.smallImageKey)||(i==null?void 0:i.smallImageText),a=n?0:(i==null?void 0:i.type)??0,s={application_id:((l=this.pmd.tabPriority.activityManager.currentPresence)==null?void 0:l.clientId)??this.clientId,name:(i==null?void 0:i.name)??((u=this.pmd.tabPriority.currentTabPresence)==null?void 0:u.service),platform:"desktop",type:a};i!=null&&i.details&&(s.details=i.details),i!=null&&i.state&&(s.state=i.state),r&&(s.assets={}),i!=null&&i.largeImageText&&(s.assets.large_text=i.largeImageText),i!=null&&i.largeImageKey&&(s.assets.large_image=i.largeImageKey),i!=null&&i.smallImageKey&&(s.assets.small_image=i.smallImageKey),i!=null&&i.smallImageText&&(s.assets.small_text=i.smallImageText),(i!=null&&i.startTimestamp||i!=null&&i.endTimestamp)&&(s.timestamps={}),i!=null&&i.startTimestamp&&(s.timestamps.start=typeof i.startTimestamp=="number"?i.startTimestamp:i.startTimestamp.getTime()),i!=null&&i.endTimestamp&&(s.timestamps.end=typeof i.endTimestamp=="number"?i.endTimestamp:i.endTimestamp.getTime()),i!=null&&i.buttons&&(s.buttons=i.buttons);const o=await Ct.getValue();try{const p=await this.rest.post("/users/@me/headless-sessions",{body:{...(o==null?void 0:o.token)&&{token:o.token},activities:[s]}});await Ct.setValue({expires:Date.now()+20*60*1e3,token:p.token}),(f=this.pmd.websocketManager)==null||f.send({type:"session",token:p.token}),(m=this.pmd.sessionKeepAlive)==null||m.setSession(p.token)}catch(p){typeof p=="object"&&p&&!Array.isArray(p)&&"code"in p&&p.code===Pl.InvalidToken&&Ct.removeValue()}}async deleteHeadlessSession(){await C.alarms.clear("headlessSessionRefresh"),this.refreshAlarm=void 0;const t=await fe.getValue(),n=await Ct.getValue();if(!(!t||!("token"in t)||!(n!=null&&n.token))){try{await this.rest.post("/users/@me/headless-sessions/delete",{body:{token:n.token}})}finally{await Ct.removeValue()}this.log("Deleted headless session")}}async fetchUser(){const t=await fe.getValue();if(!(!t||!("token"in t)))try{const n=await this.rest.get(Dl.user());return this.setDiscordUser(n),this.log("Fetched user %s",n.global_name),n}catch(n){n instanceof ou&&n.status===401&&(this.log("Token expired"),await this.refreshToken())}}async refreshToken(){const t=await fe.getValue();if(!(!t||!("refreshToken"in t)))try{await $y(async()=>{var s,o;const n=new URLSearchParams;n.append("refresh_token",t.refreshToken);const i=await fetch(`${co}/oauth2/refreshtoken?${n.toString()}`,{method:"POST"}),r=await i.json();if("error"in r)throw this.log("Error refreshing token",r.error),i.status===400&&this.pmd.oAuthManager.logout(),new wn("Error refreshing token");if(!("access_token"in r))throw new wn("No access token in response");this.rest=this.rest.setToken(r.access_token),(s=this.pmd.websocketManager)==null||s.send({type:"token",token:r.access_token,expires:Date.now()+r.expires_in*1e3}),(o=this.pmd.sessionKeepAlive)==null||o.setToken(r.access_token);const a=r;await fe.setValue({expires:Date.now()+r.expires_in*1e3,refreshToken:a.refresh_token,scope:a.scope,token:a.access_token}),this.createRefreshTokenAlarm(),this.log("Refreshed token")})}catch(n){n instanceof wn&&await this.logout()}}async createRefreshTokenAlarm(){const t=await fe.getValue();!t||!("token"in t)||C.alarms.create("requestRefreshToken",{delayInMinutes:Math.floor((t.expires-Date.now())/1e3/60)-15})}async logout(){await this.deleteHeadlessSession();const t=await fe.getValue();if(t&&"token"in t)try{const n=new URLSearchParams({token:t.token});await fetch(`${co}/oauth2/revoke?${n.toString()}`,{method:"POST"}),this.log("Revoked token")}catch(n){this.log("Error revoking token",n)}await fe.removeValue(),await Bt.removeValue(),C.alarms.clear("requestRefreshToken"),this.log("Logged out")}async setDiscordUser(t){if(await a0.setValue(!0),!t){await Bt.removeValue(),this.log("Removed discord user");return}await Bt.setValue(t),this.log("Updated discord user %s",t.global_name)}}function lu(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}async function Ay(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n);return wy(i)}function wy(e){const t=String.fromCodePoint(...new Uint8Array(e));return btoa(t).replace("+","-").replace("/","_").replace(/=+$/,"")}async function Ty(){const e=lu(128);return{codeChallenge:await Ay(e),codeVerifier:e}}function My(){this.__data__=[],this.size=0}var Py=My;function Dy(e,t){return e===t||e!==e&&t!==t}var Xt=Dy,ky=Xt;function Ly(e,t){for(var n=e.length;n--;)if(ky(e[n][0],t))return n;return-1}var ei=Ly,Oy=ei,Ey=Array.prototype,Ry=Ey.splice;function Cy(e){var t=this.__data__,n=Oy(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Ry.call(t,n,1),--this.size,!0}var Uy=Cy,Fy=ei;function Sy(e){var t=this.__data__,n=Fy(t,e);return n<0?void 0:t[n][1]}var Ny=Sy,By=ei;function jy(e){return By(this.__data__,e)>-1}var Vy=jy,Gy=ei;function Hy(e,t){var n=this.__data__,i=Gy(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var qy=Hy,Wy=Py,zy=Uy,Ky=Ny,Yy=Vy,Xy=qy;function Mt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Mt.prototype.clear=Wy;Mt.prototype.delete=zy;Mt.prototype.get=Ky;Mt.prototype.has=Yy;Mt.prototype.set=Xy;var ti=Mt,Qy=ti;function Zy(){this.__data__=new Qy,this.size=0}var Jy=Zy;function e_(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var t_=e_;function n_(e){return this.__data__.get(e)}var i_=n_;function r_(e){return this.__data__.has(e)}var a_=r_,s_=Xe,o_=s_(Object,"create"),ni=o_,lo=ni;function c_(){this.__data__=lo?lo(null):{},this.size=0}var l_=c_;function u_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var f_=u_,d_=ni,h_="__lodash_hash_undefined__",m_=Object.prototype,p_=m_.hasOwnProperty;function g_(e){var t=this.__data__;if(d_){var n=t[e];return n===h_?void 0:n}return p_.call(t,e)?t[e]:void 0}var v_=g_,x_=ni,b_=Object.prototype,y_=b_.hasOwnProperty;function __(e){var t=this.__data__;return x_?t[e]!==void 0:y_.call(t,e)}var $_=__,I_=ni,A_="__lodash_hash_undefined__";function w_(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=I_&&t===void 0?A_:t,this}var T_=w_,M_=l_,P_=f_,D_=v_,k_=$_,L_=T_;function Pt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Pt.prototype.clear=M_;Pt.prototype.delete=P_;Pt.prototype.get=D_;Pt.prototype.has=k_;Pt.prototype.set=L_;var O_=Pt,uo=O_,E_=ti,R_=er;function C_(){this.size=0,this.__data__={hash:new uo,map:new(R_||E_),string:new uo}}var U_=C_;function F_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var S_=F_,N_=S_;function B_(e,t){var n=e.__data__;return N_(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ii=B_,j_=ii;function V_(e){var t=j_(this,e).delete(e);return this.size-=t?1:0,t}var G_=V_,H_=ii;function q_(e){return H_(this,e).get(e)}var W_=q_,z_=ii;function K_(e){return z_(this,e).has(e)}var Y_=K_,X_=ii;function Q_(e,t){var n=X_(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var Z_=Q_,J_=U_,e1=G_,t1=W_,n1=Y_,i1=Z_;function Dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Dt.prototype.clear=J_;Dt.prototype.delete=e1;Dt.prototype.get=t1;Dt.prototype.has=n1;Dt.prototype.set=i1;var Ar=Dt,r1=ti,a1=er,s1=Ar,o1=200;function c1(e,t){var n=this.__data__;if(n instanceof r1){var i=n.__data__;if(!a1||i.length<o1-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new s1(i)}return n.set(e,t),this.size=n.size,this}var l1=c1,u1=ti,f1=Jy,d1=t_,h1=i_,m1=a_,p1=l1;function kt(e){var t=this.__data__=new u1(e);this.size=t.size}kt.prototype.clear=f1;kt.prototype.delete=d1;kt.prototype.get=h1;kt.prototype.has=m1;kt.prototype.set=p1;var wr=kt;function g1(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}var v1=g1,x1=Xe,b1=function(){try{var e=x1(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uu=b1,fo=uu;function y1(e,t,n){t=="__proto__"&&fo?fo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Tr=y1,_1=Tr,$1=Xt,I1=Object.prototype,A1=I1.hasOwnProperty;function w1(e,t,n){var i=e[t];(!(A1.call(e,t)&&$1(i,n))||n===void 0&&!(t in e))&&_1(e,t,n)}var Mr=w1,T1=Mr,M1=Tr;function P1(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],c=i?i(n[o],e[o],o,n,e):void 0;c===void 0&&(c=e[o]),r?M1(n,o,c):T1(n,o,c)}return n}var Qt=P1;function D1(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var k1=D1,L1=9007199254740991,O1=/^(?:0|[1-9]\d*)$/;function E1(e,t){var n=typeof e;return t=t??L1,!!t&&(n=="number"||n!="symbol"&&O1.test(e))&&e>-1&&e%1==0&&e<t}var ri=E1,R1=k1,C1=Un,U1=ge,F1=Fn,S1=ri,N1=ir,B1=Object.prototype,j1=B1.hasOwnProperty;function V1(e,t){var n=U1(e),i=!n&&C1(e),r=!n&&!i&&F1(e),a=!n&&!i&&!r&&N1(e),s=n||i||r||a,o=s?R1(e.length,String):[],c=o.length;for(var l in e)(t||j1.call(e,l))&&!(s&&(l=="length"||r&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||S1(l,c)))&&o.push(l);return o}var fu=V1,G1=fu,H1=tc,q1=It;function W1(e){return q1(e)?G1(e):H1(e)}var Zt=W1,z1=Qt,K1=Zt;function Y1(e,t){return e&&z1(t,K1(t),e)}var X1=Y1;function Q1(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Z1=Q1,J1=Ue,e$=Cn,t$=Z1,n$=Object.prototype,i$=n$.hasOwnProperty;function r$(e){if(!J1(e))return t$(e);var t=e$(e),n=[];for(var i in e)i=="constructor"&&(t||!i$.call(e,i))||n.push(i);return n}var a$=r$,s$=fu,o$=a$,c$=It;function l$(e){return c$(e)?s$(e,!0):o$(e)}var ai=l$,u$=Qt,f$=ai;function d$(e,t){return e&&u$(t,f$(t),e)}var h$=d$,En={exports:{}};En.exports;(function(e,t){var n=we,i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===i,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,m=o?o(f):new l.constructor(f);return l.copy(m),m}e.exports=c})(En,En.exports);var m$=En.exports;function p$(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var g$=p$;function v$(e,t){for(var n=-1,i=e==null?0:e.length,r=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[r++]=s)}return a}var x$=v$;function b$(){return[]}var du=b$,y$=x$,_$=du,$$=Object.prototype,I$=$$.propertyIsEnumerable,ho=Object.getOwnPropertySymbols,A$=ho?function(e){return e==null?[]:(e=Object(e),y$(ho(e),function(t){return I$.call(e,t)}))}:_$,Pr=A$,w$=Qt,T$=Pr;function M$(e,t){return w$(e,T$(e),t)}var P$=M$;function D$(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var Dr=D$,k$=ec,L$=k$(Object.getPrototypeOf,Object),kr=L$,O$=Dr,E$=kr,R$=Pr,C$=du,U$=Object.getOwnPropertySymbols,F$=U$?function(e){for(var t=[];e;)O$(t,R$(e)),e=E$(e);return t}:C$,hu=F$,S$=Qt,N$=hu;function B$(e,t){return S$(e,N$(e),t)}var j$=B$,V$=Dr,G$=ge;function H$(e,t,n){var i=t(e);return G$(e)?i:V$(i,n(e))}var mu=H$,q$=mu,W$=Pr,z$=Zt;function K$(e){return q$(e,z$,W$)}var pu=K$,Y$=mu,X$=hu,Q$=ai;function Z$(e){return Y$(e,Q$,X$)}var Lr=Z$,J$=Object.prototype,eI=J$.hasOwnProperty;function tI(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&eI.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var nI=tI,iI=we,rI=iI.Uint8Array,gu=rI,mo=gu;function aI(e){var t=new e.constructor(e.byteLength);return new mo(t).set(new mo(e)),t}var Or=aI,sI=Or;function oI(e,t){var n=t?sI(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var cI=oI,lI=/\w*$/;function uI(e){var t=new e.constructor(e.source,lI.exec(e));return t.lastIndex=e.lastIndex,t}var fI=uI,po=yt,go=po?po.prototype:void 0,vo=go?go.valueOf:void 0;function dI(e){return vo?Object(vo.call(e)):{}}var hI=dI,mI=Or;function pI(e,t){var n=t?mI(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var gI=pI,vI=Or,xI=cI,bI=fI,yI=hI,_I=gI,$I="[object Boolean]",II="[object Date]",AI="[object Map]",wI="[object Number]",TI="[object RegExp]",MI="[object Set]",PI="[object String]",DI="[object Symbol]",kI="[object ArrayBuffer]",LI="[object DataView]",OI="[object Float32Array]",EI="[object Float64Array]",RI="[object Int8Array]",CI="[object Int16Array]",UI="[object Int32Array]",FI="[object Uint8Array]",SI="[object Uint8ClampedArray]",NI="[object Uint16Array]",BI="[object Uint32Array]";function jI(e,t,n){var i=e.constructor;switch(t){case kI:return vI(e);case $I:case II:return new i(+e);case LI:return xI(e,n);case OI:case EI:case RI:case CI:case UI:case FI:case SI:case NI:case BI:return _I(e,n);case AI:return new i;case wI:case PI:return new i(e);case TI:return bI(e);case MI:return new i;case DI:return yI(e)}}var VI=jI,GI=Ue,xo=Object.create,HI=function(){function e(){}return function(t){if(!GI(t))return{};if(xo)return xo(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qI=HI,WI=qI,zI=kr,KI=Cn;function YI(e){return typeof e.constructor=="function"&&!KI(e)?WI(zI(e)):{}}var XI=YI,QI=Kt,ZI=ke,JI="[object Map]";function eA(e){return ZI(e)&&QI(e)==JI}var tA=eA,nA=tA,iA=Sn,bo=nr,yo=bo&&bo.isMap,rA=yo?iA(yo):nA,aA=rA,sA=Kt,oA=ke,cA="[object Set]";function lA(e){return oA(e)&&sA(e)==cA}var uA=lA,fA=uA,dA=Sn,_o=nr,$o=_o&&_o.isSet,hA=$o?dA($o):fA,mA=hA,pA=wr,gA=v1,vA=Mr,xA=X1,bA=h$,yA=m$,_A=g$,$A=P$,IA=j$,AA=pu,wA=Lr,TA=Kt,MA=nI,PA=VI,DA=XI,kA=ge,LA=Fn,OA=aA,EA=Ue,RA=mA,CA=Zt,UA=ai,FA=1,SA=2,NA=4,vu="[object Arguments]",BA="[object Array]",jA="[object Boolean]",VA="[object Date]",GA="[object Error]",xu="[object Function]",HA="[object GeneratorFunction]",qA="[object Map]",WA="[object Number]",bu="[object Object]",zA="[object RegExp]",KA="[object Set]",YA="[object String]",XA="[object Symbol]",QA="[object WeakMap]",ZA="[object ArrayBuffer]",JA="[object DataView]",ew="[object Float32Array]",tw="[object Float64Array]",nw="[object Int8Array]",iw="[object Int16Array]",rw="[object Int32Array]",aw="[object Uint8Array]",sw="[object Uint8ClampedArray]",ow="[object Uint16Array]",cw="[object Uint32Array]",W={};W[vu]=W[BA]=W[ZA]=W[JA]=W[jA]=W[VA]=W[ew]=W[tw]=W[nw]=W[iw]=W[rw]=W[qA]=W[WA]=W[bu]=W[zA]=W[KA]=W[YA]=W[XA]=W[aw]=W[sw]=W[ow]=W[cw]=!0;W[GA]=W[xu]=W[QA]=!1;function Tn(e,t,n,i,r,a){var s,o=t&FA,c=t&SA,l=t&NA;if(n&&(s=r?n(e,i,r,a):n(e)),s!==void 0)return s;if(!EA(e))return e;var u=kA(e);if(u){if(s=MA(e),!o)return _A(e,s)}else{var f=TA(e),m=f==xu||f==HA;if(LA(e))return yA(e,o);if(f==bu||f==vu||m&&!r){if(s=c||m?{}:DA(e),!o)return c?IA(e,bA(s,e)):$A(e,xA(s,e))}else{if(!W[f])return r?e:{};s=PA(e,f,o)}}a||(a=new pA);var p=a.get(e);if(p)return p;a.set(e,s),RA(e)?e.forEach(function(g){s.add(Tn(g,t,n,g,e,a))}):OA(e)&&e.forEach(function(g,x){s.set(x,Tn(g,t,n,x,e,a))});var d=l?c?wA:AA:c?UA:CA,v=u?void 0:d(e);return gA(v||e,function(g,x){v&&(x=g,g=e[x]),vA(s,x,Tn(g,t,n,x,e,a))}),s}var yu=Tn,lw=yu,uw=1,fw=4;function dw(e){return lw(e,uw|fw)}var hw=dw;const mw=ne(hw);function pw(e){return e}var si=pw;const tO=ne(si);function gw(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var vw=gw,xw=vw,Io=Math.max;function bw(e,t,n){return t=Io(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,a=Io(i.length-t,0),s=Array(a);++r<a;)s[r]=i[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=i[r];return o[t]=n(s),xw(e,this,o)}}var _u=bw;function yw(e){return function(){return e}}var _w=yw,$w=_w,Ao=uu,Iw=si,Aw=Ao?function(e,t){return Ao(e,"toString",{configurable:!0,enumerable:!1,value:$w(t),writable:!0})}:Iw,ww=Aw,Tw=800,Mw=16,Pw=Date.now;function Dw(e){var t=0,n=0;return function(){var i=Pw(),r=Mw-(i-n);if(n=i,r>0){if(++t>=Tw)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var kw=Dw,Lw=ww,Ow=kw,Ew=Ow(Lw),$u=Ew,Rw=si,Cw=_u,Uw=$u;function Fw(e,t){return Uw(Cw(e,t,Rw),e+"")}var Iu=Fw,Sw=Xt,Nw=It,Bw=ri,jw=Ue;function Vw(e,t,n){if(!jw(n))return!1;var i=typeof t;return(i=="number"?Nw(n)&&Bw(t,n.length):i=="string"&&t in n)?Sw(n[t],e):!1}var Gw=Vw,Hw=Iu,qw=Xt,Ww=Gw,zw=ai,Au=Object.prototype,Kw=Au.hasOwnProperty,Yw=Hw(function(e,t){e=Object(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&Ww(t[0],t[1],r)&&(i=1);++n<i;)for(var a=t[n],s=zw(a),o=-1,c=s.length;++o<c;){var l=s[o],u=e[l];(u===void 0||qw(u,Au[l])&&!Kw.call(e,l))&&(e[l]=a[l])}return e}),Xw=Yw;const Qw=ne(Xw);var Zw="__lodash_hash_undefined__";function Jw(e){return this.__data__.set(e,Zw),this}var eT=Jw;function tT(e){return this.__data__.has(e)}var nT=tT,iT=Ar,rT=eT,aT=nT;function Rn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new iT;++t<n;)this.add(e[t])}Rn.prototype.add=Rn.prototype.push=rT;Rn.prototype.has=aT;var wu=Rn;function sT(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var oT=sT;function cT(e,t){return e.has(t)}var Tu=cT,lT=wu,uT=oT,fT=Tu,dT=1,hT=2;function mT(e,t,n,i,r,a){var s=n&dT,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var f=-1,m=!0,p=n&hT?new lT:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var d=e[f],v=t[f];if(i)var g=s?i(v,d,f,t,e,a):i(d,v,f,e,t,a);if(g!==void 0){if(g)continue;m=!1;break}if(p){if(!uT(t,function(x,w){if(!fT(p,w)&&(d===x||r(d,x,n,i,a)))return p.push(w)})){m=!1;break}}else if(!(d===v||r(d,v,n,i,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var Mu=mT;function pT(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}var gT=pT;function vT(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var xT=vT,wo=yt,To=gu,bT=Xt,yT=Mu,_T=gT,$T=xT,IT=1,AT=2,wT="[object Boolean]",TT="[object Date]",MT="[object Error]",PT="[object Map]",DT="[object Number]",kT="[object RegExp]",LT="[object Set]",OT="[object String]",ET="[object Symbol]",RT="[object ArrayBuffer]",CT="[object DataView]",Mo=wo?wo.prototype:void 0,Di=Mo?Mo.valueOf:void 0;function UT(e,t,n,i,r,a,s){switch(n){case CT:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case RT:return!(e.byteLength!=t.byteLength||!a(new To(e),new To(t)));case wT:case TT:case DT:return bT(+e,+t);case MT:return e.name==t.name&&e.message==t.message;case kT:case OT:return e==t+"";case PT:var o=_T;case LT:var c=i&IT;if(o||(o=$T),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;i|=AT,s.set(e,t);var u=yT(o(e),o(t),i,r,a,s);return s.delete(e),u;case ET:if(Di)return Di.call(e)==Di.call(t)}return!1}var FT=UT,Po=pu,ST=1,NT=Object.prototype,BT=NT.hasOwnProperty;function jT(e,t,n,i,r,a){var s=n&ST,o=Po(e),c=o.length,l=Po(t),u=l.length;if(c!=u&&!s)return!1;for(var f=c;f--;){var m=o[f];if(!(s?m in t:BT.call(t,m)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var v=!0;a.set(e,t),a.set(t,e);for(var g=s;++f<c;){m=o[f];var x=e[m],w=t[m];if(i)var _=s?i(w,x,m,t,e,a):i(x,w,m,e,t,a);if(!(_===void 0?x===w||r(x,w,n,i,a):_)){v=!1;break}g||(g=m=="constructor")}if(v&&!g){var R=e.constructor,k=t.constructor;R!=k&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof k=="function"&&k instanceof k)&&(v=!1)}return a.delete(e),a.delete(t),v}var VT=jT,ki=wr,GT=Mu,HT=FT,qT=VT,Do=Kt,ko=ge,Lo=Fn,WT=ir,zT=1,Oo="[object Arguments]",Eo="[object Array]",pn="[object Object]",KT=Object.prototype,Ro=KT.hasOwnProperty;function YT(e,t,n,i,r,a){var s=ko(e),o=ko(t),c=s?Eo:Do(e),l=o?Eo:Do(t);c=c==Oo?pn:c,l=l==Oo?pn:l;var u=c==pn,f=l==pn,m=c==l;if(m&&Lo(e)){if(!Lo(t))return!1;s=!0,u=!1}if(m&&!u)return a||(a=new ki),s||WT(e)?GT(e,t,n,i,r,a):HT(e,t,c,n,i,r,a);if(!(n&zT)){var p=u&&Ro.call(e,"__wrapped__"),d=f&&Ro.call(t,"__wrapped__");if(p||d){var v=p?e.value():e,g=d?t.value():t;return a||(a=new ki),r(v,g,n,i,a)}}return m?(a||(a=new ki),qT(e,t,n,i,r,a)):!1}var XT=YT,QT=XT,Co=ke;function Pu(e,t,n,i,r){return e===t?!0:e==null||t==null||!Co(e)&&!Co(t)?e!==e&&t!==t:QT(e,t,n,i,Pu,r)}var Er=Pu,ZT=Er;function JT(e,t){return ZT(e,t)}var eM=JT;const Uo=ne(eM);function tM(e){return e==null}var nM=tM;const gn=ne(nM);function iM(e,t,n,i){for(var r=-1,a=e==null?0:e.length;++r<a;){var s=e[r];t(i,s,n(s),e)}return i}var rM=iM;function aM(e){return function(t,n,i){for(var r=-1,a=Object(t),s=i(t),o=s.length;o--;){var c=s[e?o:++r];if(n(a[c],c,a)===!1)break}return t}}var sM=aM,oM=sM,cM=oM(),lM=cM,uM=lM,fM=Zt;function dM(e,t){return e&&uM(e,t,fM)}var hM=dM,mM=It;function pM(e,t){return function(n,i){if(n==null)return n;if(!mM(n))return e(n,i);for(var r=n.length,a=t?r:-1,s=Object(n);(t?a--:++a<r)&&i(s[a],a,s)!==!1;);return n}}var gM=pM,vM=hM,xM=gM,bM=xM(vM),yM=bM,_M=yM;function $M(e,t,n,i){return _M(e,function(r,a,s){t(i,r,n(r),s)}),i}var IM=$M,AM=wr,wM=Er,TM=1,MM=2;function PM(e,t,n,i){var r=n.length,a=r,s=!i;if(e==null)return!a;for(e=Object(e);r--;){var o=n[r];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<a;){o=n[r];var c=o[0],l=e[c],u=o[1];if(s&&o[2]){if(l===void 0&&!(c in e))return!1}else{var f=new AM;if(i)var m=i(l,u,c,e,t,f);if(!(m===void 0?wM(u,l,TM|MM,i,f):m))return!1}}return!0}var DM=PM,kM=Ue;function LM(e){return e===e&&!kM(e)}var Du=LM,OM=Du,EM=Zt;function RM(e){for(var t=EM(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,OM(r)]}return t}var CM=RM;function UM(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var ku=UM,FM=DM,SM=CM,NM=ku;function BM(e){var t=SM(e);return t.length==1&&t[0][2]?NM(t[0][0],t[0][1]):function(n){return n===e||FM(n,e,t)}}var jM=BM,VM=_t,GM=ke,HM="[object Symbol]";function qM(e){return typeof e=="symbol"||GM(e)&&VM(e)==HM}var Rr=qM,WM=ge,zM=Rr,KM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YM=/^\w*$/;function XM(e,t){if(WM(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||zM(e)?!0:YM.test(e)||!KM.test(e)||t!=null&&e in Object(t)}var Cr=XM,Lu=Ar,QM="Expected a function";function Ur(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(QM);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,i);return n.cache=a.set(r,s)||a,s};return n.cache=new(Ur.Cache||Lu),n}Ur.Cache=Lu;var ZM=Ur,JM=ZM,eP=500;function tP(e){var t=JM(e,function(i){return n.size===eP&&n.clear(),i}),n=t.cache;return t}var nP=tP,iP=nP,rP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aP=/\\(\\)?/g,sP=iP(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rP,function(n,i,r,a){t.push(r?a.replace(aP,"$1"):i||n)}),t}),oP=sP;function cP(e,t){for(var n=-1,i=e==null?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var oi=cP,Fo=yt,lP=oi,uP=ge,fP=Rr,dP=1/0,So=Fo?Fo.prototype:void 0,No=So?So.toString:void 0;function Ou(e){if(typeof e=="string")return e;if(uP(e))return lP(e,Ou)+"";if(fP(e))return No?No.call(e):"";var t=e+"";return t=="0"&&1/e==-dP?"-0":t}var hP=Ou,mP=hP;function pP(e){return e==null?"":mP(e)}var gP=pP,vP=ge,xP=Cr,bP=oP,yP=gP;function _P(e,t){return vP(e)?e:xP(e,t)?[e]:bP(yP(e))}var Lt=_P,$P=Rr,IP=1/0;function AP(e){if(typeof e=="string"||$P(e))return e;var t=e+"";return t=="0"&&1/e==-IP?"-0":t}var Ot=AP,wP=Lt,TP=Ot;function MP(e,t){t=wP(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[TP(t[n++])];return n&&n==i?e:void 0}var ci=MP,PP=ci;function DP(e,t,n){var i=e==null?void 0:PP(e,t);return i===void 0?n:i}var kP=DP;function LP(e,t){return e!=null&&t in Object(e)}var OP=LP,EP=Lt,RP=Un,CP=ge,UP=ri,FP=tr,SP=Ot;function NP(e,t,n){t=EP(t,e);for(var i=-1,r=t.length,a=!1;++i<r;){var s=SP(t[i]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++i!=r?a:(r=e==null?0:e.length,!!r&&FP(r)&&UP(s,r)&&(CP(e)||RP(e)))}var BP=NP,jP=OP,VP=BP;function GP(e,t){return e!=null&&VP(e,t,jP)}var HP=GP,qP=Er,WP=kP,zP=HP,KP=Cr,YP=Du,XP=ku,QP=Ot,ZP=1,JP=2;function eD(e,t){return KP(e)&&YP(t)?XP(QP(e),t):function(n){var i=WP(n,e);return i===void 0&&i===t?zP(n,e):qP(t,i,ZP|JP)}}var tD=eD;function nD(e){return function(t){return t==null?void 0:t[e]}}var iD=nD,rD=ci;function aD(e){return function(t){return rD(t,e)}}var sD=aD,oD=iD,cD=sD,lD=Cr,uD=Ot;function fD(e){return lD(e)?oD(uD(e)):cD(e)}var dD=fD,hD=jM,mD=tD,pD=si,gD=ge,vD=dD;function xD(e){return typeof e=="function"?e:e==null?pD:typeof e=="object"?gD(e)?mD(e[0],e[1]):hD(e):vD(e)}var Fr=xD,bD=rM,yD=IM,_D=Fr,$D=ge;function ID(e,t){return function(n,i){var r=$D(n)?bD:yD,a=t?t():{};return r(n,e,_D(i),a)}}var AD=ID,wD=Tr,TD=AD,MD=TD(function(e,t,n){wD(e,n,t)}),PD=MD;const DD=ne(PD);function kD(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var LD=kD;function OD(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}var ED=OD,RD=ci,CD=ED;function UD(e,t){return t.length<2?e:RD(e,CD(t,0,-1))}var FD=UD,SD=Lt,ND=LD,BD=FD,jD=Ot;function VD(e,t){return t=SD(t,e),e=BD(e,t),e==null||delete e[jD(ND(t))]}var GD=VD,HD=_t,qD=kr,WD=ke,zD="[object Object]",KD=Function.prototype,YD=Object.prototype,Eu=KD.toString,XD=YD.hasOwnProperty,QD=Eu.call(Object);function ZD(e){if(!WD(e)||HD(e)!=zD)return!1;var t=qD(e);if(t===null)return!0;var n=XD.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Eu.call(n)==QD}var JD=ZD,ek=JD;function tk(e){return ek(e)?void 0:e}var nk=tk,Bo=yt,ik=Un,rk=ge,jo=Bo?Bo.isConcatSpreadable:void 0;function ak(e){return rk(e)||ik(e)||!!(jo&&e&&e[jo])}var sk=ak,ok=Dr,ck=sk;function Ru(e,t,n,i,r){var a=-1,s=e.length;for(n||(n=ck),r||(r=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?Ru(o,t-1,n,i,r):ok(r,o):i||(r[r.length]=o)}return r}var Cu=Ru,lk=Cu;function uk(e){var t=e==null?0:e.length;return t?lk(e,1):[]}var fk=uk,dk=fk,hk=_u,mk=$u;function pk(e){return mk(hk(e,void 0,dk),e+"")}var gk=pk,vk=oi,xk=yu,bk=GD,yk=Lt,_k=Qt,$k=nk,Ik=gk,Ak=Lr,wk=1,Tk=2,Mk=4,Pk=Ik(function(e,t){var n={};if(e==null)return n;var i=!1;t=vk(t,function(a){return a=yk(a,e),i||(i=a.length>1),a}),_k(e,Ak(e),n),i&&(n=xk(n,wk|Tk|Mk,$k));for(var r=t.length;r--;)bk(n,t[r]);return n}),Dk=Pk;const Vo=ne(Dk);var kk="Expected a function";function Lk(e){if(typeof e!="function")throw new TypeError(kk);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Ok=Lk,Ek=Mr,Rk=Lt,Ck=ri,Go=Ue,Uk=Ot;function Fk(e,t,n,i){if(!Go(e))return e;t=Rk(t,e);for(var r=-1,a=t.length,s=a-1,o=e;o!=null&&++r<a;){var c=Uk(t[r]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(r!=s){var u=o[c];l=i?i(u,c,o):void 0,l===void 0&&(l=Go(u)?u:Ck(t[r+1])?[]:{})}Ek(o,c,l),o=o[c]}return e}var Sk=Fk,Nk=ci,Bk=Sk,jk=Lt;function Vk(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var s=t[i],o=Nk(e,s);n(o,s)&&Bk(a,jk(s,e),o)}return a}var Gk=Vk,Hk=oi,qk=Fr,Wk=Gk,zk=Lr;function Kk(e,t){if(e==null)return{};var n=Hk(zk(e),function(i){return[i]});return t=qk(t),Wk(e,n,function(i,r){return t(i,r[0])})}var Uu=Kk;const nO=ne(Uu);var Yk=Fr,Xk=Ok,Qk=Uu;function Zk(e,t){return Qk(e,Xk(Yk(t)))}var Jk=Zk;const vn=ne(Jk);class eL{constructor(t){T(this,"value");T(this,"next");this.value=t}}var he,Ge,He;class tL{constructor(){Me(this,he);Me(this,Ge);Me(this,He);this.clear()}enqueue(t){const n=new eL(t);j(this,he)?(j(this,Ge).next=n,re(this,Ge,n)):(re(this,he,n),re(this,Ge,n)),ui(this,He)._++}dequeue(){const t=j(this,he);if(t)return re(this,he,j(this,he).next),ui(this,He)._--,t.value}peek(){if(j(this,he))return j(this,he).value}clear(){re(this,he,void 0),re(this,Ge,void 0),re(this,He,0)}get size(){return j(this,He)}*[Symbol.iterator](){let t=j(this,he);for(;t;)yield t.value,t=t.next}}he=new WeakMap,Ge=new WeakMap,He=new WeakMap;function nL(e){Ho(e);const t=new tL;let n=0;const i=()=>{n<e&&t.size>0&&(t.dequeue()(),n++)},r=()=>{n--,i()},a=async(c,l,u)=>{const f=(async()=>c(...u))();l(f);try{await f}catch{}r()},s=(c,l,u)=>{new Promise(f=>{t.enqueue(f)}).then(a.bind(void 0,c,l,u)),(async()=>(await Promise.resolve(),n<e&&i()))()},o=(c,...l)=>new Promise(u=>{s(c,u,l)});return Object.defineProperties(o,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}},concurrency:{get:()=>e,set(c){Ho(c),e=c,queueMicrotask(()=>{for(;n<e&&t.size>0;)i()})}}}),o}function Ho(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}class iL extends mr{constructor(n,i){super();T(this,"log",Jt.extend("PresenceManager"));T(this,"oldSettingsKey","");T(this,"oldSettings",{});T(this,"getSettingLimit",nL(1));this.languageManager=n,this.storageManager=i,this.storageManager.on("presenceSettingUpdate",async()=>{this.oldSettings={},this.oldSettingsKey=""})}async init(){await this.updatePresence();const n=await Ne.getValue();n&&await this.verifySettingsIntegrity(...n),n===null&&await this.add(...Ku)}async verifySettingsIntegrity(...n){const i=Object.values(await this.getLocalMetadata(...n)).filter(s=>s.settings);await this.languageManager.fetchPresenceAvailableLanguages(...i.filter(s=>{var o;return!!((o=s.settings)!=null&&o.some(c=>c.multiLanguage))}).map(s=>s.service));const r=[],a=await this.storageManager.get("local",...i.map(s=>`${s.service}_settings`));for(const s of i){let o=a[`${s.service}_settings`];const c=mw(o);o=Qw(o,DD(s.settings,l=>l.id));for(const[l,u]of Object.entries(o)){if(l==="lang"){o[l]=await this.initMultiLanguage(u,s.service);continue}const f=Vo(u,"value","hidden");if(s.settings&&!Uo(f,Vo(s.settings.find(m=>m.id===l),"value","hidden"))){const m=s.settings.find(p=>p.id===l);if(!m)continue;o[l]=m,this.log(`Updated outdated setting ${l} for presence ${s.service}`)}}for(const l of Object.keys(o))s.settings&&(s.settings.some(u=>u.id===l)||(delete o[l],this.log(`Removed old setting ${l} for presence ${s.service}`)));Uo(o,c)||(await this.storageManager.set("local",{[`${s.service}_settings`]:o}),r.push(s.service))}this.log("Saved settings for %o",r)}async getLocalMetadata(...n){return(await Promise.all(n.map(async r=>await fetch(C.runtime.getURL(`/presences/${r}/metadata.json`)).then(a=>a.json()).catch(()=>{this.log("Failed to fetch metadata for %s",r)})))).filter(r=>r!==void 0)}async add(...n){const i=await Ne.getValue(),r=await je.getValue();let a=await this.getLocalMetadata(...n);a=a.map(c=>(c=vn(c,gn),c.settings&&(c.settings=c.settings.map(l=>(l=vn(l,gn),l.if&&(l.if=vn(l.if,gn),Object.keys(l.if).length===0&&delete l.if),l))),c=vn(c,gn),c));const s=n.filter(c=>!a.some(l=>l.service===c));s.length>0&&this.log("Not found Presences: %o",s);const o=[...r||[],...a.filter(c=>!(i!=null&&i.includes(c.service))).map(c=>c.service)];this.storageManager.set("local",Object.assign({addedPresences:[...new Set([...i||[],...a.map(c=>c.service)])],enabledPresences:o},...a.map(c=>({[`presence_${c.service}`]:{...c},[`${c.service}_changedLanguage`]:!1})))),await this.verifySettingsIntegrity(...a.map(c=>c.service))}async remove(n){const i=await this.storageManager.get("local",`presence_${n}`);let r=await je.getValue(),a=await Ne.getValue();if(!a)return;a=a.filter(o=>o!==n),r=r==null?void 0:r.filter(o=>o!==n),await je.setValue(r),await Ne.setValue(a),await s0(n);const s=i[`presence_${n}`];s&&this.emit("remove",s)}async setEnabled(n,i){const r=await je.getValue(),a=await Ne.getValue();let s=r;if(!(a!=null&&a.includes(n)))return this.log("Presence not added");s||(s=[]),i?s.includes(n)||s.push(n):s=s.filter(o=>o!==n),await je.setValue(s)}async updatePresence(...n){this.log("Checking for updates...");const i=await this.get(...n);if(i.length===0||Date.now()>0)return this.log("No presences to update");const r=await this.getLocalMetadata(...n),a=i.filter(s=>{var c;const o=(c=r==null?void 0:r.find(l=>l.service===s.service))==null?void 0:c.version;return xn.valid(o)&&xn.valid(s.version)?xn.gt(o||"",s.version):!0});if(a.length===0)return this.log("No presences to update");await this.add(...a.map(s=>s.service)),this.log("Updated: %o",a.map(s=>s.service))}async get(...n){const i=await Ne.getValue(),r=await this.storageManager.get("local",...(n.length>0?n:i||[]).map(o=>`presence_${o}`)),a=Object.values(r),s=await je.getValue();return a.map(o=>({...o,enabled:s.includes(o.service)}))}async getFullSettingsObject(n){const i=await this.storageManager.get("local",`${n}_settings`);return i==null?void 0:i[`${n}_settings`]}async getSettingObject(n,i){var a;const r=await this.storageManager.get("local",`${n}_settings`);return(a=r==null?void 0:r[`${n}_settings`])==null?void 0:a[i]}async hideSetting(n,i){const r=await this.storageManager.get("local",`${n}_settings`),a=r==null?void 0:r[`${n}_settings`];if(a){if(Array.isArray(i))for(const s of i){const o=a[s];o&&(o.hidden=!0)}else{const s=a[i];s&&(s.hidden=!0)}await this.storageManager.set("local",{[`${n}_settings`]:a})}}async showSetting(n,i){const r=await this.storageManager.get("local",`${n}_settings`),a=r==null?void 0:r[`${n}_settings`];if(a){if(Array.isArray(i))for(const s of i){const o=a[s];o&&(o.hidden=!1)}else{const s=a[i];s&&delete s.hidden}await this.storageManager.set("local",{[`${n}_settings`]:a})}}async getSetting(n,i){return this.getSettingLimit(async()=>{var r,a;if(this.oldSettingsKey!==n){const s=await this.storageManager.get("local",`${n}_settings`);this.oldSettings=(s==null?void 0:s[`${n}_settings`])||{}}return this.oldSettingsKey=n,(a=(r=this.oldSettings)==null?void 0:r[i])==null?void 0:a.value})}async setSetting(n,i,r){const a=await this.storageManager.get("local",`${n}_settings`),s=a==null?void 0:a[`${n}_settings`];if(s){if(s[i]===void 0)throw new Error("Setting not found");return s[i].value=r,await this.storageManager.set("local",{[`${n}_settings`]:s}),i==="lang"&&await this.languageManager.fetchPresenceStrings(n),r}}async initMultiLanguage(n,i){await this.languageManager.fetchPresenceStrings(i);const r=await this.storageManager.get("local",`${i}_availableLanguages`,`${i}_changedLanguage`),a=((r==null?void 0:r[`${i}_availableLanguages`])||[Ht]).map(l=>({title:l.nativeName,value:l.lang})),s=await oe.getValue();let o=Ht.lang;n.value&&a.map(l=>l.value).includes(n.value)&&(r!=null&&r[`${i}_changedLanguage`])?{value:o}=n:s!=null&&s.presencesLanguage&&a.map(l=>l.value).includes(s.presencesLanguage)&&(o=s.presencesLanguage);const c=await this.languageManager.getStrings({language:"general.language"});return n.title=c.language,n.icon="fad fa-language",n.values=a,n.value=o,n}async setPresencesLanguage(n){const i=await Ne.getValue();i&&await Promise.all(i.map(async r=>{const a=await this.storageManager.get("local",`${r}_settings`,`${r}_changedLanguage`,`${r}_availableLanguages`),s=a==null?void 0:a[`${r}_settings`],o=a==null?void 0:a[`${r}_availableLanguages`];if(!s||!o||a!=null&&a[`${r}_changedLanguage`])return;let c=Ht.lang;o.map(l=>l.lang).includes(n)&&(c=n),await Promise.all(Object.entries(s).map(async([l,u])=>{u.id!=="lang"||!u.multiLanguage||u.value===c||await this.setSetting(r,l,c)}))}))}}function rL(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}var aL=rL;function sL(e){return e!==e}var oL=sL;function cL(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}var lL=cL,uL=aL,fL=oL,dL=lL;function hL(e,t,n){return t===t?dL(e,t,n):uL(e,fL,n)}var mL=hL,pL=mL;function gL(e,t){var n=e==null?0:e.length;return!!n&&pL(e,t,0)>-1}var vL=gL;function xL(e,t,n){for(var i=-1,r=e==null?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}var bL=xL,yL=wu,_L=vL,$L=bL,IL=oi,AL=Sn,wL=Tu,TL=200;function ML(e,t,n,i){var r=-1,a=_L,s=!0,o=e.length,c=[],l=t.length;if(!o)return c;n&&(t=IL(t,AL(n))),i?(a=$L,s=!1):t.length>=TL&&(a=wL,s=!1,t=new yL(t));e:for(;++r<o;){var u=e[r],f=n==null?u:n(u);if(u=i||u!==0?u:0,s&&f===f){for(var m=l;m--;)if(t[m]===f)continue e;c.push(u)}else a(t,f,i)||c.push(u)}return c}var PL=ML,DL=It,kL=ke;function LL(e){return kL(e)&&DL(e)}var OL=LL,EL=PL,RL=Cu,CL=Iu,qo=OL,UL=CL(function(e,t){return qo(e)?EL(e,RL(t,1,qo,!0)):[]}),FL=UL;const Li=ne(FL);class SL extends mr{constructor(){super();T(this,"log",Jt.extend("StorageManager"));T(this,"logGet",this.log.extend("get"));T(this,"logSet",this.log.extend("set"));je.watch((n,i)=>{if(i===void 0)return;const r=Li(i,n)[0]||Li(n,i)[0],a=Li(i,n).length===0;this.emit("presenceEnableDisable",r,a)}),C.storage.onChanged.addListener(n=>{var r;const i=Object.keys(n)[0];i!=null&&i.endsWith("_settings")&&this.emit("presenceSettingUpdate",i.split("_")[0],(r=n[i])==null?void 0:r.newValue)})}async get(n,...i){return this.logGet("%s %s",n,i),await C.storage[n].get(i)}async set(n,i){return this.logSet("%s %O",n,i),C.storage[n].set(i)}}const Jt=cc("PreMiD");cc.enable("PreMiD*");class iO{constructor(t,n){T(this,"storageManager",new SL);T(this,"languageManager",new fv(this));T(this,"presenceManager",new iL(this.languageManager,this.storageManager));T(this,"tabPriority");T(this,"oAuthManager",new Iy(this));T(this,"installedDetails");var i;this.websocketManager=t,this.sessionKeepAlive=n,(i=C==null?void 0:C.runtime)!=null&&i.onInstalled&&C.runtime.onInstalled.addListener(r=>{this.installedDetails=r}),this.init()}async initBackground(t){await lt()&&(await c0(this),oe.watch(Ni),await this.languageManager.initialized,this.tabPriority=t,this.presenceManager.init())}async init(){var r;const{name:t,version:n,version_name:i}=C.runtime.getManifest();if(await this.languageManager.initialized,await lt()){switch((r=this.installedDetails)==null?void 0:r.reason){case"install":C.tabs.create({active:!0,url:C.runtime.getURL("/installed.html")}),await pi.setValue(n);break;case"update":{const a=await pi.getValue();if(a&&(!xn.gt(n,a)||zu===n))break;C.tabs.create({url:C.runtime.getURL("/updated.html")}),await pi.setValue(n);break}}console.log(`%c${t}%c v${i||n}
%cUse %cpmd%c to access PreMiD.

%cAnalytics Id: %c${await o0()}

%cMade with %câ¤ï¸%c by Recodive`,"color: #7289da; font-size: 2rem; font-weight: bold;","color: unset","color: #7289da; font-size: 1rem;","color: #7289da; font-size: 1rem; font-weight: bold;","color: #7289da; font-size: 1rem;","color: unset; font-size: 1rem;","color: gray;","color: unset; font-size: 1rem;","color: red; font-size: 1rem;","color: unset; font-size: 1rem;"),Ni()}}async reset(){await Promise.allSettled([C.storage.local.clear(),C.storage.sync.clear()]),C.runtime.reload()}reload(){C.runtime.reload()}formatDiscordUser(t){return t?t.discriminator==="0"&&"global_name"in t?`${t.global_name} (@${t.username})`:`${t.username}#${t.discriminator}`:""}}function rO(){}export{Zi as A,VL as B,Ue as C,Rr as D,mr as E,Gw as F,mw as G,mi as H,KL as I,XL as J,GL as K,jL as L,iO as P,BL as W,oi as _,Ct as a,C as b,Zt as c,ne as d,a0 as e,tO as f,o0 as g,Uo as h,ge as i,Vo as j,ff as k,WL as l,Jt as m,zL as n,fe as o,nO as p,Bt as q,un as r,te as s,nL as t,oe as u,$y as v,wn as w,YL as x,qL as y,rO as z};
//# sourceMappingURL=_virtual_wxt-plugins-DckzYsD-.js.map
