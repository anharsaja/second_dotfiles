"use strict";var __webpack_exports__={};class Node{value;next;constructor(e){this.value=e}}class Queue{#e;#t;#s;constructor(){this.clear()}enqueue(e){const t=new Node(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#s++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#s--,e.value}clear(){this.#e=void 0,this.#t=void 0,this.#s=0}get size(){return this.#s}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}}const AsyncResource={bind:(e,t,s)=>e.bind(s)};class AsyncLocalStorage{getStore(){}run(e,t){return t()}}function pLimit(e){if(!Number.isInteger(e)&&e!==Number.POSITIVE_INFINITY||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new Queue;let s=0;const a=async(e,a,i)=>{s++;const r=(async()=>e(...i))();a(r);try{await r}catch{}s--,t.size>0&&t.dequeue()()},i=(i,...r)=>new Promise((n=>{((i,r,n)=>{t.enqueue(AsyncResource.bind(a.bind(void 0,i,r,n))),(async()=>{await Promise.resolve(),s<e&&t.size>0&&t.dequeue()()})()})(i,n,r)}));return Object.defineProperties(i,{activeCount:{get:()=>s},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}}}),i}const limit=pLimit(1);let metadata=null;async function fetchMetadata(e){await limit((async()=>{metadata?.url!==document.location.href&&(metadata={url:document.location.href},metadata.data=await(await fetch(`https://www.netflix.com/nq/website/memberapi/release/metadata?movieid=${e}`)).json())}))}function clearMetadata(){metadata=null}const presence=new Presence({clientId:"926541425682829352"}),getStrings=async()=>presence.getStrings({play:"general.playing",pause:"general.paused",browse:"general.browsing",watchingMovie:"general.watchingMovie",watchingSeries:"general.watchingSeries",viewSeries:"general.buttonViewSeries",viewMovies:"general.buttonViewMovie",watchEpisode:"general.buttonViewEpisode",watchMovie:"general.buttonWatchMovie",seriesDisplayFull:"netflix.seriesDisplay.full",seriesDisplayShort:"netflix.seriesDisplay.short",movieDisplay:"netflix.movieDisplay"},await presence.getSetting("lang").catch((()=>"en")));let strings,oldLang=null;presence.on("UpdateData",(async()=>{const[e,t,s,a,i,r,n,c,l]=await Promise.all([presence.getSetting("lang").catch((()=>"en")),presence.getSetting("usePresenceName"),presence.getSetting("timestamp"),presence.getSetting("showBrowsingStatus"),presence.getSetting("showCover"),presence.getSetting("showSeries"),presence.getSetting("showMovies"),presence.getSetting("logoType"),presence.getSetting("privacy")]);oldLang!==e&&(oldLang=e,strings=await getStrings());const d=document.location.href,g=d.match(/\/title\/(\d+)/)??d.match(/jbv=(\d+)/);if(g)return l?presence.clearActivity():(await fetchMetadata(g[1]),await presence.setActivity({details:metadata.data.video.title,state:metadata.data.video.synopsis.slice(0,128),largeImageKey:i?metadata.data.video.boxart.at(0).url:["https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/0.gif","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/2.png"][c]||"https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png",smallImageKey:"https://cdn.rcd.gg/PreMiD/resources/reading.png",smallImageText:strings.browse,buttons:[{label:"show"===metadata.data.video.type?strings.viewSeries:strings.viewMovies,url:document.location.href}]}));const o=d.match(/\/watch\/(\d+)/);if(o){await fetchMetadata(o[1]);const e=document.querySelector("video");if(!e)return;const{paused:a}=e,[d,g]=presence.getTimestampsfromMedia(e);if("show"===metadata.data.video.type&&r){if(l)return await presence.setActivity({type:3,details:strings.watchingSeries,largeImageKey:"https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png"});const e=metadata.data.video,r=metadata.data.video.seasons.find((t=>t.episodes.map((e=>e.episodeId)).includes(e.currentEpisode))),n=r.episodes.find((t=>t.episodeId===e.currentEpisode));return await presence.setActivity({type:3,details:metadata.data.video.title,state:strings.seriesDisplayShort.replace("{0}",r.seq.toString()).replace("{1}",n.seq.toString()).replace("{2}",n.title),largeImageKey:i?metadata.data.video.boxart.at(0).url:["https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/0.gif","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/2.png"][c]||"https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png",smallImageKey:a?"https://cdn.rcd.gg/PreMiD/resources/pause.png":"https://cdn.rcd.gg/PreMiD/resources/play.png",smallImageText:a?strings.pause:strings.play,...s&&{startTimestamp:a?null:d,endTimestamp:a?null:g},...t&&{name:metadata.data.video.title,details:n.title,state:strings.seriesDisplayFull.replace("{0}",r.seq.toString()).replace("{1}",n.seq.toString())},buttons:[{label:strings.watchEpisode,url:document.location.href.split("?")[0]},{label:strings.viewSeries,url:`https://www.netflix.com/title/${metadata.data.video.id}`}]})}return"movie"===metadata.data.video.type&&n?l?await presence.setActivity({type:3,details:strings.watchingMovie,largeImageKey:"https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png"}):await presence.setActivity({type:3,details:metadata.data.video.title,state:strings.movieDisplay.replace("{0}",metadata.data.video.year.toString()).replace("{1}",Math.floor(metadata.data.video.runtime/60).toString()),largeImageKey:i?metadata.data.video.boxart.at(0).url:["https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/0.gif","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/2.png"][c]||"https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png",smallImageKey:a?"https://cdn.rcd.gg/PreMiD/resources/pause.png":"https://cdn.rcd.gg/PreMiD/resources/play.png",smallImageText:a?strings.pause:strings.play,...s&&{startTimestamp:a?null:d,endTimestamp:a?null:g},...t&&{name:metadata.data.video.title},buttons:[{label:strings.watchMovie,url:document.location.href.split("?")[0]}]}):presence.clearActivity()}return clearMetadata(),a&&!l?await presence.setActivity({details:strings.browse,largeImageKey:["https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/0.gif","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png","https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/2.png"][c]||"https://cdn.rcd.gg/PreMiD/websites/N/Netflix/assets/1.png",smallImageKey:"https://cdn.rcd.gg/PreMiD/resources/reading.png",smallImageText:strings.browse}):presence.clearActivity()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc2VuY2UuanMiLCJtYXBwaW5ncyI6IndDQUtBLE1BQU1BLEtBQ0xDLE1BQ0FDLEtBRUFDLFlBQVlGLEdBQ1hHLEtBQUtILE1BQVFBLENBQ2QsRUFHYyxNQUFNSSxNQUNwQixHQUNBLEdBQ0EsR0FFQUYsY0FDQ0MsS0FBS0UsT0FDTixDQUVBQyxRQUFRTixHQUNQLE1BQU1PLEVBQU8sSUFBSVIsS0FBS0MsR0FFbEJHLE1BQUssR0FDUkEsTUFBSyxFQUFNRixLQUFPTSxFQUNsQkosTUFBSyxFQUFRSSxJQUViSixNQUFLLEVBQVFJLEVBQ2JKLE1BQUssRUFBUUksR0FHZEosTUFBSyxHQUNOLENBRUFLLFVBQ0MsTUFBTUMsRUFBVU4sTUFBSyxFQUNyQixHQUFLTSxFQU1MLE9BRkFOLE1BQUssRUFBUUEsTUFBSyxFQUFNRixLQUN4QkUsTUFBSyxJQUNFTSxFQUFRVCxLQUNoQixDQUVBSyxRQUNDRixNQUFLLE9BQVFPLEVBQ2JQLE1BQUssT0FBUU8sRUFDYlAsTUFBSyxFQUFRLENBQ2QsQ0FFSVEsV0FDSCxPQUFPUixNQUFLLENBQ2IsQ0FFQSxFQUFHUyxPQUFPQyxZQUNULElBQUlKLEVBQVVOLE1BQUssRUFFbkIsS0FBT00sU0FDQUEsRUFBUVQsTUFDZFMsRUFBVUEsRUFBUVIsSUFFcEIsRUNqRU0sTUFBTWEsY0FBZ0IsQ0FDNUJDLEtBQUksQ0FBQ0MsRUFBSUMsRUFBT0MsSUFDUkYsRUFBR0QsS0FBS0csSUFJVixNQUFNQyxrQkFDWkMsV0FFQSxDQUVBQyxJQUFJQyxFQUFRQyxHQUNYLE9BQU9BLEdBQ1IsRUNWYyxTQUFTQyxPQUFPQyxHQUM5QixJQUFPQyxPQUFPQyxVQUFVRixJQUFnQkEsSUFBZ0JDLE9BQU9FLHFCQUFzQkgsRUFBYyxHQUNsRyxNQUFNLElBQUlJLFVBQVUsdURBR3JCLE1BQU1DLEVBQVEsSUFBSTFCLE1BQ2xCLElBQUkyQixFQUFjLEVBRWxCLE1BUU1WLEVBQU1XLE1BQU9DLEVBQVdDLEVBQVNDLEtBQ3RDSixJQUVBLE1BQU1LLEVBQVMsVUFBYUgsS0FBYUUsR0FBMUIsR0FFZkQsRUFBUUUsR0FFUixVQUNPQSxDQUNFLENBQVAsTUFBTyxDQWhCVEwsSUFFSUQsRUFBTW5CLEtBQU8sR0FDaEJtQixFQUFNdEIsU0FBTnNCLEVBZUssRUFxQkRPLEVBQVksQ0FBQ0osS0FBY0UsSUFBZSxJQUFJRyxTQUFRSixJQWxCNUMsRUFBQ0QsRUFBV0MsRUFBU0MsS0FDcENMLEVBQU14QixRQUNMUSxjQUFjQyxLQUFLTSxFQUFJTixVQUFLTCxFQUFXdUIsRUFBV0MsRUFBU0MsS0FHNUQsaUJBS09HLFFBQVFKLFVBRVZILEVBQWNOLEdBQWVLLEVBQU1uQixLQUFPLEdBQzdDbUIsRUFBTXRCLFNBQU5zQixFQUVELEVBVkQsRUFVSSxFQUlKeEIsQ0FBUTJCLEVBQVdDLEVBQVNDLEVBQVcsSUFpQnhDLE9BZEFJLE9BQU9DLGlCQUFpQkgsRUFBVyxDQUNsQ04sWUFBYSxDQUNaVSxJQUFLLElBQU1WLEdBRVpXLGFBQWMsQ0FDYkQsSUFBSyxJQUFNWCxFQUFNbkIsTUFFbEJnQyxXQUFZLENBQ1gzQyxRQUNDOEIsRUFBTXpCLE9BQ1AsS0FJS2dDLENBQ1IsQ0NyRUEsTUFBTU8sTUFBUXBCLE9BQU8sR0FDZCxJQUFJcUIsU0FBVyxLQUNmYixlQUFlYyxjQUFjQyxTQUMxQkgsT0FBTVosVUFDSmEsVUFBVUcsTUFBUUMsU0FBU0MsU0FBU0MsT0FFeENOLFNBQVcsQ0FBRUcsSUFBS0MsU0FBU0MsU0FBU0MsTUFDcENOLFNBQVNPLGlCQUFvQkMsTUFBTSx5RUFBeUVOLE1BQU9PLE9BQU0sR0FFakksQ0FDTyxTQUFTQyxnQkFDWlYsU0FBVyxJQUNmLENDWkEsTUFBTVcsU0FBVyxJQUFJQyxTQUFTLENBQzFCQyxTQUFVLHVCQUNWQyxXQUFhM0IsU0FDTndCLFNBQVNHLFdBQVcsQ0FDdkJDLEtBQU0sa0JBQ05DLE1BQU8saUJBQ1BDLE9BQVEsbUJBQ1JDLGNBQWUsd0JBQ2ZDLGVBQWdCLHlCQUNoQkMsV0FBWSwyQkFDWkMsV0FBWSwwQkFDWkMsYUFBYyw0QkFDZEMsV0FBWSwyQkFDWkMsa0JBQW1CLDZCQUNuQkMsbUJBQW9CLDhCQUNwQkMsYUFBYyw4QkFDVGYsU0FBU2dCLFdBQVcsUUFBUUMsT0FBTSxJQUFNLFFBRXJELElBQW9CQyxRQUFoQkMsUUFBVSxLQUNkbkIsU0FBU29CLEdBQUcsY0FBYzVDLFVBQ3RCLE1BQU82QyxFQUFNQyxFQUFpQkMsRUFBZUMsRUFBb0JDLEVBQVdDLEVBQVlDLEVBQVlDLEVBQVVDLFNBQXNCL0MsUUFBUWdELElBQUksQ0FDNUk5QixTQUFTZ0IsV0FBVyxRQUFRQyxPQUFNLElBQU0sT0FDeENqQixTQUFTZ0IsV0FBVyxtQkFDcEJoQixTQUFTZ0IsV0FBVyxhQUNwQmhCLFNBQVNnQixXQUFXLHNCQUNwQmhCLFNBQVNnQixXQUFXLGFBQ3BCaEIsU0FBU2dCLFdBQVcsY0FDcEJoQixTQUFTZ0IsV0FBVyxjQUNwQmhCLFNBQVNnQixXQUFXLFlBQ3BCaEIsU0FBU2dCLFdBQVcsYUFFcEJHLFVBQVlFLElBQ1pGLFFBQVVFLEVBQ1ZILGNBQWdCZixjQUVwQixNQUFNNEIsRUFBT3RDLFNBQVNDLFNBQVNDLEtBQU1xQyxFQUFrQkQsRUFBS0UsTUFBTSxtQkFDOURGLEVBQUtFLE1BQU0sYUFDZixHQUFJRCxFQUNBLE9BQUlILEVBQ083QixTQUFTa0MsdUJBQ2Q1QyxjQUFjMEMsRUFBZ0IsVUFDdkJoQyxTQUFTbUMsWUFBWSxDQUM5QkMsUUFBUy9DLFNBQVNPLEtBQUt5QyxNQUFNQyxNQUM3QkMsTUFBT2xELFNBQVNPLEtBQUt5QyxNQUFNRyxTQUFTQyxNQUFNLEVBQUcsS0FDN0NDLGNBQWdCakIsRUFHVnBDLFNBQVNPLEtBQUt5QyxNQUFNTSxPQUFPQyxHQUFHLEdBQUdwRCxJQUZqQyxDQUFDLDREQUE2RCw0REFBNkQsNkRBQTZEb0MsSUFDdEwsNERBRVJpQixjQUFlLGtEQUNmQyxlQUFnQjVCLFFBQVFaLE9BQ3hCeUMsUUFBUyxDQUNMLENBQ0lDLE1BQW9DLFNBQTdCM0QsU0FBU08sS0FBS3lDLE1BQU1ZLEtBQ3JCL0IsUUFBUVQsV0FDUlMsUUFBUVIsV0FDZGxCLElBQUtDLFNBQVNDLFNBQVNDLFVBS3ZDLE1BQU11RCxFQUFrQm5CLEVBQUtFLE1BQU0sa0JBQ25DLEdBQUlpQixFQUFpQixPQUNYNUQsY0FBYzRELEVBQWdCLElBQ3BDLE1BQU1iLEVBQVE1QyxTQUFTMEQsY0FBYyxTQUNyQyxJQUFLZCxFQUNELE9BQ0osTUFBTSxPQUFFZSxHQUFXZixHQUFRZ0IsRUFBZ0JDLEdBQWdCdEQsU0FBU3VELHVCQUF1QmxCLEdBQzNGLEdBQWlDLFNBQTdCaEQsU0FBU08sS0FBS3lDLE1BQU1ZLE1BQW1CdkIsRUFBWSxDQUNuRCxHQUFJRyxFQUNBLGFBQWE3QixTQUFTbUMsWUFBWSxDQUM5QmMsS0FBTSxFQUNOYixRQUFTbEIsUUFBUVYsZUFDakJrQyxjQUFlLDhEQUd2QixNQUFNYyxFQUFZbkUsU0FBU08sS0FBS3lDLE1BQU9vQixFQUFTcEUsU0FBU08sS0FBS3lDLE1BQU1xQixRQUFRQyxNQUFLQyxHQUFLQSxFQUFFQyxTQUFTQyxLQUFJQyxHQUFLQSxFQUFFQyxZQUFXQyxTQUFTVCxFQUFVVSxrQkFBa0JDLEVBQVVWLEVBQU9JLFNBQVNGLE1BQUtJLEdBQUtBLEVBQUVDLFlBQWNSLEVBQVVVLGlCQUMxTixhQUFhbEUsU0FBU21DLFlBQVksQ0FDOUJjLEtBQU0sRUFDTmIsUUFBUy9DLFNBQVNPLEtBQUt5QyxNQUFNQyxNQUM3QkMsTUFBT3JCLFFBQVFKLG1CQUNWc0QsUUFBUSxNQUFPWCxFQUFPWSxJQUFJQyxZQUMxQkYsUUFBUSxNQUFPRCxFQUFRRSxJQUFJQyxZQUMzQkYsUUFBUSxNQUFPRCxFQUFRN0IsT0FDNUJJLGNBQWdCakIsRUFFVnBDLFNBQVNPLEtBQUt5QyxNQUFNTSxPQUFPQyxHQUFHLEdBQUdwRCxJQURqQyxDQUFDLDREQUE2RCw0REFBNkQsNkRBQTZEb0MsSUFBYSw0REFFM01pQixjQUFlTyxFQUFTLGdEQUFrRCwrQ0FDMUVOLGVBQWdCTSxFQUFTbEMsUUFBUWIsTUFBUWEsUUFBUWQsUUFDN0NtQixHQUFpQixDQUNqQjhCLGVBQWdCRCxFQUFTLEtBQU9DLEVBQ2hDQyxhQUFjRixFQUFTLEtBQU9FLE1BRTlCaEMsR0FBbUIsQ0FDbkJpRCxLQUFNbEYsU0FBU08sS0FBS3lDLE1BQU1DLE1BQzFCRixRQUFTK0IsRUFBUTdCLE1BQ2pCQyxNQUFPckIsUUFBUUwsa0JBQ1Z1RCxRQUFRLE1BQU9YLEVBQU9ZLElBQUlDLFlBQzFCRixRQUFRLE1BQU9ELEVBQVFFLElBQUlDLGFBRXBDdkIsUUFBUyxDQUNMLENBQ0lDLE1BQU85QixRQUFRUCxhQUNmbkIsSUFBS0MsU0FBU0MsU0FBU0MsS0FBSzZFLE1BQU0sS0FBSyxJQUUzQyxDQUNJeEIsTUFBTzlCLFFBQVFULFdBQ2ZqQixJQUFLLGlDQUFpQ0gsU0FBU08sS0FBS3lDLE1BQU05QyxRQUkxRSxDQUNBLE1BQWlDLFVBQTdCRixTQUFTTyxLQUFLeUMsTUFBTVksTUFBb0J0QixFQUNwQ0UsUUFDYTdCLFNBQVNtQyxZQUFZLENBQzlCYyxLQUFNLEVBQ05iLFFBQVNsQixRQUFRWCxjQUNqQm1DLGNBQWUsb0VBR1YxQyxTQUFTbUMsWUFBWSxDQUM5QmMsS0FBTSxFQUNOYixRQUFTL0MsU0FBU08sS0FBS3lDLE1BQU1DLE1BQzdCQyxNQUFPckIsUUFBUUgsYUFDVnFELFFBQVEsTUFBTy9FLFNBQVNPLEtBQUt5QyxNQUFNb0MsS0FBS0gsWUFDeENGLFFBQVEsTUFBT00sS0FBS0MsTUFBTXRGLFNBQVNPLEtBQUt5QyxNQUFNdUMsUUFBVSxJQUFJTixZQUNqRTVCLGNBQWdCakIsRUFFVnBDLFNBQVNPLEtBQUt5QyxNQUFNTSxPQUFPQyxHQUFHLEdBQUdwRCxJQURqQyxDQUFDLDREQUE2RCw0REFBNkQsNkRBQTZEb0MsSUFBYSw0REFFM01pQixjQUFlTyxFQUFTLGdEQUFrRCwrQ0FDMUVOLGVBQWdCTSxFQUFTbEMsUUFBUWIsTUFBUWEsUUFBUWQsUUFDN0NtQixHQUFpQixDQUNqQjhCLGVBQWdCRCxFQUFTLEtBQU9DLEVBQ2hDQyxhQUFjRixFQUFTLEtBQU9FLE1BRTlCaEMsR0FBbUIsQ0FDbkJpRCxLQUFNbEYsU0FBU08sS0FBS3lDLE1BQU1DLE9BRTlCUyxRQUFTLENBQ0wsQ0FDSUMsTUFBTzlCLFFBQVFOLFdBQ2ZwQixJQUFLQyxTQUFTQyxTQUFTQyxLQUFLNkUsTUFBTSxLQUFLLE9BS2hEeEUsU0FBU2tDLGVBQ3BCLENBRUEsT0FEQW5DLGdCQUNJeUIsSUFBdUJLLFFBQ1Y3QixTQUFTbUMsWUFBWSxDQUM5QkMsUUFBU2xCLFFBQVFaLE9BQ2pCb0MsY0FBZSxDQUFDLDREQUE2RCw0REFBNkQsNkRBQTZEZCxJQUNuTSw0REFDSmlCLGNBQWUsa0RBQ2ZDLGVBQWdCNUIsUUFBUVosU0FHekJOLFNBQVNrQyxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3lvY3RvLXF1ZXVlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wLWxpbWl0L2FzeW5jLWhvb2tzLXN0dWIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3AtbGltaXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vZnVuY3Rpb25zL2ZldGNoTWV0YWRhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vcHJlc2VuY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkhvdyBpdCB3b3JrczpcbmB0aGlzLiNoZWFkYCBpcyBhbiBpbnN0YW5jZSBvZiBgTm9kZWAgd2hpY2gga2VlcHMgdHJhY2sgb2YgaXRzIGN1cnJlbnQgdmFsdWUgYW5kIG5lc3RzIGFub3RoZXIgaW5zdGFuY2Ugb2YgYE5vZGVgIHRoYXQga2VlcHMgdGhlIHZhbHVlIHRoYXQgY29tZXMgYWZ0ZXIgaXQuIFdoZW4gYSB2YWx1ZSBpcyBwcm92aWRlZCB0byBgLmVucXVldWUoKWAsIHRoZSBjb2RlIG5lZWRzIHRvIGl0ZXJhdGUgdGhyb3VnaCBgdGhpcy4jaGVhZGAsIGdvaW5nIGRlZXBlciBhbmQgZGVlcGVyIHRvIGZpbmQgdGhlIGxhc3QgdmFsdWUuIEhvd2V2ZXIsIGl0ZXJhdGluZyB0aHJvdWdoIGV2ZXJ5IHNpbmdsZSBpdGVtIGlzIHNsb3cuIFRoaXMgcHJvYmxlbSBpcyBzb2x2ZWQgYnkgc2F2aW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBsYXN0IHZhbHVlIGFzIGB0aGlzLiN0YWlsYCBzbyB0aGF0IGl0IGNhbiByZWZlcmVuY2UgaXQgdG8gYWRkIGEgbmV3IHZhbHVlLlxuKi9cblxuY2xhc3MgTm9kZSB7XG5cdHZhbHVlO1xuXHRuZXh0O1xuXG5cdGNvbnN0cnVjdG9yKHZhbHVlKSB7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXVlIHtcblx0I2hlYWQ7XG5cdCN0YWlsO1xuXHQjc2l6ZTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmNsZWFyKCk7XG5cdH1cblxuXHRlbnF1ZXVlKHZhbHVlKSB7XG5cdFx0Y29uc3Qgbm9kZSA9IG5ldyBOb2RlKHZhbHVlKTtcblxuXHRcdGlmICh0aGlzLiNoZWFkKSB7XG5cdFx0XHR0aGlzLiN0YWlsLm5leHQgPSBub2RlO1xuXHRcdFx0dGhpcy4jdGFpbCA9IG5vZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuI2hlYWQgPSBub2RlO1xuXHRcdFx0dGhpcy4jdGFpbCA9IG5vZGU7XG5cdFx0fVxuXG5cdFx0dGhpcy4jc2l6ZSsrO1xuXHR9XG5cblx0ZGVxdWV1ZSgpIHtcblx0XHRjb25zdCBjdXJyZW50ID0gdGhpcy4jaGVhZDtcblx0XHRpZiAoIWN1cnJlbnQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLiNoZWFkID0gdGhpcy4jaGVhZC5uZXh0O1xuXHRcdHRoaXMuI3NpemUtLTtcblx0XHRyZXR1cm4gY3VycmVudC52YWx1ZTtcblx0fVxuXG5cdGNsZWFyKCkge1xuXHRcdHRoaXMuI2hlYWQgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy4jdGFpbCA9IHVuZGVmaW5lZDtcblx0XHR0aGlzLiNzaXplID0gMDtcblx0fVxuXG5cdGdldCBzaXplKCkge1xuXHRcdHJldHVybiB0aGlzLiNzaXplO1xuXHR9XG5cblx0KiBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcblx0XHRsZXQgY3VycmVudCA9IHRoaXMuI2hlYWQ7XG5cblx0XHR3aGlsZSAoY3VycmVudCkge1xuXHRcdFx0eWllbGQgY3VycmVudC52YWx1ZTtcblx0XHRcdGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgY29uc3QgQXN5bmNSZXNvdXJjZSA9IHtcblx0YmluZChmbiwgX3R5cGUsIHRoaXNBcmcpIHtcblx0XHRyZXR1cm4gZm4uYmluZCh0aGlzQXJnKTtcblx0fSxcbn07XG5cbmV4cG9ydCBjbGFzcyBBc3luY0xvY2FsU3RvcmFnZSB7XG5cdGdldFN0b3JlKCkge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblxuXHRydW4oX3N0b3JlLCBjYWxsYmFjaykge1xuXHRcdHJldHVybiBjYWxsYmFjaygpO1xuXHR9XG59XG4iLCJpbXBvcnQgUXVldWUgZnJvbSAneW9jdG8tcXVldWUnO1xuaW1wb3J0IHtBc3luY1Jlc291cmNlfSBmcm9tICcjYXN5bmNfaG9va3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwTGltaXQoY29uY3VycmVuY3kpIHtcblx0aWYgKCEoKE51bWJlci5pc0ludGVnZXIoY29uY3VycmVuY3kpIHx8IGNvbmN1cnJlbmN5ID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpICYmIGNvbmN1cnJlbmN5ID4gMCkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBgY29uY3VycmVuY3lgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAnKTtcblx0fVxuXG5cdGNvbnN0IHF1ZXVlID0gbmV3IFF1ZXVlKCk7XG5cdGxldCBhY3RpdmVDb3VudCA9IDA7XG5cblx0Y29uc3QgbmV4dCA9ICgpID0+IHtcblx0XHRhY3RpdmVDb3VudC0tO1xuXG5cdFx0aWYgKHF1ZXVlLnNpemUgPiAwKSB7XG5cdFx0XHRxdWV1ZS5kZXF1ZXVlKCkoKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgcnVuID0gYXN5bmMgKGZ1bmN0aW9uXywgcmVzb2x2ZSwgYXJndW1lbnRzXykgPT4ge1xuXHRcdGFjdGl2ZUNvdW50Kys7XG5cblx0XHRjb25zdCByZXN1bHQgPSAoYXN5bmMgKCkgPT4gZnVuY3Rpb25fKC4uLmFyZ3VtZW50c18pKSgpO1xuXG5cdFx0cmVzb2x2ZShyZXN1bHQpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IHJlc3VsdDtcblx0XHR9IGNhdGNoIHt9XG5cblx0XHRuZXh0KCk7XG5cdH07XG5cblx0Y29uc3QgZW5xdWV1ZSA9IChmdW5jdGlvbl8sIHJlc29sdmUsIGFyZ3VtZW50c18pID0+IHtcblx0XHRxdWV1ZS5lbnF1ZXVlKFxuXHRcdFx0QXN5bmNSZXNvdXJjZS5iaW5kKHJ1bi5iaW5kKHVuZGVmaW5lZCwgZnVuY3Rpb25fLCByZXNvbHZlLCBhcmd1bWVudHNfKSksXG5cdFx0KTtcblxuXHRcdChhc3luYyAoKSA9PiB7XG5cdFx0XHQvLyBUaGlzIGZ1bmN0aW9uIG5lZWRzIHRvIHdhaXQgdW50aWwgdGhlIG5leHQgbWljcm90YXNrIGJlZm9yZSBjb21wYXJpbmdcblx0XHRcdC8vIGBhY3RpdmVDb3VudGAgdG8gYGNvbmN1cnJlbmN5YCwgYmVjYXVzZSBgYWN0aXZlQ291bnRgIGlzIHVwZGF0ZWQgYXN5bmNocm9ub3VzbHlcblx0XHRcdC8vIHdoZW4gdGhlIHJ1biBmdW5jdGlvbiBpcyBkZXF1ZXVlZCBhbmQgY2FsbGVkLiBUaGUgY29tcGFyaXNvbiBpbiB0aGUgaWYtc3RhdGVtZW50XG5cdFx0XHQvLyBuZWVkcyB0byBoYXBwZW4gYXN5bmNocm9ub3VzbHkgYXMgd2VsbCB0byBnZXQgYW4gdXAtdG8tZGF0ZSB2YWx1ZSBmb3IgYGFjdGl2ZUNvdW50YC5cblx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0XHRpZiAoYWN0aXZlQ291bnQgPCBjb25jdXJyZW5jeSAmJiBxdWV1ZS5zaXplID4gMCkge1xuXHRcdFx0XHRxdWV1ZS5kZXF1ZXVlKCkoKTtcblx0XHRcdH1cblx0XHR9KSgpO1xuXHR9O1xuXG5cdGNvbnN0IGdlbmVyYXRvciA9IChmdW5jdGlvbl8sIC4uLmFyZ3VtZW50c18pID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuXHRcdGVucXVldWUoZnVuY3Rpb25fLCByZXNvbHZlLCBhcmd1bWVudHNfKTtcblx0fSk7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZ2VuZXJhdG9yLCB7XG5cdFx0YWN0aXZlQ291bnQ6IHtcblx0XHRcdGdldDogKCkgPT4gYWN0aXZlQ291bnQsXG5cdFx0fSxcblx0XHRwZW5kaW5nQ291bnQ6IHtcblx0XHRcdGdldDogKCkgPT4gcXVldWUuc2l6ZSxcblx0XHR9LFxuXHRcdGNsZWFyUXVldWU6IHtcblx0XHRcdHZhbHVlKCkge1xuXHRcdFx0XHRxdWV1ZS5jbGVhcigpO1xuXHRcdFx0fSxcblx0XHR9LFxuXHR9KTtcblxuXHRyZXR1cm4gZ2VuZXJhdG9yO1xufVxuIiwiaW1wb3J0IHBMaW1pdCBmcm9tIFwicC1saW1pdFwiO1xuY29uc3QgbGltaXQgPSBwTGltaXQoMSk7XG5leHBvcnQgbGV0IG1ldGFkYXRhID0gbnVsbDtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhKGlkKSB7XG4gICAgYXdhaXQgbGltaXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAobWV0YWRhdGE/LnVybCA9PT0gZG9jdW1lbnQubG9jYXRpb24uaHJlZilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbWV0YWRhdGEgPSB7IHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZiB9O1xuICAgICAgICBtZXRhZGF0YS5kYXRhID0gYXdhaXQgKGF3YWl0IGZldGNoKGBodHRwczovL3d3dy5uZXRmbGl4LmNvbS9ucS93ZWJzaXRlL21lbWJlcmFwaS9yZWxlYXNlL21ldGFkYXRhP21vdmllaWQ9JHtpZH1gKSkuanNvbigpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWV0YWRhdGEoKSB7XG4gICAgbWV0YWRhdGEgPSBudWxsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pWm1WMFkyaE5aWFJoWkdGMFlTNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpJanBiSW1abGRHTm9UV1YwWVdSaGRHRXVkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUVVFc1QwRkJUeXhOUVVGTkxFMUJRVTBzVTBGQlV5eERRVUZETzBGQlJ6ZENMRTFCUVUwc1MwRkJTeXhIUVVGSExFMUJRVTBzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0QlFVVjRRaXhOUVVGTkxFTkJRVU1zU1VGQlNTeFJRVUZSTEVkQlIxSXNTVUZCU1N4RFFVRkRPMEZCUldoQ0xFMUJRVTBzUTBGQlF5eExRVUZMTEZWQlFWVXNZVUZCWVN4RFFVRkRMRVZCUVZVN1NVRkROME1zVFVGQlRTeExRVUZMTEVOQlFVTXNTMEZCU3l4SlFVRkpMRVZCUVVVN1VVRkRkRUlzU1VGQlNTeFJRVUZSTEVWQlFVVXNSMEZCUnl4TFFVRkxMRkZCUVZFc1EwRkJReXhSUVVGUkxFTkJRVU1zU1VGQlNUdFpRVUZGTEU5QlFVODdVVUZGY2tRc1VVRkJVU3hIUVVGSExFVkJRVVVzUjBGQlJ5eEZRVUZGTEZGQlFWRXNRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hGUVVGRkxFTkJRVU03VVVGRE0wTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1IwRkJSeXhOUVVGTkxFTkJRM0pDTEUxQlFVMHNTMEZCU3l4RFFVTldMSGxGUVVGNVJTeEZRVUZGTEVWQlFVVXNRMEZETjBVc1EwRkRSQ3hEUVVGRExFbEJRVWtzUlVGQlJTeERRVUZETzBsQlExWXNRMEZCUXl4RFFVRkRMRU5CUVVNN1FVRkRTaXhEUVVGRE8wRkJSVVFzVFVGQlRTeFZRVUZWTEdGQlFXRTdTVUZETlVJc1VVRkJVU3hIUVVGSExFbEJRVWtzUTBGQlF6dEJRVU5xUWl4RFFVRkRJbjA9IiwiaW1wb3J0IHsgY2xlYXJNZXRhZGF0YSwgZmV0Y2hNZXRhZGF0YSwgbWV0YWRhdGEsIH0gZnJvbSBcIi4vZnVuY3Rpb25zL2ZldGNoTWV0YWRhdGFcIjtcbmNvbnN0IHByZXNlbmNlID0gbmV3IFByZXNlbmNlKHtcbiAgICBjbGllbnRJZDogXCI5MjY1NDE0MjU2ODI4MjkzNTJcIixcbn0pLCBnZXRTdHJpbmdzID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiBwcmVzZW5jZS5nZXRTdHJpbmdzKHtcbiAgICAgICAgcGxheTogXCJnZW5lcmFsLnBsYXlpbmdcIixcbiAgICAgICAgcGF1c2U6IFwiZ2VuZXJhbC5wYXVzZWRcIixcbiAgICAgICAgYnJvd3NlOiBcImdlbmVyYWwuYnJvd3NpbmdcIixcbiAgICAgICAgd2F0Y2hpbmdNb3ZpZTogXCJnZW5lcmFsLndhdGNoaW5nTW92aWVcIixcbiAgICAgICAgd2F0Y2hpbmdTZXJpZXM6IFwiZ2VuZXJhbC53YXRjaGluZ1Nlcmllc1wiLFxuICAgICAgICB2aWV3U2VyaWVzOiBcImdlbmVyYWwuYnV0dG9uVmlld1Nlcmllc1wiLFxuICAgICAgICB2aWV3TW92aWVzOiBcImdlbmVyYWwuYnV0dG9uVmlld01vdmllXCIsXG4gICAgICAgIHdhdGNoRXBpc29kZTogXCJnZW5lcmFsLmJ1dHRvblZpZXdFcGlzb2RlXCIsXG4gICAgICAgIHdhdGNoTW92aWU6IFwiZ2VuZXJhbC5idXR0b25XYXRjaE1vdmllXCIsXG4gICAgICAgIHNlcmllc0Rpc3BsYXlGdWxsOiBcIm5ldGZsaXguc2VyaWVzRGlzcGxheS5mdWxsXCIsXG4gICAgICAgIHNlcmllc0Rpc3BsYXlTaG9ydDogXCJuZXRmbGl4LnNlcmllc0Rpc3BsYXkuc2hvcnRcIixcbiAgICAgICAgbW92aWVEaXNwbGF5OiBcIm5ldGZsaXgubW92aWVEaXNwbGF5XCIsXG4gICAgfSwgYXdhaXQgcHJlc2VuY2UuZ2V0U2V0dGluZyhcImxhbmdcIikuY2F0Y2goKCkgPT4gXCJlblwiKSk7XG59O1xubGV0IG9sZExhbmcgPSBudWxsLCBzdHJpbmdzO1xucHJlc2VuY2Uub24oXCJVcGRhdGVEYXRhXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBbbGFuZywgdXNlUHJlc2VuY2VOYW1lLCBzaG93VGltZXN0YW1wLCBzaG93QnJvd3NpbmdTdGF0dXMsIHNob3dDb3Zlciwgc2hvd1Nlcmllcywgc2hvd01vdmllcywgbG9nb1R5cGUsIHByaXZhY3lNb2RlLF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJsYW5nXCIpLmNhdGNoKCgpID0+IFwiZW5cIiksXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJ1c2VQcmVzZW5jZU5hbWVcIiksXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJ0aW1lc3RhbXBcIiksXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJzaG93QnJvd3NpbmdTdGF0dXNcIiksXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJzaG93Q292ZXJcIiksXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJzaG93U2VyaWVzXCIpLFxuICAgICAgICBwcmVzZW5jZS5nZXRTZXR0aW5nKFwic2hvd01vdmllc1wiKSxcbiAgICAgICAgcHJlc2VuY2UuZ2V0U2V0dGluZyhcImxvZ29UeXBlXCIpLFxuICAgICAgICBwcmVzZW5jZS5nZXRTZXR0aW5nKFwicHJpdmFjeVwiKSxcbiAgICBdKTtcbiAgICBpZiAob2xkTGFuZyAhPT0gbGFuZykge1xuICAgICAgICBvbGRMYW5nID0gbGFuZztcbiAgICAgICAgc3RyaW5ncyA9IGF3YWl0IGdldFN0cmluZ3MoKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsIGJyb3dzaW5nTWVkaWFJZCA9IHBhdGgubWF0Y2goL1xcL3RpdGxlXFwvKFxcZCspLykgPz9cbiAgICAgICAgcGF0aC5tYXRjaCgvamJ2PShcXGQrKS8pO1xuICAgIGlmIChicm93c2luZ01lZGlhSWQpIHtcbiAgICAgICAgaWYgKHByaXZhY3lNb2RlKVxuICAgICAgICAgICAgcmV0dXJuIHByZXNlbmNlLmNsZWFyQWN0aXZpdHkoKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hNZXRhZGF0YShicm93c2luZ01lZGlhSWRbMV0pO1xuICAgICAgICByZXR1cm4gYXdhaXQgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoe1xuICAgICAgICAgICAgZGV0YWlsczogbWV0YWRhdGEuZGF0YS52aWRlby50aXRsZSxcbiAgICAgICAgICAgIHN0YXRlOiBtZXRhZGF0YS5kYXRhLnZpZGVvLnN5bm9wc2lzLnNsaWNlKDAsIDEyOCksXG4gICAgICAgICAgICBsYXJnZUltYWdlS2V5OiAhc2hvd0NvdmVyXG4gICAgICAgICAgICAgICAgPyBbXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMC5naWZcIiwgXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMS5wbmdcIiwgXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMi5wbmdcIl1bbG9nb1R5cGVdIHx8XG4gICAgICAgICAgICAgICAgICAgIFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC93ZWJzaXRlcy9OL05ldGZsaXgvYXNzZXRzLzEucG5nXCJcbiAgICAgICAgICAgICAgICA6IG1ldGFkYXRhLmRhdGEudmlkZW8uYm94YXJ0LmF0KDApLnVybCxcbiAgICAgICAgICAgIHNtYWxsSW1hZ2VLZXk6IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvcmVhZGluZy5wbmdcIixcbiAgICAgICAgICAgIHNtYWxsSW1hZ2VUZXh0OiBzdHJpbmdzLmJyb3dzZSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBtZXRhZGF0YS5kYXRhLnZpZGVvLnR5cGUgPT09IFwic2hvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0cmluZ3Mudmlld1Nlcmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdHJpbmdzLnZpZXdNb3ZpZXMsXG4gICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHdhdGNoaW5nTWVkaWFJZCA9IHBhdGgubWF0Y2goL1xcL3dhdGNoXFwvKFxcZCspLyk7XG4gICAgaWYgKHdhdGNoaW5nTWVkaWFJZCkge1xuICAgICAgICBhd2FpdCBmZXRjaE1ldGFkYXRhKHdhdGNoaW5nTWVkaWFJZFsxXSk7XG4gICAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xuICAgICAgICBpZiAoIXZpZGVvKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHBhdXNlZCB9ID0gdmlkZW8sIFtzdGFydFRpbWVzdGFtcCwgZW5kVGltZXN0YW1wXSA9IHByZXNlbmNlLmdldFRpbWVzdGFtcHNmcm9tTWVkaWEodmlkZW8pO1xuICAgICAgICBpZiAobWV0YWRhdGEuZGF0YS52aWRlby50eXBlID09PSBcInNob3dcIiAmJiBzaG93U2VyaWVzKSB7XG4gICAgICAgICAgICBpZiAocHJpdmFjeU1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAzLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBzdHJpbmdzLndhdGNoaW5nU2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBsYXJnZUltYWdlS2V5OiBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTi9OZXRmbGl4L2Fzc2V0cy8xLnBuZ1wiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmlkZW9EYXRhID0gbWV0YWRhdGEuZGF0YS52aWRlbywgc2Vhc29uID0gbWV0YWRhdGEuZGF0YS52aWRlby5zZWFzb25zLmZpbmQocyA9PiBzLmVwaXNvZGVzLm1hcChlID0+IGUuZXBpc29kZUlkKS5pbmNsdWRlcyh2aWRlb0RhdGEuY3VycmVudEVwaXNvZGUpKSwgZXBpc29kZSA9IHNlYXNvbi5lcGlzb2Rlcy5maW5kKGUgPT4gZS5lcGlzb2RlSWQgPT09IHZpZGVvRGF0YS5jdXJyZW50RXBpc29kZSk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IDMsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogbWV0YWRhdGEuZGF0YS52aWRlby50aXRsZSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogc3RyaW5ncy5zZXJpZXNEaXNwbGF5U2hvcnRcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MH1cIiwgc2Vhc29uLnNlcS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcInsxfVwiLCBlcGlzb2RlLnNlcS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcInsyfVwiLCBlcGlzb2RlLnRpdGxlKSxcbiAgICAgICAgICAgICAgICBsYXJnZUltYWdlS2V5OiAhc2hvd0NvdmVyXG4gICAgICAgICAgICAgICAgICAgID8gW1wiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC93ZWJzaXRlcy9OL05ldGZsaXgvYXNzZXRzLzAuZ2lmXCIsIFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC93ZWJzaXRlcy9OL05ldGZsaXgvYXNzZXRzLzEucG5nXCIsIFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC93ZWJzaXRlcy9OL05ldGZsaXgvYXNzZXRzLzIucG5nXCJdW2xvZ29UeXBlXSB8fCBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTi9OZXRmbGl4L2Fzc2V0cy8xLnBuZ1wiXG4gICAgICAgICAgICAgICAgICAgIDogbWV0YWRhdGEuZGF0YS52aWRlby5ib3hhcnQuYXQoMCkudXJsLFxuICAgICAgICAgICAgICAgIHNtYWxsSW1hZ2VLZXk6IHBhdXNlZCA/IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvcGF1c2UucG5nXCIgOiBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvcmVzb3VyY2VzL3BsYXkucG5nXCIsXG4gICAgICAgICAgICAgICAgc21hbGxJbWFnZVRleHQ6IHBhdXNlZCA/IHN0cmluZ3MucGF1c2UgOiBzdHJpbmdzLnBsYXksXG4gICAgICAgICAgICAgICAgLi4uKHNob3dUaW1lc3RhbXAgJiYge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcDogcGF1c2VkID8gbnVsbCA6IHN0YXJ0VGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lc3RhbXA6IHBhdXNlZCA/IG51bGwgOiBlbmRUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uKHVzZVByZXNlbmNlTmFtZSAmJiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1ldGFkYXRhLmRhdGEudmlkZW8udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVwaXNvZGUudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdHJpbmdzLnNlcmllc0Rpc3BsYXlGdWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcInswfVwiLCBzZWFzb24uc2VxLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcInsxfVwiLCBlcGlzb2RlLnNlcS50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBidXR0b25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdHJpbmdzLndhdGNoRXBpc29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdChcIj9cIilbMF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdHJpbmdzLnZpZXdTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3d3dy5uZXRmbGl4LmNvbS90aXRsZS8ke21ldGFkYXRhLmRhdGEudmlkZW8uaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1ldGFkYXRhLmRhdGEudmlkZW8udHlwZSA9PT0gXCJtb3ZpZVwiICYmIHNob3dNb3ZpZXMpIHtcbiAgICAgICAgICAgIGlmIChwcml2YWN5TW9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwcmVzZW5jZS5zZXRBY3Rpdml0eSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDMsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHN0cmluZ3Mud2F0Y2hpbmdNb3ZpZSxcbiAgICAgICAgICAgICAgICAgICAgbGFyZ2VJbWFnZUtleTogXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMS5wbmdcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBwcmVzZW5jZS5zZXRBY3Rpdml0eSh7XG4gICAgICAgICAgICAgICAgdHlwZTogMyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBtZXRhZGF0YS5kYXRhLnZpZGVvLnRpdGxlLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBzdHJpbmdzLm1vdmllRGlzcGxheVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcInswfVwiLCBtZXRhZGF0YS5kYXRhLnZpZGVvLnllYXIudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MX1cIiwgTWF0aC5mbG9vcihtZXRhZGF0YS5kYXRhLnZpZGVvLnJ1bnRpbWUgLyA2MCkudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgbGFyZ2VJbWFnZUtleTogIXNob3dDb3ZlclxuICAgICAgICAgICAgICAgICAgICA/IFtcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTi9OZXRmbGl4L2Fzc2V0cy8wLmdpZlwiLCBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTi9OZXRmbGl4L2Fzc2V0cy8xLnBuZ1wiLCBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTi9OZXRmbGl4L2Fzc2V0cy8yLnBuZ1wiXVtsb2dvVHlwZV0gfHwgXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMS5wbmdcIlxuICAgICAgICAgICAgICAgICAgICA6IG1ldGFkYXRhLmRhdGEudmlkZW8uYm94YXJ0LmF0KDApLnVybCxcbiAgICAgICAgICAgICAgICBzbWFsbEltYWdlS2V5OiBwYXVzZWQgPyBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvcmVzb3VyY2VzL3BhdXNlLnBuZ1wiIDogXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3Jlc291cmNlcy9wbGF5LnBuZ1wiLFxuICAgICAgICAgICAgICAgIHNtYWxsSW1hZ2VUZXh0OiBwYXVzZWQgPyBzdHJpbmdzLnBhdXNlIDogc3RyaW5ncy5wbGF5LFxuICAgICAgICAgICAgICAgIC4uLihzaG93VGltZXN0YW1wICYmIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXA6IHBhdXNlZCA/IG51bGwgOiBzdGFydFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZXN0YW1wOiBwYXVzZWQgPyBudWxsIDogZW5kVGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLih1c2VQcmVzZW5jZU5hbWUgJiYge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZXRhZGF0YS5kYXRhLnZpZGVvLnRpdGxlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZ3Mud2F0Y2hNb3ZpZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdChcIj9cIilbMF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmVzZW5jZS5jbGVhckFjdGl2aXR5KCk7XG4gICAgfVxuICAgIGNsZWFyTWV0YWRhdGEoKTtcbiAgICBpZiAoc2hvd0Jyb3dzaW5nU3RhdHVzICYmICFwcml2YWN5TW9kZSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoe1xuICAgICAgICAgICAgZGV0YWlsczogc3RyaW5ncy5icm93c2UsXG4gICAgICAgICAgICBsYXJnZUltYWdlS2V5OiBbXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMC5naWZcIiwgXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMS5wbmdcIiwgXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMi5wbmdcIl1bbG9nb1R5cGVdIHx8XG4gICAgICAgICAgICAgICAgXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL04vTmV0ZmxpeC9hc3NldHMvMS5wbmdcIixcbiAgICAgICAgICAgIHNtYWxsSW1hZ2VLZXk6IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvcmVhZGluZy5wbmdcIixcbiAgICAgICAgICAgIHNtYWxsSW1hZ2VUZXh0OiBzdHJpbmdzLmJyb3dzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcmVzZW5jZS5jbGVhckFjdGl2aXR5KCk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWNISmxjMlZ1WTJVdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUp3Y21WelpXNWpaUzUwY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGTFFTeFBRVUZQTEVWQlEwNHNZVUZCWVN4RlFVTmlMR0ZCUVdFc1JVRkRZaXhSUVVGUkxFZEJRMUlzVFVGQlRTd3lRa0ZCTWtJc1EwRkJRenRCUVVkdVF5eE5RVUZOTEZGQlFWRXNSMEZCUnl4SlFVRkpMRkZCUVZFc1EwRkJRenRKUVVNMVFpeFJRVUZSTEVWQlFVVXNiMEpCUVc5Q08wTkJRemxDTEVOQlFVTXNSVUZEUml4VlFVRlZMRWRCUVVjc1MwRkJTeXhKUVVGSkxFVkJRVVU3U1VGRGRrSXNUMEZCVHl4UlFVRlJMRU5CUVVNc1ZVRkJWU3hEUVVONlFqdFJRVU5ETEVsQlFVa3NSVUZCUlN4cFFrRkJhVUk3VVVGRGRrSXNTMEZCU3l4RlFVRkZMR2RDUVVGblFqdFJRVU4yUWl4TlFVRk5MRVZCUVVVc2EwSkJRV3RDTzFGQlF6RkNMR0ZCUVdFc1JVRkJSU3gxUWtGQmRVSTdVVUZEZEVNc1kwRkJZeXhGUVVGRkxIZENRVUYzUWp0UlFVTjRReXhWUVVGVkxFVkJRVVVzTUVKQlFUQkNPMUZCUTNSRExGVkJRVlVzUlVGQlJTeDVRa0ZCZVVJN1VVRkRja01zV1VGQldTeEZRVUZGTERKQ1FVRXlRanRSUVVONlF5eFZRVUZWTEVWQlFVVXNNRUpCUVRCQ08xRkJRM1JETEdsQ1FVRnBRaXhGUVVGRkxEUkNRVUUwUWp0UlFVTXZReXhyUWtGQmEwSXNSVUZCUlN3MlFrRkJOa0k3VVVGRGFrUXNXVUZCV1N4RlFVRkZMSE5DUVVGelFqdExRVU53UXl4RlFVTkVMRTFCUVUwc1VVRkJVU3hEUVVGRExGVkJRVlVzUTBGQlV5eE5RVUZOTEVOQlFVTXNRMEZCUXl4TFFVRkxMRU5CUVVNc1IwRkJSeXhGUVVGRkxFTkJRVU1zU1VGQlNTeERRVUZETEVOQlF6TkVMRU5CUVVNN1FVRkRTQ3hEUVVGRExFTkJRVU03UVVGRFNDeEpRVUZKTEU5QlFVOHNSMEZCVnl4SlFVRkpMRVZCUTNwQ0xFOUJRU3RETEVOQlFVTTdRVUZGYWtRc1VVRkJVU3hEUVVGRExFVkJRVVVzUTBGQlF5eFpRVUZaTEVWQlFVVXNTMEZCU3l4SlFVRkpMRVZCUVVVN1NVRkRjRU1zVFVGQlRTeERRVU5NTEVsQlFVa3NSVUZEU2l4bFFVRmxMRVZCUTJZc1lVRkJZU3hGUVVOaUxHdENRVUZyUWl4RlFVTnNRaXhUUVVGVExFVkJRMVFzVlVGQlZTeEZRVU5XTEZWQlFWVXNSVUZEVml4UlFVRlJMRVZCUTFJc1YwRkJWeXhGUVVOWUxFZEJRVWNzVFVGQlRTeFBRVUZQTEVOQlFVTXNSMEZCUnl4RFFVRkRPMUZCUTNKQ0xGRkJRVkVzUTBGQlF5eFZRVUZWTEVOQlFWTXNUVUZCVFN4RFFVRkRMRU5CUVVNc1MwRkJTeXhEUVVGRExFZEJRVWNzUlVGQlJTeERRVUZETEVsQlFVa3NRMEZCUXp0UlFVTnlSQ3hSUVVGUkxFTkJRVU1zVlVGQlZTeERRVUZWTEdsQ1FVRnBRaXhEUVVGRE8xRkJReTlETEZGQlFWRXNRMEZCUXl4VlFVRlZMRU5CUVZVc1YwRkJWeXhEUVVGRE8xRkJRM3BETEZGQlFWRXNRMEZCUXl4VlFVRlZMRU5CUVZVc2IwSkJRVzlDTEVOQlFVTTdVVUZEYkVRc1VVRkJVU3hEUVVGRExGVkJRVlVzUTBGQlZTeFhRVUZYTEVOQlFVTTdVVUZEZWtNc1VVRkJVU3hEUVVGRExGVkJRVlVzUTBGQlZTeFpRVUZaTEVOQlFVTTdVVUZETVVNc1VVRkJVU3hEUVVGRExGVkJRVlVzUTBGQlZTeFpRVUZaTEVOQlFVTTdVVUZETVVNc1VVRkJVU3hEUVVGRExGVkJRVlVzUTBGQlV5eFZRVUZWTEVOQlFVTTdVVUZEZGtNc1VVRkJVU3hEUVVGRExGVkJRVlVzUTBGQlZTeFRRVUZUTEVOQlFVTTdTMEZEZGtNc1EwRkJReXhEUVVGRE8wbEJSVWdzU1VGQlNTeFBRVUZQTEV0QlFVc3NTVUZCU1N4RlFVRkZPMUZCUTNKQ0xFOUJRVThzUjBGQlJ5eEpRVUZKTEVOQlFVTTdVVUZEWml4UFFVRlBMRWRCUVVjc1RVRkJUU3hWUVVGVkxFVkJRVVVzUTBGQlF6dExRVU0zUWp0SlFVVkVMRTFCUVUwc1NVRkJTU3hIUVVGSExGRkJRVkVzUTBGQlF5eFJRVUZSTEVOQlFVTXNTVUZCU1N4RlFVVnNReXhsUVVGbExFZEJRMlFzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4blFrRkJaMElzUTBGQlF6dFJRVVUxUWl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExGZEJRVmNzUTBGQlF5eERRVUZETzBsQlJURkNMRWxCUVVrc1pVRkJaU3hGUVVGRk8xRkJRM0JDTEVsQlFVa3NWMEZCVnp0WlFVRkZMRTlCUVU4c1VVRkJVU3hEUVVGRExHRkJRV0VzUlVGQlJTeERRVUZETzFGQlJXcEVMRTFCUVUwc1lVRkJZU3hEUVVGRExHVkJRV1VzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMUZCUlhoRExFOUJRVThzVFVGQlRTeFJRVUZSTEVOQlFVTXNWMEZCVnl4RFFVRkRPMWxCUTJwRExFOUJRVThzUlVGQlJTeFJRVUZSTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhMUVVGTE8xbEJRMnhETEV0QlFVc3NSVUZCUlN4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eFJRVUZSTEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNc1JVRkJSU3hIUVVGSExFTkJRVU03V1VGRGFrUXNZVUZCWVN4RlFVRkZMRU5CUVVNc1UwRkJVenRuUWtGRGVFSXNRMEZCUXl4RFFVRkRMSFZNUVVGNVJDeERRVUZETEZGQlFWRXNRMEZCUXpzclJVRkRjRVE3WjBKQlEycENMRU5CUVVNc1EwRkJReXhSUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4TlFVRk5MRU5CUVVNc1JVRkJSU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVkQlFVYzdXVUZEZGtNc1lVRkJZU3h0UkVGQlowSTdXVUZETjBJc1kwRkJZeXhGUVVGRkxFOUJRVThzUTBGQlF5eE5RVUZOTzFsQlF6bENMRTlCUVU4c1JVRkJSVHRuUWtGRFVqdHZRa0ZEUXl4TFFVRkxMRVZCUTBvc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNTVUZCU1N4TFFVRkxMRTFCUVUwN2QwSkJRMnhETEVOQlFVTXNRMEZCUXl4UFFVRlBMRU5CUVVNc1ZVRkJWVHQzUWtGRGNFSXNRMEZCUXl4RFFVRkRMRTlCUVU4c1EwRkJReXhWUVVGVk8yOUNRVU4wUWl4SFFVRkhMRVZCUVVVc1VVRkJVU3hEUVVGRExGRkJRVkVzUTBGQlF5eEpRVUZKTzJsQ1FVTXpRanRoUVVORU8xTkJRMFFzUTBGQlF5eERRVUZETzB0QlEwZzdTVUZIUkN4TlFVRk5MR1ZCUVdVc1IwRkJSeXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEdkQ1FVRm5RaXhEUVVGRExFTkJRVU03U1VGRGNrUXNTVUZCU1N4bFFVRmxMRVZCUVVVN1VVRkRjRUlzVFVGQlRTeGhRVUZoTEVOQlFVTXNaVUZCWlN4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03VVVGRGVFTXNUVUZCVFN4TFFVRkxMRWRCUVVjc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXp0UlFVVTVReXhKUVVGSkxFTkJRVU1zUzBGQlN6dFpRVUZGTEU5QlFVODdVVUZGYmtJc1RVRkJUU3hGUVVGRkxFMUJRVTBzUlVGQlJTeEhRVUZITEV0QlFVc3NSVUZEZGtJc1EwRkJReXhqUVVGakxFVkJRVVVzV1VGQldTeERRVUZETEVkQlFVY3NVVUZCVVN4RFFVRkRMSE5DUVVGelFpeERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPMUZCUlhwRkxFbEJRVWtzVVVGQlVTeERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1NVRkJTU3hMUVVGTExFMUJRVTBzU1VGQlNTeFZRVUZWTEVWQlFVVTdXVUZEZEVRc1NVRkJTU3hYUVVGWExFVkJRVVU3WjBKQlEyaENMRTlCUVU4c1RVRkJUU3hSUVVGUkxFTkJRVU1zVjBGQlZ5eERRVUZETzI5Q1FVTnFReXhKUVVGSkxFZEJRWFZDTzI5Q1FVTXpRaXhQUVVGUExFVkJRVVVzVDBGQlR5eERRVUZETEdOQlFXTTdiMEpCUXk5Q0xHRkJRV0VzTmtSQlFXbENPMmxDUVVNNVFpeERRVUZETEVOQlFVTTdZVUZEU0R0WlFVZEVMRTFCUVUwc1UwRkJVeXhIUVVGSExGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCYTBJc1JVRkRha1FzVFVGQlRTeEhRVUZITEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkROME1zUTBGQlF5eERRVUZETEZGQlFWRXNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVOQlFVTXNVMEZCVXl4RFFVRkRMRU5CUVVNc1VVRkJVU3hEUVVGRExGTkJRVk1zUTBGQlF5eGpRVUZqTEVOQlFVTXNRMEZEYmtVc1JVRkRSQ3hQUVVGUExFZEJRVWNzVFVGQlRTeERRVUZETEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUXpkQ0xFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNRMEZCUXl4RFFVRkRMRk5CUVZNc1MwRkJTeXhUUVVGVExFTkJRVU1zWTBGQll5eERRVU0zUXl4RFFVRkRPMWxCUlVnc1QwRkJUeXhOUVVGTkxGRkJRVkVzUTBGQlF5eFhRVUZYTEVOQlFVTTdaMEpCUTJwRExFbEJRVWtzUjBGQmRVSTdaMEpCUXpOQ0xFOUJRVThzUlVGQlJTeFJRVUZSTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhMUVVGTE8yZENRVU5zUXl4TFFVRkxMRVZCUVVVc1QwRkJUeXhEUVVGRExHdENRVUZyUWp0eFFrRkRMMElzVDBGQlR5eERRVUZETEV0QlFVc3NSVUZCUlN4TlFVRk5MRU5CUVVNc1IwRkJSeXhEUVVGRExGRkJRVkVzUlVGQlJTeERRVUZETzNGQ1FVTnlReXhQUVVGUExFTkJRVU1zUzBGQlN5eEZRVUZGTEU5QlFVOHNRMEZCUXl4SFFVRkhMRU5CUVVNc1VVRkJVU3hGUVVGRkxFTkJRVU03Y1VKQlEzUkRMRTlCUVU4c1EwRkJReXhMUVVGTExFVkJRVVVzVDBGQlR5eERRVUZETEV0QlFVc3NRMEZCUXp0blFrRkRMMElzWVVGQllTeEZRVUZGTEVOQlFVTXNVMEZCVXp0dlFrRkRlRUlzUTBGQlF5eERRVUZETEhWTVFVRjVSQ3hEUVVONlJDeFJRVUZSTEVOQlExQXNLMFJCUVcxQ08yOUNRVU4wUWl4RFFVRkRMRU5CUVVNc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNUVUZCVFN4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITzJkQ1FVTjJReXhoUVVGaExFVkJRVVVzVFVGQlRTeERRVUZETEVOQlFVTXNhVVJCUVdNc1EwRkJReXdyUTBGQldUdG5Ra0ZEYkVRc1kwRkJZeXhGUVVGRkxFMUJRVTBzUTBGQlF5eERRVUZETEVOQlFVTXNUMEZCVHl4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVGRExFTkJRVU1zVDBGQlR5eERRVUZETEVsQlFVazdaMEpCUTNKRUxFZEJRVWNzUTBGQlF5eGhRVUZoTEVsQlFVazdiMEpCUTNCQ0xHTkJRV01zUlVGQlJTeE5RVUZOTEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRExFTkJRVU1zWTBGQll6dHZRa0ZET1VNc1dVRkJXU3hGUVVGRkxFMUJRVTBzUTBGQlF5eERRVUZETEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNc1EwRkJReXhaUVVGWk8ybENRVU14UXl4RFFVRkRPMmRDUVVOR0xFZEJRVWNzUTBGQlF5eGxRVUZsTEVsQlFVazdiMEpCUTNSQ0xFbEJRVWtzUlVGQlJTeFJRVUZSTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhMUVVGTE8yOUNRVU12UWl4UFFVRlBMRVZCUVVVc1QwRkJUeXhEUVVGRExFdEJRVXM3YjBKQlEzUkNMRXRCUVVzc1JVRkJSU3hQUVVGUExFTkJRVU1zYVVKQlFXbENPM2xDUVVNNVFpeFBRVUZQTEVOQlFVTXNTMEZCU3l4RlFVRkZMRTFCUVUwc1EwRkJReXhIUVVGSExFTkJRVU1zVVVGQlVTeEZRVUZGTEVOQlFVTTdlVUpCUTNKRExFOUJRVThzUTBGQlF5eExRVUZMTEVWQlFVVXNUMEZCVHl4RFFVRkRMRWRCUVVjc1EwRkJReXhSUVVGUkxFVkJRVVVzUTBGQlF6dHBRa0ZEZUVNc1EwRkJRenRuUWtGRFJpeFBRVUZQTEVWQlFVVTdiMEpCUTFJN2QwSkJRME1zUzBGQlN5eEZRVUZGTEU5QlFVOHNRMEZCUXl4WlFVRlpPM2RDUVVNelFpeEhRVUZITEVWQlFVVXNVVUZCVVN4RFFVRkRMRkZCUVZFc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJRenR4UWtGRGVrTTdiMEpCUTBRN2QwSkJRME1zUzBGQlN5eEZRVUZGTEU5QlFVOHNRMEZCUXl4VlFVRlZPM2RDUVVONlFpeEhRVUZITEVWQlFVVXNhVU5CUVdsRExGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRVZCUVVVc1JVRkJSVHR4UWtGRE9VUTdhVUpCUTBRN1lVRkRSQ3hEUVVGRExFTkJRVU03VTBGRFNEdFJRVVZFTEVsQlFVa3NVVUZCVVN4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zU1VGQlNTeExRVUZMTEU5QlFVOHNTVUZCU1N4VlFVRlZMRVZCUVVVN1dVRkRka1FzU1VGQlNTeFhRVUZYTEVWQlFVVTdaMEpCUTJoQ0xFOUJRVThzVFVGQlRTeFJRVUZSTEVOQlFVTXNWMEZCVnl4RFFVRkRPMjlDUVVOcVF5eEpRVUZKTEVkQlFYVkNPMjlDUVVNelFpeFBRVUZQTEVWQlFVVXNUMEZCVHl4RFFVRkRMR0ZCUVdFN2IwSkJRemxDTEdGQlFXRXNOa1JCUVdsQ08ybENRVU01UWl4RFFVRkRMRU5CUVVNN1lVRkRTRHRaUVVWRUxFOUJRVThzVFVGQlRTeFJRVUZSTEVOQlFVTXNWMEZCVnl4RFFVRkRPMmRDUVVOcVF5eEpRVUZKTEVkQlFYVkNPMmRDUVVNelFpeFBRVUZQTEVWQlFVVXNVVUZCVVN4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zUzBGQlN6dG5Ra0ZEYkVNc1MwRkJTeXhGUVVGRkxFOUJRVThzUTBGQlF5eFpRVUZaTzNGQ1FVTjZRaXhQUVVGUExFTkJRVU1zUzBGQlN5eEZRVUZGTEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFbEJRVWtzUTBGQlF5eFJRVUZSTEVWQlFVVXNRMEZCUXp0eFFrRkRia1FzVDBGQlR5eERRVU5RTEV0QlFVc3NSVUZEVEN4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTlCUVU4c1IwRkJSeXhGUVVGRkxFTkJRVU1zUTBGQlF5eFJRVUZSTEVWQlFVVXNRMEZEZGtRN1owSkJRMFlzWVVGQllTeEZRVUZGTEVOQlFVTXNVMEZCVXp0dlFrRkRlRUlzUTBGQlF5eERRVUZETEhWTVFVRjVSQ3hEUVVONlJDeFJRVUZSTEVOQlExQXNLMFJCUVcxQ08yOUNRVU4wUWl4RFFVRkRMRU5CUVVNc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNUVUZCVFN4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITzJkQ1FVTjJReXhoUVVGaExFVkJRVVVzVFVGQlRTeERRVUZETEVOQlFVTXNhVVJCUVdNc1EwRkJReXdyUTBGQldUdG5Ra0ZEYkVRc1kwRkJZeXhGUVVGRkxFMUJRVTBzUTBGQlF5eERRVUZETEVOQlFVTXNUMEZCVHl4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVGRExFTkJRVU1zVDBGQlR5eERRVUZETEVsQlFVazdaMEpCUTNKRUxFZEJRVWNzUTBGQlF5eGhRVUZoTEVsQlFVazdiMEpCUTNCQ0xHTkJRV01zUlVGQlJTeE5RVUZOTEVOQlFVTXNRMEZCUXl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRExFTkJRVU1zWTBGQll6dHZRa0ZET1VNc1dVRkJXU3hGUVVGRkxFMUJRVTBzUTBGQlF5eERRVUZETEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNc1EwRkJReXhaUVVGWk8ybENRVU14UXl4RFFVRkRPMmRDUVVOR0xFZEJRVWNzUTBGQlF5eGxRVUZsTEVsQlFVazdiMEpCUTNSQ0xFbEJRVWtzUlVGQlJTeFJRVUZSTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhMUVVGTE8ybENRVU12UWl4RFFVRkRPMmRDUVVOR0xFOUJRVThzUlVGQlJUdHZRa0ZEVWp0M1FrRkRReXhMUVVGTExFVkJRVVVzVDBGQlR5eERRVUZETEZWQlFWVTdkMEpCUTNwQ0xFZEJRVWNzUlVGQlJTeFJRVUZSTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPM0ZDUVVONlF6dHBRa0ZEUkR0aFFVTkVMRU5CUVVNc1EwRkJRenRUUVVOSU8xRkJSMFFzVDBGQlR5eFJRVUZSTEVOQlFVTXNZVUZCWVN4RlFVRkZMRU5CUVVNN1MwRkRhRU03U1VGSFJDeGhRVUZoTEVWQlFVVXNRMEZCUXp0SlFVVm9RaXhKUVVGSkxHdENRVUZyUWl4SlFVRkpMRU5CUVVNc1YwRkJWeXhGUVVGRk8xRkJRM1pETEU5QlFVOHNUVUZCVFN4UlFVRlJMRU5CUVVNc1YwRkJWeXhEUVVGRE8xbEJRMnBETEU5QlFVOHNSVUZCUlN4UFFVRlBMRU5CUVVNc1RVRkJUVHRaUVVOMlFpeGhRVUZoTEVWQlExb3NkVXhCUVhsRUxFTkJRVU1zVVVGQlVTeERRVUZET3pKRlFVTndSRHRaUVVOb1FpeGhRVUZoTEcxRVFVRm5RanRaUVVNM1FpeGpRVUZqTEVWQlFVVXNUMEZCVHl4RFFVRkRMRTFCUVUwN1UwRkRPVUlzUTBGQlF5eERRVUZETzB0QlEwZzdTVUZEUkN4UFFVRlBMRkZCUVZFc1EwRkJReXhoUVVGaExFVkJRVVVzUTBGQlF6dEJRVU5xUXl4RFFVRkRMRU5CUVVNc1EwRkJReUo5Il0sIm5hbWVzIjpbIk5vZGUiLCJ2YWx1ZSIsIm5leHQiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJRdWV1ZSIsImNsZWFyIiwiZW5xdWV1ZSIsIm5vZGUiLCJkZXF1ZXVlIiwiY3VycmVudCIsInVuZGVmaW5lZCIsInNpemUiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkFzeW5jUmVzb3VyY2UiLCJiaW5kIiwiZm4iLCJfdHlwZSIsInRoaXNBcmciLCJBc3luY0xvY2FsU3RvcmFnZSIsImdldFN0b3JlIiwicnVuIiwiX3N0b3JlIiwiY2FsbGJhY2siLCJwTGltaXQiLCJjb25jdXJyZW5jeSIsIk51bWJlciIsImlzSW50ZWdlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiVHlwZUVycm9yIiwicXVldWUiLCJhY3RpdmVDb3VudCIsImFzeW5jIiwiZnVuY3Rpb25fIiwicmVzb2x2ZSIsImFyZ3VtZW50c18iLCJyZXN1bHQiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydGllcyIsImdldCIsInBlbmRpbmdDb3VudCIsImNsZWFyUXVldWUiLCJsaW1pdCIsIm1ldGFkYXRhIiwiZmV0Y2hNZXRhZGF0YSIsImlkIiwidXJsIiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhyZWYiLCJkYXRhIiwiZmV0Y2giLCJqc29uIiwiY2xlYXJNZXRhZGF0YSIsInByZXNlbmNlIiwiUHJlc2VuY2UiLCJjbGllbnRJZCIsImdldFN0cmluZ3MiLCJwbGF5IiwicGF1c2UiLCJicm93c2UiLCJ3YXRjaGluZ01vdmllIiwid2F0Y2hpbmdTZXJpZXMiLCJ2aWV3U2VyaWVzIiwidmlld01vdmllcyIsIndhdGNoRXBpc29kZSIsIndhdGNoTW92aWUiLCJzZXJpZXNEaXNwbGF5RnVsbCIsInNlcmllc0Rpc3BsYXlTaG9ydCIsIm1vdmllRGlzcGxheSIsImdldFNldHRpbmciLCJjYXRjaCIsInN0cmluZ3MiLCJvbGRMYW5nIiwib24iLCJsYW5nIiwidXNlUHJlc2VuY2VOYW1lIiwic2hvd1RpbWVzdGFtcCIsInNob3dCcm93c2luZ1N0YXR1cyIsInNob3dDb3ZlciIsInNob3dTZXJpZXMiLCJzaG93TW92aWVzIiwibG9nb1R5cGUiLCJwcml2YWN5TW9kZSIsImFsbCIsInBhdGgiLCJicm93c2luZ01lZGlhSWQiLCJtYXRjaCIsImNsZWFyQWN0aXZpdHkiLCJzZXRBY3Rpdml0eSIsImRldGFpbHMiLCJ2aWRlbyIsInRpdGxlIiwic3RhdGUiLCJzeW5vcHNpcyIsInNsaWNlIiwibGFyZ2VJbWFnZUtleSIsImJveGFydCIsImF0Iiwic21hbGxJbWFnZUtleSIsInNtYWxsSW1hZ2VUZXh0IiwiYnV0dG9ucyIsImxhYmVsIiwidHlwZSIsIndhdGNoaW5nTWVkaWFJZCIsInF1ZXJ5U2VsZWN0b3IiLCJwYXVzZWQiLCJzdGFydFRpbWVzdGFtcCIsImVuZFRpbWVzdGFtcCIsImdldFRpbWVzdGFtcHNmcm9tTWVkaWEiLCJ2aWRlb0RhdGEiLCJzZWFzb24iLCJzZWFzb25zIiwiZmluZCIsInMiLCJlcGlzb2RlcyIsIm1hcCIsImUiLCJlcGlzb2RlSWQiLCJpbmNsdWRlcyIsImN1cnJlbnRFcGlzb2RlIiwiZXBpc29kZSIsInJlcGxhY2UiLCJzZXEiLCJ0b1N0cmluZyIsIm5hbWUiLCJzcGxpdCIsInllYXIiLCJNYXRoIiwiZmxvb3IiLCJydW50aW1lIl0sInNvdXJjZVJvb3QiOiIifQ==
undefined;