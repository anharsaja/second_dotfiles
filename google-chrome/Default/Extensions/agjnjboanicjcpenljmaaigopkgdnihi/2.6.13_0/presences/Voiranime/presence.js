var __webpack_exports__={};let strings,video={duration:0,currentTime:0,paused:!0},currentLang="en";const presence=new Presence({clientId:"867411016836186112"}),getStrings=async()=>presence.getStrings({play:"general.playing",pause:"general.paused",home:"general.viewHome",viewEpisode:"general.buttonViewEpisode",viewAnime:"general.buttonViewAnime",watchingAnime:"general.watchingAnime",browsing:"general.browsing",viewPage:"general.viewPage",searchFor:"general.searchFor"},currentLang),pathArr=document.location.pathname.split("/"),browsingTimestamp=Math.floor(Date.now()/1e3),pages={"liste-danimes":{state:"Listes d'animes"},"nouveaux-ajouts":{state:"Nouveaux animes"},prochainement:{state:"Prochains animes"}};presence.on("iFrameData",(e=>{e?.duration&&(video=e)})),presence.on("UpdateData",(async()=>{const[e,t,s,a]=await Promise.all([presence.getSetting("lang").catch((()=>"fr")),presence.getSetting("privacy"),presence.getSetting("timestamps"),presence.getSetting("buttons")]);currentLang===e&&strings||(currentLang=e,strings=await getStrings());let n={details:strings.home,type:3,largeImageKey:"https://cdn.rcd.gg/PreMiD/websites/V/Voiranime/assets/logo.png",startTimestamp:browsingTimestamp};switch(t&&(n.details=strings.browsing),pathArr[1]){case"anime":{const e=document.querySelector("ol > li:nth-child(2) > a");if(n.details="Visite la page de l'anime :",n.state=document.querySelector("div.post-title > h1")?.textContent,t&&(delete n.state,n.details=strings.browsing),!isNaN(video.duration)&&e&&document.querySelector("li.active")){const[s,a]=presence.getTimestamps(video.currentTime,video.duration);n.details=e.textContent,n.state=document.querySelector("li.active").textContent.split("-")[1],[n.startTimestamp,n.endTimestamp]=[s,a],n.smallImageKey=video.paused?"https://cdn.rcd.gg/PreMiD/resources/pause.png":"https://cdn.rcd.gg/PreMiD/resources/play.png",n.smallImageText=video.paused?strings.pause:strings.play,n.buttons=[{label:strings.viewEpisode,url:document.location.href},{label:strings.viewAnime,url:e.getAttribute("href")}],video.paused&&(delete n.startTimestamp,delete n.endTimestamp),t&&(delete n.buttons,delete n.smallImageKey,delete n.state,delete n.startTimestamp,delete n.endTimestamp,n.details=strings.watchingAnime)}break}case"anime-genre":n.details=strings.viewPage,n.state=`Listes d'animes du genre "${document.querySelector("h1")?.textContent}"`,t&&(delete n.state,n.details=strings.browsing);break;default:document.location.search.startsWith("?s")?(n.details=strings.searchFor,n.state=new URLSearchParams(document.location.search).get("s"),n.smallImageKey="https://cdn.rcd.gg/PreMiD/resources/search.png"):Object.keys(pages).includes(pathArr[1])&&(n.details=strings.viewPage),n={...n,...pages[pathArr[1]]},t&&(delete n.state,delete n.smallImageKey,n.details=strings.browsing)}a&&!t||delete n.buttons,s||(delete n.startTimestamp,delete n.endTimestamp),n.details?presence.setActivity(n):presence.setActivity()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhQyxRQUFVNUMsUUFBUW1CLFVBQy9Cd0IsRUFBYVosTUFBUSxJQUFJZ0MsZ0JBQWdCMUMsU0FBU0MsU0FBU3VDLFFBQVFHLElBQUksS0FDdkVyQixFQUFhVyxjQUFnQixrREFFeEJXLE9BQU9DLEtBQUtwQyxPQUFPcUMsU0FBUy9DLFFBQVEsTUFDekN1QixFQUFhQyxRQUFVNUMsUUFBUWtCLFVBQ25DeUIsRUFBZSxJQUFLQSxLQUFpQmIsTUFBTVYsUUFBUSxLQUMvQ2dCLFdBQ09PLEVBQWFaLGFBQ2JZLEVBQWFXLGNBQ3BCWCxFQUFhQyxRQUFVNUMsUUFBUWlCLFVBSXRDcUIsSUFBZUYsVUFDVE8sRUFBYWEsUUFDbkJuQixXQUNNTSxFQUFhSSxzQkFDYkosRUFBYVMsY0FFcEJULEVBQWFDLFFBQ2J0QyxTQUFTOEQsWUFBWXpCLEdBRXJCckMsU0FBUzhELGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wcmVzZW5jZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdmlkZW8gPSB7XG4gICAgZHVyYXRpb246IDAsXG4gICAgY3VycmVudFRpbWU6IDAsXG4gICAgcGF1c2VkOiB0cnVlLFxufSwgY3VycmVudExhbmcgPSBcImVuXCIsIHN0cmluZ3M7XG5jb25zdCBwcmVzZW5jZSA9IG5ldyBQcmVzZW5jZSh7XG4gICAgY2xpZW50SWQ6IFwiODY3NDExMDE2ODM2MTg2MTEyXCIsXG59KSwgZ2V0U3RyaW5ncyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gcHJlc2VuY2UuZ2V0U3RyaW5ncyh7XG4gICAgICAgIHBsYXk6IFwiZ2VuZXJhbC5wbGF5aW5nXCIsXG4gICAgICAgIHBhdXNlOiBcImdlbmVyYWwucGF1c2VkXCIsXG4gICAgICAgIGhvbWU6IFwiZ2VuZXJhbC52aWV3SG9tZVwiLFxuICAgICAgICB2aWV3RXBpc29kZTogXCJnZW5lcmFsLmJ1dHRvblZpZXdFcGlzb2RlXCIsXG4gICAgICAgIHZpZXdBbmltZTogXCJnZW5lcmFsLmJ1dHRvblZpZXdBbmltZVwiLFxuICAgICAgICB3YXRjaGluZ0FuaW1lOiBcImdlbmVyYWwud2F0Y2hpbmdBbmltZVwiLFxuICAgICAgICBicm93c2luZzogXCJnZW5lcmFsLmJyb3dzaW5nXCIsXG4gICAgICAgIHZpZXdQYWdlOiBcImdlbmVyYWwudmlld1BhZ2VcIixcbiAgICAgICAgc2VhcmNoRm9yOiBcImdlbmVyYWwuc2VhcmNoRm9yXCIsXG4gICAgfSwgY3VycmVudExhbmcpO1xufSwgcGF0aEFyciA9IGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKSwgYnJvd3NpbmdUaW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSwgcGFnZXMgPSB7XG4gICAgXCJsaXN0ZS1kYW5pbWVzXCI6IHtcbiAgICAgICAgc3RhdGU6IFwiTGlzdGVzIGQnYW5pbWVzXCIsXG4gICAgfSxcbiAgICBcIm5vdXZlYXV4LWFqb3V0c1wiOiB7XG4gICAgICAgIHN0YXRlOiBcIk5vdXZlYXV4IGFuaW1lc1wiLFxuICAgIH0sXG4gICAgcHJvY2hhaW5lbWVudDoge1xuICAgICAgICBzdGF0ZTogXCJQcm9jaGFpbnMgYW5pbWVzXCIsXG4gICAgfSxcbn07XG5wcmVzZW5jZS5vbihcImlGcmFtZURhdGFcIiwgKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YT8uZHVyYXRpb24pXG4gICAgICAgIHZpZGVvID0gZGF0YTtcbn0pO1xucHJlc2VuY2Uub24oXCJVcGRhdGVEYXRhXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBbbmV3TGFuZywgcHJpdmFjeU1vZGUsIHNob3dUaW1lc3RhbXBzLCBzaG93QnV0dG9uc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJsYW5nXCIpLmNhdGNoKCgpID0+IFwiZnJcIiksXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJwcml2YWN5XCIpLFxuICAgICAgICBwcmVzZW5jZS5nZXRTZXR0aW5nKFwidGltZXN0YW1wc1wiKSxcbiAgICAgICAgcHJlc2VuY2UuZ2V0U2V0dGluZyhcImJ1dHRvbnNcIiksXG4gICAgXSk7XG4gICAgaWYgKGN1cnJlbnRMYW5nICE9PSBuZXdMYW5nIHx8ICFzdHJpbmdzKSB7XG4gICAgICAgIGN1cnJlbnRMYW5nID0gbmV3TGFuZztcbiAgICAgICAgc3RyaW5ncyA9IGF3YWl0IGdldFN0cmluZ3MoKTtcbiAgICB9XG4gICAgbGV0IHByZXNlbmNlRGF0YSA9IHtcbiAgICAgICAgZGV0YWlsczogc3RyaW5ncy5ob21lLFxuICAgICAgICB0eXBlOiAzLFxuICAgICAgICBsYXJnZUltYWdlS2V5OiBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvVi9Wb2lyYW5pbWUvYXNzZXRzL2xvZ28ucG5nXCIsXG4gICAgICAgIHN0YXJ0VGltZXN0YW1wOiBicm93c2luZ1RpbWVzdGFtcCxcbiAgICB9O1xuICAgIGlmIChwcml2YWN5TW9kZSlcbiAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBzdHJpbmdzLmJyb3dzaW5nO1xuICAgIHN3aXRjaCAocGF0aEFyclsxXSkge1xuICAgICAgICBjYXNlIFwiYW5pbWVcIjoge1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwib2wgPiBsaTpudGgtY2hpbGQoMikgPiBhXCIpO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIlZpc2l0ZSBsYSBwYWdlIGRlIGwnYW5pbWUgOlwiO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5wb3N0LXRpdGxlID4gaDFcIik/LnRleHRDb250ZW50O1xuICAgICAgICAgICAgaWYgKHByaXZhY3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHByZXNlbmNlRGF0YS5zdGF0ZTtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IHN0cmluZ3MuYnJvd3Npbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZpZGVvLmR1cmF0aW9uKSAmJlxuICAgICAgICAgICAgICAgIHRpdGxlICYmXG4gICAgICAgICAgICAgICAgISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGkuYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3N0YXJ0VGltZXN0YW1wLCBlbmRUaW1lc3RhbXBdID0gcHJlc2VuY2UuZ2V0VGltZXN0YW1wcyh2aWRlby5jdXJyZW50VGltZSwgdmlkZW8uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gdGl0bGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJsaS5hY3RpdmVcIilcbiAgICAgICAgICAgICAgICAgICAgLnRleHRDb250ZW50LnNwbGl0KFwiLVwiKVsxXTtcbiAgICAgICAgICAgICAgICBbcHJlc2VuY2VEYXRhLnN0YXJ0VGltZXN0YW1wLCBwcmVzZW5jZURhdGEuZW5kVGltZXN0YW1wXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIGVuZFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5ID0gdmlkZW8ucGF1c2VkID8gXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3Jlc291cmNlcy9wYXVzZS5wbmdcIiA6IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvcGxheS5wbmdcIjtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZVRleHQgPSB2aWRlby5wYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgPyBzdHJpbmdzLnBhdXNlXG4gICAgICAgICAgICAgICAgICAgIDogc3RyaW5ncy5wbGF5O1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RyaW5ncy52aWV3RXBpc29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZ3Mudmlld0FuaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB0aXRsZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgaWYgKHZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLnN0YXJ0VGltZXN0YW1wO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLmVuZFRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByaXZhY3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcmVzZW5jZURhdGEuYnV0dG9ucztcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5O1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLnN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLnN0YXJ0VGltZXN0YW1wO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLmVuZFRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBzdHJpbmdzLndhdGNoaW5nQW5pbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImFuaW1lLWdlbnJlXCI6XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IHN0cmluZ3Mudmlld1BhZ2U7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBgTGlzdGVzIGQnYW5pbWVzIGR1IGdlbnJlIFwiJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaDFcIik/LnRleHRDb250ZW50fVwiYDtcbiAgICAgICAgICAgIGlmIChwcml2YWN5TW9kZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcmVzZW5jZURhdGEuc3RhdGU7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBzdHJpbmdzLmJyb3dzaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLnN0YXJ0c1dpdGgoXCI/c1wiKSkge1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gc3RyaW5ncy5zZWFyY2hGb3I7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpLmdldChcInNcIik7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VLZXkgPSBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvcmVzb3VyY2VzL3NlYXJjaC5wbmdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKE9iamVjdC5rZXlzKHBhZ2VzKS5pbmNsdWRlcyhwYXRoQXJyWzFdKSlcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IHN0cmluZ3Mudmlld1BhZ2U7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEgPSB7IC4uLnByZXNlbmNlRGF0YSwgLi4ucGFnZXNbcGF0aEFyclsxXV0gfTtcbiAgICAgICAgICAgIGlmIChwcml2YWN5TW9kZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcmVzZW5jZURhdGEuc3RhdGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5O1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gc3RyaW5ncy5icm93c2luZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIXNob3dCdXR0b25zIHx8IHByaXZhY3lNb2RlKVxuICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLmJ1dHRvbnM7XG4gICAgaWYgKCFzaG93VGltZXN0YW1wcykge1xuICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLnN0YXJ0VGltZXN0YW1wO1xuICAgICAgICBkZWxldGUgcHJlc2VuY2VEYXRhLmVuZFRpbWVzdGFtcDtcbiAgICB9XG4gICAgaWYgKHByZXNlbmNlRGF0YS5kZXRhaWxzKVxuICAgICAgICBwcmVzZW5jZS5zZXRBY3Rpdml0eShwcmVzZW5jZURhdGEpO1xuICAgIGVsc2VcbiAgICAgICAgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pY0hKbGMyVnVZMlV1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SndjbVZ6Wlc1alpTNTBjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVN4SlFVRkpMRXRCUVVzc1IwRkJSenRKUVVOV0xGRkJRVkVzUlVGQlJTeERRVUZETzBsQlExZ3NWMEZCVnl4RlFVRkZMRU5CUVVNN1NVRkRaQ3hOUVVGTkxFVkJRVVVzU1VGQlNUdERRVU5hTEVWQlEwUXNWMEZCVnl4SFFVRkhMRWxCUVVrc1JVRkRiRUlzVDBGQkswTXNRMEZCUXp0QlFVVnFSQ3hOUVVGTkxGRkJRVkVzUjBGQlJ5eEpRVUZKTEZGQlFWRXNRMEZCUXp0SlFVTTFRaXhSUVVGUkxFVkJRVVVzYjBKQlFXOUNPME5CUXpsQ0xFTkJRVU1zUlVGRFJpeFZRVUZWTEVkQlFVY3NTMEZCU3l4SlFVRkpMRVZCUVVVN1NVRkRka0lzVDBGQlR5eFJRVUZSTEVOQlFVTXNWVUZCVlN4RFFVTjZRanRSUVVORExFbEJRVWtzUlVGQlJTeHBRa0ZCYVVJN1VVRkRka0lzUzBGQlN5eEZRVUZGTEdkQ1FVRm5RanRSUVVOMlFpeEpRVUZKTEVWQlFVVXNhMEpCUVd0Q08xRkJRM2hDTEZkQlFWY3NSVUZCUlN3eVFrRkJNa0k3VVVGRGVFTXNVMEZCVXl4RlFVRkZMSGxDUVVGNVFqdFJRVU53UXl4aFFVRmhMRVZCUVVVc2RVSkJRWFZDTzFGQlEzUkRMRkZCUVZFc1JVRkJSU3hyUWtGQmEwSTdVVUZETlVJc1VVRkJVU3hGUVVGRkxHdENRVUZyUWp0UlFVTTFRaXhUUVVGVExFVkJRVVVzYlVKQlFXMUNPMHRCUXpsQ0xFVkJRMFFzVjBGQlZ5eERRVU5ZTEVOQlFVTTdRVUZEU0N4RFFVRkRMRVZCUTBRc1QwRkJUeXhIUVVGSExGRkJRVkVzUTBGQlF5eFJRVUZSTEVOQlFVTXNVVUZCVVN4RFFVRkRMRXRCUVVzc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGREwwTXNhVUpCUVdsQ0xFZEJRVWNzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4SlFVRkpMRU5CUVVNc1IwRkJSeXhGUVVGRkxFZEJRVWNzU1VGQlNTeERRVUZETEVWQlEycEVMRXRCUVVzc1IwRkJhVU03U1VGRGNrTXNaVUZCWlN4RlFVRkZPMUZCUTJoQ0xFdEJRVXNzUlVGQlJTeHBRa0ZCYVVJN1MwRkRlRUk3U1VGRFJDeHBRa0ZCYVVJc1JVRkJSVHRSUVVOc1FpeExRVUZMTEVWQlFVVXNhVUpCUVdsQ08wdEJRM2hDTzBsQlEwUXNZVUZCWVN4RlFVRkZPMUZCUTJRc1MwRkJTeXhGUVVGRkxHdENRVUZyUWp0TFFVTjZRanREUVVORUxFTkJRVU03UVVGRlNDeFJRVUZSTEVOQlFVTXNSVUZCUlN4RFFVTldMRmxCUVZrc1JVRkRXaXhEUVVGRExFbEJRV2RGTEVWQlFVVXNSVUZCUlR0SlFVTndSU3hKUVVGSkxFbEJRVWtzUlVGQlJTeFJRVUZSTzFGQlFVVXNTMEZCU3l4SFFVRkhMRWxCUVVrc1EwRkJRenRCUVVOc1F5eERRVUZETEVOQlEwUXNRMEZCUXp0QlFVVkdMRkZCUVZFc1EwRkJReXhGUVVGRkxFTkJRVU1zV1VGQldTeEZRVUZGTEV0QlFVc3NTVUZCU1N4RlFVRkZPMGxCUTNCRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVWQlFVVXNWMEZCVnl4RlFVRkZMR05CUVdNc1JVRkJSU3hYUVVGWExFTkJRVU1zUjBGQlJ5eE5RVUZOTEU5QlFVOHNRMEZCUXl4SFFVRkhMRU5CUXpWRk8xRkJRME1zVVVGQlVTeERRVUZETEZWQlFWVXNRMEZCVXl4TlFVRk5MRU5CUVVNc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eEZRVUZGTEVOQlFVTXNTVUZCU1N4RFFVRkRPMUZCUTNKRUxGRkJRVkVzUTBGQlF5eFZRVUZWTEVOQlFWVXNVMEZCVXl4RFFVRkRPMUZCUTNaRExGRkJRVkVzUTBGQlF5eFZRVUZWTEVOQlFWVXNXVUZCV1N4RFFVRkRPMUZCUXpGRExGRkJRVkVzUTBGQlF5eFZRVUZWTEVOQlFWVXNVMEZCVXl4RFFVRkRPMHRCUTNaRExFTkJRMFFzUTBGQlF6dEpRVVZHTEVsQlFVa3NWMEZCVnl4TFFVRkxMRTlCUVU4c1NVRkJTU3hEUVVGRExFOUJRVThzUlVGQlJUdFJRVU40UXl4WFFVRlhMRWRCUVVjc1QwRkJUeXhEUVVGRE8xRkJRM1JDTEU5QlFVOHNSMEZCUnl4TlFVRk5MRlZCUVZVc1JVRkJSU3hEUVVGRE8wdEJRemRDTzBsQlJVUXNTVUZCU1N4WlFVRlpMRWRCUVdsQ08xRkJRMmhETEU5QlFVOHNSVUZCUlN4UFFVRlBMRU5CUVVNc1NVRkJTVHRSUVVOeVFpeEpRVUZKTEVkQlFYVkNPMUZCUXpOQ0xHRkJRV0VzUlVGRFdpeG5SVUZCWjBVN1VVRkRha1VzWTBGQll5eEZRVUZGTEdsQ1FVRnBRanRMUVVOcVF5eERRVUZETzBsQlJVWXNTVUZCU1N4WFFVRlhPMUZCUVVVc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ5eFBRVUZQTEVOQlFVTXNVVUZCVVN4RFFVRkRPMGxCUTNwRUxGRkJRVkVzVDBGQlR5eERRVUZETEVOQlFVTXNRMEZCUXl4RlFVRkZPMUZCUTI1Q0xFdEJRVXNzVDBGQlR5eERRVUZETEVOQlFVTTdXVUZEWWl4TlFVRk5MRXRCUVVzc1IwRkJSeXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVUZETERCQ1FVRXdRaXhEUVVGRExFTkJRVU03V1VGRGFrVXNXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSeXcyUWtGQk5rSXNRMEZCUXp0WlFVTnlSQ3haUVVGWkxFTkJRVU1zUzBGQlN5eEhRVUZITEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUXpGRExIRkNRVUZ4UWl4RFFVTnlRaXhGUVVGRkxGZEJRVmNzUTBGQlF6dFpRVU5tTEVsQlFVa3NWMEZCVnl4RlFVRkZPMmRDUVVOb1FpeFBRVUZQTEZsQlFWa3NRMEZCUXl4TFFVRkxMRU5CUVVNN1owSkJRekZDTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc1QwRkJUeXhEUVVGRExGRkJRVkVzUTBGQlF6dGhRVU40UXp0WlFVTkVMRWxCUTBNc1EwRkJReXhMUVVGTExFTkJRVU1zUzBGQlN5eERRVUZETEZGQlFWRXNRMEZCUXp0blFrRkRkRUlzUzBGQlN6dG5Ra0ZEVEN4RFFVRkRMRU5CUVVNc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGQlF5eFhRVUZYTEVOQlFVTXNSVUZEY0VNN1owSkJRMFFzVFVGQlRTeERRVUZETEdOQlFXTXNSVUZCUlN4WlFVRlpMRU5CUVVNc1IwRkJSeXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVU0xUkN4TFFVRkxMRU5CUVVNc1YwRkJWeXhGUVVOcVFpeExRVUZMTEVOQlFVTXNVVUZCVVN4RFFVTmtMRU5CUVVNN1owSkJSVVlzV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnl4TFFVRkxMRU5CUVVNc1YwRkJWeXhEUVVGRE8yZENRVU42UXl4WlFVRlpMRU5CUVVNc1MwRkJTeXhIUVVGSExGRkJRVkU3Y1VKQlF6TkNMR0ZCUVdFc1EwRkJReXhYUVVGWExFTkJRVU03Y1VKQlF6RkNMRmRCUVZjc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNN1owSkJRelZDTEVOQlFVTXNXVUZCV1N4RFFVRkRMR05CUVdNc1JVRkJSU3haUVVGWkxFTkJRVU1zV1VGQldTeERRVUZETEVkQlFVYzdiMEpCUXpGRUxHTkJRV003YjBKQlEyUXNXVUZCV1R0cFFrRkRXaXhEUVVGRE8yZENRVU5HTEZsQlFWa3NRMEZCUXl4aFFVRmhMRWRCUVVjc1MwRkJTeXhEUVVGRExFMUJRVTBzUTBGQlF5eERRVUZETEdsRVFVRmpMRU5CUVVNc0swTkJRVmtzUTBGQlF6dG5Ra0ZEZGtVc1dVRkJXU3hEUVVGRExHTkJRV01zUjBGQlJ5eExRVUZMTEVOQlFVTXNUVUZCVFR0dlFrRkRla01zUTBGQlF5eERRVUZETEU5QlFVOHNRMEZCUXl4TFFVRkxPMjlDUVVObUxFTkJRVU1zUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRPMmRDUVVOb1FpeFpRVUZaTEVOQlFVTXNUMEZCVHl4SFFVRkhPMjlDUVVOMFFqdDNRa0ZEUXl4TFFVRkxMRVZCUVVVc1QwRkJUeXhEUVVGRExGZEJRVmM3ZDBKQlF6RkNMRWRCUVVjc1JVRkJSU3hSUVVGUkxFTkJRVU1zVVVGQlVTeERRVUZETEVsQlFVazdjVUpCUXpOQ08yOUNRVU5FTzNkQ1FVTkRMRXRCUVVzc1JVRkJSU3hQUVVGUExFTkJRVU1zVTBGQlV6dDNRa0ZEZUVJc1IwRkJSeXhGUVVGRkxFdEJRVXNzUTBGQlF5eFpRVUZaTEVOQlFVTXNUVUZCVFN4RFFVRkRPM0ZDUVVNdlFqdHBRa0ZEUkN4RFFVRkRPMmRDUVVOR0xFbEJRVWtzUzBGQlN5eERRVUZETEUxQlFVMHNSVUZCUlR0dlFrRkRha0lzVDBGQlR5eFpRVUZaTEVOQlFVTXNZMEZCWXl4RFFVRkRPMjlDUVVOdVF5eFBRVUZQTEZsQlFWa3NRMEZCUXl4WlFVRlpMRU5CUVVNN2FVSkJRMnBETzJkQ1FVTkVMRWxCUVVrc1YwRkJWeXhGUVVGRk8yOUNRVU5vUWl4UFFVRlBMRmxCUVZrc1EwRkJReXhQUVVGUExFTkJRVU03YjBKQlF6VkNMRTlCUVU4c1dVRkJXU3hEUVVGRExHRkJRV0VzUTBGQlF6dHZRa0ZEYkVNc1QwRkJUeXhaUVVGWkxFTkJRVU1zUzBGQlN5eERRVUZETzI5Q1FVTXhRaXhQUVVGUExGbEJRVmtzUTBGQlF5eGpRVUZqTEVOQlFVTTdiMEpCUTI1RExFOUJRVThzV1VGQldTeERRVUZETEZsQlFWa3NRMEZCUXp0dlFrRkRha01zV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnl4UFFVRlBMRU5CUVVNc1lVRkJZU3hEUVVGRE8ybENRVU0zUXp0aFFVTkVPMWxCUTBRc1RVRkJUVHRUUVVOT08xRkJRMFFzUzBGQlN5eGhRVUZoTzFsQlEycENMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzVDBGQlR5eERRVUZETEZGQlFWRXNRMEZCUXp0WlFVTjRReXhaUVVGWkxFTkJRVU1zUzBGQlN5eEhRVUZITERaQ1FVTndRaXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVUZETEVsQlFVa3NRMEZCUXl4RlFVRkZMRmRCUXk5Q0xFZEJRVWNzUTBGQlF6dFpRVU5LTEVsQlFVa3NWMEZCVnl4RlFVRkZPMmRDUVVOb1FpeFBRVUZQTEZsQlFWa3NRMEZCUXl4TFFVRkxMRU5CUVVNN1owSkJRekZDTEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc1QwRkJUeXhEUVVGRExGRkJRVkVzUTBGQlF6dGhRVU40UXp0WlFVTkVMRTFCUVUwN1VVRkRVRHRaUVVORExFbEJRVWtzVVVGQlVTeERRVUZETEZGQlFWRXNRMEZCUXl4TlFVRk5MRU5CUVVNc1ZVRkJWU3hEUVVGRExFbEJRVWtzUTBGQlF5eEZRVUZGTzJkQ1FVTTVReXhaUVVGWkxFTkJRVU1zVDBGQlR5eEhRVUZITEU5QlFVOHNRMEZCUXl4VFFVRlRMRU5CUVVNN1owSkJRM3BETEZsQlFWa3NRMEZCUXl4TFFVRkxMRWRCUVVjc1NVRkJTU3hsUVVGbExFTkJRVU1zVVVGQlVTeERRVUZETEZGQlFWRXNRMEZCUXl4TlFVRk5MRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRM0pGTEVkQlFVY3NRMEZEU0N4RFFVRkRPMmRDUVVOR0xGbEJRVmtzUTBGQlF5eGhRVUZoTEcxRVFVRm5RaXhEUVVGRE8yRkJRek5ETzJsQ1FVRk5MRWxCUVVrc1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNRMEZCUXl4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzJkQ1FVTnFSQ3haUVVGWkxFTkJRVU1zVDBGQlR5eEhRVUZITEU5QlFVOHNRMEZCUXl4UlFVRlJMRU5CUVVNN1dVRkRla01zV1VGQldTeEhRVUZITEVWQlFVVXNSMEZCUnl4WlFVRlpMRVZCUVVVc1IwRkJSeXhMUVVGTExFTkJRVU1zVDBGQlR5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkJRenRaUVVONlJDeEpRVUZKTEZkQlFWY3NSVUZCUlR0blFrRkRhRUlzVDBGQlR5eFpRVUZaTEVOQlFVTXNTMEZCU3l4RFFVRkRPMmRDUVVNeFFpeFBRVUZQTEZsQlFWa3NRMEZCUXl4aFFVRmhMRU5CUVVNN1owSkJRMnhETEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjc1QwRkJUeXhEUVVGRExGRkJRVkVzUTBGQlF6dGhRVU40UXp0WlFVTkVMRTFCUVUwN1MwRkRVRHRKUVVWRUxFbEJRVWtzUTBGQlF5eFhRVUZYTEVsQlFVa3NWMEZCVnp0UlFVRkZMRTlCUVU4c1dVRkJXU3hEUVVGRExFOUJRVThzUTBGQlF6dEpRVU0zUkN4SlFVRkpMRU5CUVVNc1kwRkJZeXhGUVVGRk8xRkJRM0JDTEU5QlFVOHNXVUZCV1N4RFFVRkRMR05CUVdNc1EwRkJRenRSUVVOdVF5eFBRVUZQTEZsQlFWa3NRMEZCUXl4WlFVRlpMRU5CUVVNN1MwRkRha003U1VGRFJDeEpRVUZKTEZsQlFWa3NRMEZCUXl4UFFVRlBPMUZCUVVVc1VVRkJVU3hEUVVGRExGZEJRVmNzUTBGQlF5eFpRVUZaTEVOQlFVTXNRMEZCUXpzN1VVRkRlRVFzVVVGQlVTeERRVUZETEZkQlFWY3NSVUZCUlN4RFFVRkRPMEZCUXpkQ0xFTkJRVU1zUTBGQlF5eERRVUZESW4wPSJdLCJuYW1lcyI6WyJzdHJpbmdzIiwidmlkZW8iLCJkdXJhdGlvbiIsImN1cnJlbnRUaW1lIiwicGF1c2VkIiwiY3VycmVudExhbmciLCJwcmVzZW5jZSIsIlByZXNlbmNlIiwiY2xpZW50SWQiLCJnZXRTdHJpbmdzIiwiYXN5bmMiLCJwbGF5IiwicGF1c2UiLCJob21lIiwidmlld0VwaXNvZGUiLCJ2aWV3QW5pbWUiLCJ3YXRjaGluZ0FuaW1lIiwiYnJvd3NpbmciLCJ2aWV3UGFnZSIsInNlYXJjaEZvciIsInBhdGhBcnIiLCJkb2N1bWVudCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzcGxpdCIsImJyb3dzaW5nVGltZXN0YW1wIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsInBhZ2VzIiwic3RhdGUiLCJwcm9jaGFpbmVtZW50Iiwib24iLCJkYXRhIiwibmV3TGFuZyIsInByaXZhY3lNb2RlIiwic2hvd1RpbWVzdGFtcHMiLCJzaG93QnV0dG9ucyIsIlByb21pc2UiLCJhbGwiLCJnZXRTZXR0aW5nIiwiY2F0Y2giLCJwcmVzZW5jZURhdGEiLCJkZXRhaWxzIiwidHlwZSIsImxhcmdlSW1hZ2VLZXkiLCJzdGFydFRpbWVzdGFtcCIsInRpdGxlIiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiaXNOYU4iLCJlbmRUaW1lc3RhbXAiLCJnZXRUaW1lc3RhbXBzIiwic21hbGxJbWFnZUtleSIsInNtYWxsSW1hZ2VUZXh0IiwiYnV0dG9ucyIsImxhYmVsIiwidXJsIiwiaHJlZiIsImdldEF0dHJpYnV0ZSIsInNlYXJjaCIsInN0YXJ0c1dpdGgiLCJVUkxTZWFyY2hQYXJhbXMiLCJnZXQiLCJPYmplY3QiLCJrZXlzIiwiaW5jbHVkZXMiLCJzZXRBY3Rpdml0eSJdLCJzb3VyY2VSb290IjoiIn0=
undefined;