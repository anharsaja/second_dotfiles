"use strict";var __webpack_exports__={};function getImage(){for(const e of document.images)if(["poster anime","Poster Anime","Anime Cover"].includes(String(e.attributes.getNamedItem("alt")?.value)))return String(e.src)}function getTitle(){const e=document.querySelector(".title-nt"),t=document.querySelector(".title-rm"),a=document.querySelector(".title-en");return a?a.textContent:t?t.textContent:e?e.textContent:document.querySelector("h1")?.textContent}function getEpisode(){let e=1;const t=[...document.querySelectorAll("h3")].find((e=>e.textContent.includes("Episode")))?.textContent?.replace("Episode ","");return t&&(e=Number(t)),e}function getId(){const{search:e,pathname:t}=document.location;for(const[t,a]of e.substr(1).split("&").map((e=>e.split("="))))if("id"===t)return Number(a);for(const e of t.split("/"))if(e.match(/^(\d+)$/))return Number(e)}const presence=new Presence({clientId:"1286500193881161804"});let lastHref,lastPlaybackState=!1,playback=!1,startTimestamp=Math.floor(Date.now()/1e3),lastUpdate=0;presence.on("UpdateData",(async()=>{const e={startTimestamp},t=document.querySelector("video"),{pathname:a,href:n}=document.location;if(t&&(e.type=3,playback=!t.paused&&!t.ended,lastPlaybackState!==playback&&(startTimestamp=Math.floor(Date.now()/1e3)),e.smallImageKey=playback?"https://cdn.rcd.gg/PreMiD/resources/play.png":"https://cdn.rcd.gg/PreMiD/resources/pause.png",e.smallImageText=playback?"Playing":"Paused"),t&&lastPlaybackState===playback)return;if(lastPlaybackState=playback,a.startsWith("/en/schedule")&&(e.details="Viewing Schedule...",e.buttons=[{label:"View Schedule",url:n}]),a.includes("/search/manga")&&(e.details="Searching Manga..."),a.includes("/search/anime")&&(e.details="Searching Anime..."),n.includes("/search/anime?season=")&&(e.details="Viewing Season..."),a.startsWith("/en/anime/")&&!a.startsWith("/en/anime/watch")?(e.details=getTitle(),e.state="Viewing Anime...",e.buttons=[{label:"View Anime",url:n}]):a.startsWith("/en/manga/")?(e.details=getTitle(),e.state="Viewing Manga...",e.buttons=[{label:"View Manga",url:n}]):"string"!=typeof e.details&&(e.details="Viewing Home..."),a.startsWith("/en/anime/watch")){const t=getEpisode();e.details=getTitle(),e.state=isNaN(t)?"Unable to retrieve episode":`Episode ${t}`,e.type=3,e.buttons=[{label:"Watch Anime",url:`https://shiroko.co/en/anime/watch?id=${getId()}&n=${t}`}]}if(a.startsWith("/en/profile/")){const t=a.split("/").pop();"profile"!==t&&""!==t&&(e.details=`Viewing ${t}'s Profile`,e.buttons=[{label:"View Profile",url:n}])}const s=Date.now();(lastHref!==n||(s-lastUpdate)/1e3>=1)&&(lastHref=n,lastUpdate=s,e.largeImageKey=getImage(),presence.setActivity(e))}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFNOUMsR0FFdEIsNkJBREEsV0FBV0EsSUFFakJnQyxFQUFhRyxLQUFPLEVBQ3BCSCxFQUFhVSxRQUFVLENBQ25CLENBQ0lDLE1BQU8sY0FDUEMsSUFBSyx3Q0FBd0NyQyxhQUFhUCxLQUd0RSxDQUNBLEdBQUlTLEVBQVMrQixXQUFXLGdCQUFpQixDQUNyQyxNQUFNTyxFQUFXdEMsRUFBU0ksTUFBTSxLQUFLbUMsTUFDcEIsWUFBYkQsR0FBdUMsS0FBYkEsSUFDMUJmLEVBQWFTLFFBQVUsV0FBV00sY0FDbENmLEVBQWFVLFFBQVUsQ0FDbkIsQ0FDSUMsTUFBTyxlQUNQQyxJQUFLVixJQUlyQixDQUNBLE1BQU1OLEVBQU1ELEtBQUtDLE9BQ2JQLFdBQWFhLElBQVNOLEVBQU1DLFlBQWMsS0FBUSxLQUNsRFIsU0FBV2EsRUFDWEwsV0FBYUQsRUFJakJJLEVBQWFpQixjQUFnQmxFLFdBQzdCbUMsU0FBU2dDLFlBQVlsQixHQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vcHJlc2VuY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlKCkge1xuICAgIGZvciAoY29uc3QgaW1nIG9mIGRvY3VtZW50LmltYWdlcykge1xuICAgICAgICBpZiAoW1wicG9zdGVyIGFuaW1lXCIsIFwiUG9zdGVyIEFuaW1lXCIsIFwiQW5pbWUgQ292ZXJcIl0uaW5jbHVkZXMoU3RyaW5nKGltZy5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImFsdFwiKT8udmFsdWUpKSlcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoaW1nLnNyYyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuICAgIGNvbnN0IG50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aXRsZS1udFwiKSwgcm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLXJtXCIpLCBlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGUtZW5cIik7XG4gICAgaWYgKGVuKVxuICAgICAgICByZXR1cm4gZW4udGV4dENvbnRlbnQ7XG4gICAgaWYgKHJvKVxuICAgICAgICByZXR1cm4gcm8udGV4dENvbnRlbnQ7XG4gICAgaWYgKG50KVxuICAgICAgICByZXR1cm4gbnQudGV4dENvbnRlbnQ7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoMVwiKT8udGV4dENvbnRlbnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXBpc29kZSgpIHtcbiAgICBsZXQgZXBpc29kZSA9IDE7XG4gICAgY29uc3QgcXVlcnkgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImgzXCIpXVxuICAgICAgICAuZmluZChhID0+IGEudGV4dENvbnRlbnQuaW5jbHVkZXMoXCJFcGlzb2RlXCIpKVxuICAgICAgICA/LnRleHRDb250ZW50Py5yZXBsYWNlKFwiRXBpc29kZSBcIiwgXCJcIik7XG4gICAgaWYgKHF1ZXJ5KVxuICAgICAgICBlcGlzb2RlID0gTnVtYmVyKHF1ZXJ5KTtcbiAgICByZXR1cm4gZXBpc29kZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICBjb25zdCB7IHNlYXJjaCwgcGF0aG5hbWUgfSA9IGRvY3VtZW50LmxvY2F0aW9uO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHNlYXJjaFxuICAgICAgICAuc3Vic3RyKDEpXG4gICAgICAgIC5zcGxpdChcIiZcIilcbiAgICAgICAgLm1hcChzID0+IHMuc3BsaXQoXCI9XCIpKSlcbiAgICAgICAgaWYgKGtleSA9PT0gXCJpZFwiKVxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhuYW1lLnNwbGl0KFwiL1wiKSlcbiAgICAgICAgaWYgKHBhdGgubWF0Y2goL14oXFxkKykkLykpXG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHBhdGgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pZFhScGJITXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lKMWRHbHNjeTUwY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFTeE5RVUZOTEZWQlFWVXNVVUZCVVR0SlFVTjJRaXhMUVVGTExFMUJRVTBzUjBGQlJ5eEpRVUZKTEZGQlFWRXNRMEZCUXl4TlFVRk5MRVZCUVVVN1VVRkRiRU1zU1VGRFF5eERRVUZETEdOQlFXTXNSVUZCUlN4alFVRmpMRVZCUVVVc1lVRkJZU3hEUVVGRExFTkJRVU1zVVVGQlVTeERRVU4yUkN4TlFVRk5MRU5CUVVNc1IwRkJSeXhEUVVGRExGVkJRVlVzUTBGQlF5eFpRVUZaTEVOQlFVTXNTMEZCU3l4RFFVRkRMRVZCUVVVc1MwRkJTeXhEUVVGRExFTkJRMnBFTzFsQlJVUXNUMEZCVHl4TlFVRk5MRU5CUVVNc1IwRkJSeXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETzB0QlEzaENPMEZCUTBZc1EwRkJRenRCUVVWRUxFMUJRVTBzVlVGQlZTeFJRVUZSTzBsQlEzWkNMRTFCUVUwc1JVRkJSU3hIUVVGSExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFVTXNWMEZCVnl4RFFVRkRMRVZCUXpkRExFVkJRVVVzUjBGQlJ5eFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRkRMRmRCUVZjc1EwRkJReXhGUVVONFF5eEZRVUZGTEVkQlFVY3NVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkJReXhYUVVGWExFTkJRVU1zUTBGQlF6dEpRVVV4UXl4SlFVRkpMRVZCUVVVN1VVRkJSU3hQUVVGUExFVkJRVVVzUTBGQlF5eFhRVUZYTEVOQlFVTTdTVUZET1VJc1NVRkJTU3hGUVVGRk8xRkJRVVVzVDBGQlR5eEZRVUZGTEVOQlFVTXNWMEZCVnl4RFFVRkRPMGxCUXpsQ0xFbEJRVWtzUlVGQlJUdFJRVUZGTEU5QlFVOHNSVUZCUlN4RFFVRkRMRmRCUVZjc1EwRkJRenRKUVVVNVFpeFBRVUZQTEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc1NVRkJTU3hEUVVGRExFVkJRVVVzVjBGQlZ5eERRVUZETzBGQlEyeEVMRU5CUVVNN1FVRkZSQ3hOUVVGTkxGVkJRVlVzVlVGQlZUdEpRVU42UWl4SlFVRkpMRTlCUVU4c1IwRkJSeXhEUVVGRExFTkJRVU03U1VGRGFFSXNUVUZCVFN4TFFVRkxMRWRCUVVjc1EwRkJReXhIUVVGSExGRkJRVkVzUTBGQlF5eG5Ra0ZCWjBJc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dFRRVU5vUkN4SlFVRkpMRU5CUVVNc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVOQlFVTXNWMEZCVnl4RFFVRkRMRkZCUVZFc1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF6dFJRVU0zUXl4RlFVRkZMRmRCUVZjc1JVRkJSU3hQUVVGUExFTkJRVU1zVlVGQlZTeEZRVUZGTEVWQlFVVXNRMEZCUXl4RFFVRkRPMGxCUlhoRExFbEJRVWtzUzBGQlN6dFJRVUZGTEU5QlFVOHNSMEZCUnl4TlFVRk5MRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU03U1VGRmJrTXNUMEZCVHl4UFFVRlBMRU5CUVVNN1FVRkRhRUlzUTBGQlF6dEJRVVZFTEUxQlFVMHNWVUZCVlN4TFFVRkxPMGxCUTNCQ0xFMUJRVTBzUlVGQlJTeE5RVUZOTEVWQlFVVXNVVUZCVVN4RlFVRkZMRWRCUVVjc1VVRkJVU3hEUVVGRExGRkJRVkVzUTBGQlF6dEpRVVV2UXl4TFFVRkxMRTFCUVUwc1EwRkJReXhIUVVGSExFVkJRVVVzUzBGQlN5eERRVUZETEVsQlFVa3NUVUZCVFR0VFFVTXZRaXhOUVVGTkxFTkJRVU1zUTBGQlF5eERRVUZETzFOQlExUXNTMEZCU3l4RFFVRkRMRWRCUVVjc1EwRkJRenRUUVVOV0xFZEJRVWNzUTBGQlF5eERRVUZETEVOQlFVTXNSVUZCUlN4RFFVRkRMRU5CUVVNc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdVVUZEZGtJc1NVRkJTU3hIUVVGSExFdEJRVXNzU1VGQlNUdFpRVUZGTEU5QlFVOHNUVUZCVFN4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVGRE8wbEJSWGhETEV0QlFVc3NUVUZCVFN4SlFVRkpMRWxCUVVrc1VVRkJVU3hEUVVGRExFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTTdVVUZEY2tNc1NVRkJTU3hKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEZOQlFWTXNRMEZCUXp0WlFVRkZMRTlCUVU4c1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBGQlEycEVMRU5CUVVNaWZRPT0iLCJpbXBvcnQgeyBnZXRFcGlzb2RlLCBnZXRJZCwgZ2V0SW1hZ2UsIGdldFRpdGxlIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmNvbnN0IHByZXNlbmNlID0gbmV3IFByZXNlbmNlKHtcbiAgICBjbGllbnRJZDogXCIxMjg2NTAwMTkzODgxMTYxODA0XCIsXG59KTtcbmxldCBsYXN0UGxheWJhY2tTdGF0ZSA9IGZhbHNlLCBwbGF5YmFjayA9IGZhbHNlLCBzdGFydFRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCBsYXN0SHJlZiwgbGFzdFVwZGF0ZSA9IDA7XG5wcmVzZW5jZS5vbihcIlVwZGF0ZURhdGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHByZXNlbmNlRGF0YSA9IHtcbiAgICAgICAgc3RhcnRUaW1lc3RhbXAsXG4gICAgfSwgdmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIiksIHsgcGF0aG5hbWUsIGhyZWYgfSA9IGRvY3VtZW50LmxvY2F0aW9uO1xuICAgIGlmICh2aWRlbykge1xuICAgICAgICBwcmVzZW5jZURhdGEudHlwZSA9IDM7XG4gICAgICAgIHBsYXliYWNrID0gIXZpZGVvLnBhdXNlZCAmJiAhdmlkZW8uZW5kZWQ7XG4gICAgICAgIGlmIChsYXN0UGxheWJhY2tTdGF0ZSAhPT0gcGxheWJhY2spXG4gICAgICAgICAgICBzdGFydFRpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZUtleSA9IHBsYXliYWNrID8gXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3Jlc291cmNlcy9wbGF5LnBuZ1wiIDogXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3Jlc291cmNlcy9wYXVzZS5wbmdcIjtcbiAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VUZXh0ID0gcGxheWJhY2sgPyBcIlBsYXlpbmdcIiA6IFwiUGF1c2VkXCI7XG4gICAgfVxuICAgIGlmICh2aWRlbyAmJiBsYXN0UGxheWJhY2tTdGF0ZSA9PT0gcGxheWJhY2spXG4gICAgICAgIHJldHVybjtcbiAgICBsYXN0UGxheWJhY2tTdGF0ZSA9IHBsYXliYWNrO1xuICAgIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKFwiL2VuL3NjaGVkdWxlXCIpKSB7XG4gICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gXCJWaWV3aW5nIFNjaGVkdWxlLi4uXCI7XG4gICAgICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpZXcgU2NoZWR1bGVcIixcbiAgICAgICAgICAgICAgICB1cmw6IGhyZWYsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH1cbiAgICBpZiAocGF0aG5hbWUuaW5jbHVkZXMoXCIvc2VhcmNoL21hbmdhXCIpKVxuICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiU2VhcmNoaW5nIE1hbmdhLi4uXCI7XG4gICAgaWYgKHBhdGhuYW1lLmluY2x1ZGVzKFwiL3NlYXJjaC9hbmltZVwiKSlcbiAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBcIlNlYXJjaGluZyBBbmltZS4uLlwiO1xuICAgIGlmIChocmVmLmluY2x1ZGVzKFwiL3NlYXJjaC9hbmltZT9zZWFzb249XCIpKVxuICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IFwiVmlld2luZyBTZWFzb24uLi5cIjtcbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aChcIi9lbi9hbmltZS9cIikgJiZcbiAgICAgICAgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvZW4vYW5pbWUvd2F0Y2hcIikpIHtcbiAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBnZXRUaXRsZSgpO1xuICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBcIlZpZXdpbmcgQW5pbWUuLi5cIjtcbiAgICAgICAgcHJlc2VuY2VEYXRhLmJ1dHRvbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVmlldyBBbmltZVwiLFxuICAgICAgICAgICAgICAgIHVybDogaHJlZixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvZW4vbWFuZ2EvXCIpKSB7XG4gICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gZ2V0VGl0bGUoKTtcbiAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gXCJWaWV3aW5nIE1hbmdhLi4uXCI7XG4gICAgICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpZXcgTWFuZ2FcIixcbiAgICAgICAgICAgICAgICB1cmw6IGhyZWYsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcHJlc2VuY2VEYXRhLmRldGFpbHMgIT09IFwic3RyaW5nXCIpXG4gICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gXCJWaWV3aW5nIEhvbWUuLi5cIjtcbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aChcIi9lbi9hbmltZS93YXRjaFwiKSkge1xuICAgICAgICBjb25zdCBlcGlzb2RlID0gZ2V0RXBpc29kZSgpO1xuICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IGdldFRpdGxlKCk7XG4gICAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9ICFpc05hTihlcGlzb2RlKVxuICAgICAgICAgICAgPyBgRXBpc29kZSAke2VwaXNvZGV9YFxuICAgICAgICAgICAgOiBcIlVuYWJsZSB0byByZXRyaWV2ZSBlcGlzb2RlXCI7XG4gICAgICAgIHByZXNlbmNlRGF0YS50eXBlID0gMztcbiAgICAgICAgcHJlc2VuY2VEYXRhLmJ1dHRvbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2F0Y2ggQW5pbWVcIixcbiAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3NoaXJva28uY28vZW4vYW5pbWUvd2F0Y2g/aWQ9JHtnZXRJZCgpfSZuPSR7ZXBpc29kZX1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvZW4vcHJvZmlsZS9cIikpIHtcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBwYXRobmFtZS5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgICAgIGlmICh1c2VybmFtZSAhPT0gXCJwcm9maWxlXCIgJiYgdXNlcm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gYFZpZXdpbmcgJHt1c2VybmFtZX0ncyBQcm9maWxlYDtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVmlldyBQcm9maWxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHVybDogaHJlZixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChsYXN0SHJlZiAhPT0gaHJlZiB8fCAobm93IC0gbGFzdFVwZGF0ZSkgLyAxMDAwID49IDEpIHtcbiAgICAgICAgbGFzdEhyZWYgPSBocmVmO1xuICAgICAgICBsYXN0VXBkYXRlID0gbm93O1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHJldHVybjtcbiAgICBwcmVzZW5jZURhdGEubGFyZ2VJbWFnZUtleSA9IGdldEltYWdlKCk7XG4gICAgcHJlc2VuY2Uuc2V0QWN0aXZpdHkocHJlc2VuY2VEYXRhKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pY0hKbGMyVnVZMlV1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SndjbVZ6Wlc1alpTNTBjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVN4UFFVRlBMRVZCUVVVc1ZVRkJWU3hGUVVGRkxFdEJRVXNzUlVGQlJTeFJRVUZSTEVWQlFVVXNVVUZCVVN4RlFVRkZMRTFCUVUwc1UwRkJVeXhEUVVGRE8wRkJSV2hGTEUxQlFVMHNVVUZCVVN4SFFVRkhMRWxCUVVrc1VVRkJVU3hEUVVGRE8wbEJRemRDTEZGQlFWRXNSVUZCUlN4eFFrRkJjVUk3UTBGREwwSXNRMEZCUXl4RFFVRkRPMEZCUlVnc1NVRkJTU3hwUWtGQmFVSXNSMEZCUnl4TFFVRkxMRVZCUXpWQ0xGRkJRVkVzUjBGQlJ5eExRVUZMTEVWQlEyaENMR05CUVdNc1IwRkJSeXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEVsQlFVa3NRMEZCUXl4SFFVRkhMRVZCUVVVc1IwRkJSeXhKUVVGSkxFTkJRVU1zUlVGRE9VTXNVVUZCWjBJc1JVRkRhRUlzVlVGQlZTeEhRVUZITEVOQlFVTXNRMEZCUXp0QlFVVm9RaXhSUVVGUkxFTkJRVU1zUlVGQlJTeERRVUZETEZsQlFWa3NSVUZCUlN4TFFVRkxMRWxCUVVrc1JVRkJSVHRKUVVOd1F5eE5RVUZOTEZsQlFWa3NSMEZCYVVJN1VVRkRha01zWTBGQll6dExRVU5rTEVWQlEwUXNTMEZCU3l4SFFVRkhMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRVU1zVDBGQlR5eERRVUZETEVWQlEzWkRMRVZCUVVVc1VVRkJVU3hGUVVGRkxFbEJRVWtzUlVGQlJTeEhRVUZITEZGQlFWRXNRMEZCUXl4UlFVRlJMRU5CUVVNN1NVRkZlRU1zU1VGQlNTeExRVUZMTEVWQlFVVTdVVUZEVml4WlFVRlpMRU5CUVVNc1NVRkJTU3hKUVVGM1FpeERRVUZETzFGQlF6RkRMRkZCUVZFc1IwRkJSeXhEUVVGRExFdEJRVXNzUTBGQlF5eE5RVUZOTEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1MwRkJTeXhEUVVGRE8xRkJSWHBETEVsQlFVa3NhVUpCUVdsQ0xFdEJRVXNzVVVGQlVUdFpRVU5xUXl4alFVRmpMRWRCUVVjc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eEpRVUZKTEVOQlFVTXNSMEZCUnl4RlFVRkZMRWRCUVVjc1NVRkJTU3hEUVVGRExFTkJRVU03VVVGRmFFUXNXVUZCV1N4RFFVRkRMR0ZCUVdFc1IwRkJSeXhSUVVGUkxFTkJRVU1zUTBGQlF5eG5SRUZCWVN4RFFVRkRMR2RFUVVGaExFTkJRVU03VVVGRGJrVXNXVUZCV1N4RFFVRkRMR05CUVdNc1IwRkJSeXhSUVVGUkxFTkJRVU1zUTBGQlF5eERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1VVRkJVU3hEUVVGRE8wdEJRemxFTzBsQlJVUXNTVUZCU1N4TFFVRkxMRWxCUVVrc2FVSkJRV2xDTEV0QlFVc3NVVUZCVVR0UlFVRkZMRTlCUVU4N1NVRkRjRVFzYVVKQlFXbENMRWRCUVVjc1VVRkJVU3hEUVVGRE8wbEJSVGRDTEVsQlFVa3NVVUZCVVN4RFFVRkRMRlZCUVZVc1EwRkJReXhqUVVGakxFTkJRVU1zUlVGQlJUdFJRVU40UXl4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExIRkNRVUZ4UWl4RFFVRkRPMUZCUlRkRExGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVYzdXVUZEZEVJN1owSkJRME1zUzBGQlN5eEZRVUZGTEdWQlFXVTdaMEpCUTNSQ0xFZEJRVWNzUlVGQlJTeEpRVUZKTzJGQlExUTdVMEZEUkN4RFFVRkRPMHRCUTBZN1NVRkRSQ3hKUVVGSkxGRkJRVkVzUTBGQlF5eFJRVUZSTEVOQlFVTXNaVUZCWlN4RFFVRkRPMUZCUTNKRExGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NiMEpCUVc5Q0xFTkJRVU03U1VGRE4wTXNTVUZCU1N4UlFVRlJMRU5CUVVNc1VVRkJVU3hEUVVGRExHVkJRV1VzUTBGQlF6dFJRVU55UXl4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExHOUNRVUZ2UWl4RFFVRkRPMGxCUXpkRExFbEJRVWtzU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4MVFrRkJkVUlzUTBGQlF6dFJRVU42UXl4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExHMUNRVUZ0UWl4RFFVRkRPMGxCUXpWRExFbEJRME1zVVVGQlVTeERRVUZETEZWQlFWVXNRMEZCUXl4WlFVRlpMRU5CUVVNN1VVRkRha01zUTBGQlF5eFJRVUZSTEVOQlFVTXNWVUZCVlN4RFFVRkRMR2xDUVVGcFFpeERRVUZETEVWQlEzUkRPMUZCUTBRc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ5eFJRVUZSTEVWQlFVVXNRMEZCUXp0UlFVTnNReXhaUVVGWkxFTkJRVU1zUzBGQlN5eEhRVUZITEd0Q1FVRnJRaXhEUVVGRE8xRkJSWGhETEZsQlFWa3NRMEZCUXl4UFFVRlBMRWRCUVVjN1dVRkRkRUk3WjBKQlEwTXNTMEZCU3l4RlFVRkZMRmxCUVZrN1owSkJRMjVDTEVkQlFVY3NSVUZCUlN4SlFVRkpPMkZCUTFRN1UwRkRSQ3hEUVVGRE8wdEJRMFk3VTBGQlRTeEpRVUZKTEZGQlFWRXNRMEZCUXl4VlFVRlZMRU5CUVVNc1dVRkJXU3hEUVVGRExFVkJRVVU3VVVGRE4wTXNXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhSUVVGUkxFVkJRVVVzUTBGQlF6dFJRVU5zUXl4WlFVRlpMRU5CUVVNc1MwRkJTeXhIUVVGSExHdENRVUZyUWl4RFFVRkRPMUZCUlhoRExGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVYzdXVUZEZEVJN1owSkJRME1zUzBGQlN5eEZRVUZGTEZsQlFWazdaMEpCUTI1Q0xFZEJRVWNzUlVGQlJTeEpRVUZKTzJGQlExUTdVMEZEUkN4RFFVRkRPMHRCUTBZN1UwRkJUU3hKUVVGSkxFOUJRVThzV1VGQldTeERRVUZETEU5QlFVOHNTMEZCU3l4UlFVRlJPMUZCUTJ4RUxGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NhVUpCUVdsQ0xFTkJRVU03U1VGRk1VTXNTVUZCU1N4UlFVRlJMRU5CUVVNc1ZVRkJWU3hEUVVGRExHbENRVUZwUWl4RFFVRkRMRVZCUVVVN1VVRkRNME1zVFVGQlRTeFBRVUZQTEVkQlFVY3NWVUZCVlN4RlFVRkZMRU5CUVVNN1VVRkZOMElzV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnl4UlFVRlJMRVZCUVVVc1EwRkJRenRSUVVOc1F5eFpRVUZaTEVOQlFVTXNTMEZCU3l4SFFVRkhMRU5CUVVNc1MwRkJTeXhEUVVGRExFOUJRVThzUTBGQlF6dFpRVU51UXl4RFFVRkRMRU5CUVVNc1YwRkJWeXhQUVVGUExFVkJRVVU3V1VGRGRFSXNRMEZCUXl4RFFVRkRMRFJDUVVFMFFpeERRVUZETzFGQlEyaERMRmxCUVZrc1EwRkJReXhKUVVGSkxFbEJRWGRDTEVOQlFVTTdVVUZGTVVNc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ6dFpRVU4wUWp0blFrRkRReXhMUVVGTExFVkJRVVVzWVVGQllUdG5Ra0ZEY0VJc1IwRkJSeXhGUVVGRkxIZERRVUYzUXl4TFFVRkxMRVZCUVVVc1RVRkJUU3hQUVVGUExFVkJRVVU3WVVGRGJrVTdVMEZEUkN4RFFVRkRPMHRCUTBZN1NVRkZSQ3hKUVVGSkxGRkJRVkVzUTBGQlF5eFZRVUZWTEVOQlFVTXNZMEZCWXl4RFFVRkRMRVZCUVVVN1VVRkRlRU1zVFVGQlRTeFJRVUZSTEVkQlFVY3NVVUZCVVN4RFFVRkRMRXRCUVVzc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXp0UlFVTXpReXhKUVVGSkxGRkJRVkVzUzBGQlN5eFRRVUZUTEVsQlFVa3NVVUZCVVN4TFFVRkxMRVZCUVVVc1JVRkJSVHRaUVVNNVF5eFpRVUZaTEVOQlFVTXNUMEZCVHl4SFFVRkhMRmRCUVZjc1VVRkJVU3haUVVGWkxFTkJRVU03V1VGRGRrUXNXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSenRuUWtGRGRFSTdiMEpCUTBNc1MwRkJTeXhGUVVGRkxHTkJRV003YjBKQlEzSkNMRWRCUVVjc1JVRkJSU3hKUVVGSk8ybENRVU5VTzJGQlEwUXNRMEZCUXp0VFFVTkdPMHRCUTBRN1NVRkZSQ3hOUVVGTkxFZEJRVWNzUjBGQlJ5eEpRVUZKTEVOQlFVTXNSMEZCUnl4RlFVRkZMRU5CUVVNN1NVRkRka0lzU1VGQlNTeFJRVUZSTEV0QlFVc3NTVUZCU1N4SlFVRkpMRU5CUVVNc1IwRkJSeXhIUVVGSExGVkJRVlVzUTBGQlF5eEhRVUZITEVsQlFVa3NTVUZCU1N4RFFVRkRMRVZCUVVVN1VVRkRlRVFzVVVGQlVTeEhRVUZITEVsQlFVa3NRMEZCUXp0UlFVTm9RaXhWUVVGVkxFZEJRVWNzUjBGQlJ5eERRVUZETzB0QlEycENPenRSUVVGTkxFOUJRVTg3U1VGRlpDeFpRVUZaTEVOQlFVTXNZVUZCWVN4SFFVRkhMRkZCUVZFc1JVRkJSU3hEUVVGRE8wbEJSWGhETEZGQlFWRXNRMEZCUXl4WFFVRlhMRU5CUVVNc1dVRkJXU3hEUVVGRExFTkJRVU03UVVGRGNFTXNRMEZCUXl4RFFVRkRMRU5CUVVNaWZRPT0iXSwibmFtZXMiOlsiZ2V0SW1hZ2UiLCJpbWciLCJkb2N1bWVudCIsImltYWdlcyIsImluY2x1ZGVzIiwiU3RyaW5nIiwiYXR0cmlidXRlcyIsImdldE5hbWVkSXRlbSIsInZhbHVlIiwic3JjIiwiZ2V0VGl0bGUiLCJudCIsInF1ZXJ5U2VsZWN0b3IiLCJybyIsImVuIiwidGV4dENvbnRlbnQiLCJnZXRFcGlzb2RlIiwiZXBpc29kZSIsInF1ZXJ5IiwicXVlcnlTZWxlY3RvckFsbCIsImZpbmQiLCJhIiwicmVwbGFjZSIsIk51bWJlciIsImdldElkIiwic2VhcmNoIiwicGF0aG5hbWUiLCJsb2NhdGlvbiIsImtleSIsInN1YnN0ciIsInNwbGl0IiwibWFwIiwicyIsInBhdGgiLCJtYXRjaCIsInByZXNlbmNlIiwiUHJlc2VuY2UiLCJjbGllbnRJZCIsImxhc3RIcmVmIiwibGFzdFBsYXliYWNrU3RhdGUiLCJwbGF5YmFjayIsInN0YXJ0VGltZXN0YW1wIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImxhc3RVcGRhdGUiLCJvbiIsImFzeW5jIiwicHJlc2VuY2VEYXRhIiwidmlkZW8iLCJocmVmIiwidHlwZSIsInBhdXNlZCIsImVuZGVkIiwic21hbGxJbWFnZUtleSIsInNtYWxsSW1hZ2VUZXh0Iiwic3RhcnRzV2l0aCIsImRldGFpbHMiLCJidXR0b25zIiwibGFiZWwiLCJ1cmwiLCJzdGF0ZSIsImlzTmFOIiwidXNlcm5hbWUiLCJwb3AiLCJsYXJnZUltYWdlS2V5Iiwic2V0QWN0aXZpdHkiXSwic291cmNlUm9vdCI6IiJ9
undefined;