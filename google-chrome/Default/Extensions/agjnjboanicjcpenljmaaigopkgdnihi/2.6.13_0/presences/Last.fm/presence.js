var __webpack_exports__={};const presence=new Presence({clientId:"917456087299534858"}),browsingTimestamp=Date.now()/1e3;presence.on("UpdateData",(async()=>{let e={largeImageKey:"https://cdn.rcd.gg/PreMiD/websites/L/Last.fm/assets/logo.png",smallImageKey:"https://cdn.rcd.gg/PreMiD/resources/search.png",startTimestamp:browsingTimestamp};const[t,a,s]=await Promise.all([presence.getSetting("buttons"),presence.getSetting("timestamps"),presence.getSetting("cover")]),r={"/home":{details:"Home"},"/dashboard":{details:"Dashboard"},"/features":{details:"Features"},"/events":{details:"Events"},"/charts":{details:"Charts"},"/inbox":{details:"Inbox"},"/settings":{details:"Settings"},"/pro":{details:"Last.fm Pro"},"/about":{details:"About"},"/api":{details:"Developer API"},"/legal":{details:"Legal"},"/help":{details:"Help"},"/search":{details:"Searching for:",state:new URLSearchParams(document.location.search).get("q")},"/user":{details:"Viewing user:",state:document.querySelector("h1.header-title")?.textContent?.trim(),buttons:[{url:document.querySelector("h1.header-title > a")?.href,label:"View User"}]},"/music":{details:document.querySelector("body.album-overview-new")?"Viewing Album:":document.querySelector("body.artist-overview-new")?"Viewing Artist:":document.querySelector("body.track-overview-new")?"Viewing Track:":document.querySelector("body.namespace--music_bookmarks_overview")?"Viewing Bookmarks":"Music",largeImageKey:s&&document.querySelector("body.album-overview-new")?document.querySelector(".album-overview-cover-art > .cover-art > img")?.src??"https://cdn.rcd.gg/PreMiD/websites/L/Last.fm/assets/logo.png":"https://cdn.rcd.gg/PreMiD/websites/L/Last.fm/assets/logo.png",state:document.querySelector("h1.header-new-title")?.textContent,buttons:document.querySelector("body.album-overview-new")?[{url:document.URL,label:"View Album"}]:document.querySelector("body.artist-overview-new")?[{url:document.URL,label:"View Artist"}]:document.querySelector("body.track-overview-new")?[{url:document.URL,label:"View Track"}]:void 0}};for(const[t,a]of Object.entries(r))location.pathname.match(t)&&(e={...e,...a});if(!document.querySelector('[data-analytics-action="PlaybarResumeTrack"]')?.disabled){let t=document.querySelector('[data-analytics-action="PlaybarResumeTrack"]').className.endsWith("play");if(a){const a=presence.timestampFromFormat(document.querySelector("div.player-bar-progress-wrap > div > div > span").textContent.slice(1));Date.now()/1e3>=Date.now()/1e3+a&&(t=!0),t||(e.endTimestamp=Date.now()/1e3+a)}if(s){const t=document.querySelector(".player-bar-inner-wrap > .player-bar-artwork > img").src;e.largeImageKey=t.includes("player_default_album")?"https://cdn.rcd.gg/PreMiD/websites/L/Last.fm/assets/logo.png":t.replace("/174s/","/1024s/")}else e.largeImageKey="https://cdn.rcd.gg/PreMiD/websites/L/Last.fm/assets/logo.png";e.details="Listening to:",e.state=document.querySelector("p.player-bar-track.js-player-status")?.getAttribute("title"),e.smallImageKey=t?"https://cdn.rcd.gg/PreMiD/resources/pause.png":"https://cdn.rcd.gg/PreMiD/resources/play.png",e.smallImageText=t?"Paused":"Playing",delete e.startTimestamp,delete e.buttons}t||delete e.buttons,a||delete e.startTimestamp,e.details?presence.setActivity(e):presence.setActivity()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQzNDakMsRUFBYUcsc0JBQ2JILEVBQWFJLE9BQ3hCLENBQ0tBLFVBQ01KLEVBQWFJLFFBQ25CQyxVQUNNTCxFQUFhRyxlQUNwQkgsRUFBYVcsUUFDYm5CLFNBQVNxRCxZQUFZN0MsR0FFckJSLFNBQVNxRCxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcHJlc2VuY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHJlc2VuY2UgPSBuZXcgUHJlc2VuY2Uoe1xuICAgIGNsaWVudElkOiBcIjkxNzQ1NjA4NzI5OTUzNDg1OFwiLFxufSksIGJyb3dzaW5nVGltZXN0YW1wID0gRGF0ZS5ub3coKSAvIDEwMDA7XG5wcmVzZW5jZS5vbihcIlVwZGF0ZURhdGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBwcmVzZW5jZURhdGEgPSB7XG4gICAgICAgIGxhcmdlSW1hZ2VLZXk6IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC93ZWJzaXRlcy9ML0xhc3QuZm0vYXNzZXRzL2xvZ28ucG5nXCIsXG4gICAgICAgIHNtYWxsSW1hZ2VLZXk6IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvc2VhcmNoLnBuZ1wiLFxuICAgICAgICBzdGFydFRpbWVzdGFtcDogYnJvd3NpbmdUaW1lc3RhbXAsXG4gICAgfTtcbiAgICBjb25zdCBbYnV0dG9ucywgdGltZXN0YW1wcywgY292ZXJdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBwcmVzZW5jZS5nZXRTZXR0aW5nKFwiYnV0dG9uc1wiKSxcbiAgICAgICAgcHJlc2VuY2UuZ2V0U2V0dGluZyhcInRpbWVzdGFtcHNcIiksXG4gICAgICAgIHByZXNlbmNlLmdldFNldHRpbmcoXCJjb3ZlclwiKSxcbiAgICBdKSwgcGFnZXMgPSB7XG4gICAgICAgIFwiL2hvbWVcIjoge1xuICAgICAgICAgICAgZGV0YWlsczogXCJIb21lXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFwiL2Rhc2hib2FyZFwiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiBcIkRhc2hib2FyZFwiLFxuICAgICAgICB9LFxuICAgICAgICBcIi9mZWF0dXJlc1wiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiBcIkZlYXR1cmVzXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFwiL2V2ZW50c1wiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiBcIkV2ZW50c1wiLFxuICAgICAgICB9LFxuICAgICAgICBcIi9jaGFydHNcIjoge1xuICAgICAgICAgICAgZGV0YWlsczogXCJDaGFydHNcIixcbiAgICAgICAgfSxcbiAgICAgICAgXCIvaW5ib3hcIjoge1xuICAgICAgICAgICAgZGV0YWlsczogXCJJbmJveFwiLFxuICAgICAgICB9LFxuICAgICAgICBcIi9zZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiBcIlNldHRpbmdzXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFwiL3Byb1wiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiBcIkxhc3QuZm0gUHJvXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFwiL2Fib3V0XCI6IHtcbiAgICAgICAgICAgIGRldGFpbHM6IFwiQWJvdXRcIixcbiAgICAgICAgfSxcbiAgICAgICAgXCIvYXBpXCI6IHtcbiAgICAgICAgICAgIGRldGFpbHM6IFwiRGV2ZWxvcGVyIEFQSVwiLFxuICAgICAgICB9LFxuICAgICAgICBcIi9sZWdhbFwiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiBcIkxlZ2FsXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFwiL2hlbHBcIjoge1xuICAgICAgICAgICAgZGV0YWlsczogXCJIZWxwXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFwiL3NlYXJjaFwiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiBcIlNlYXJjaGluZyBmb3I6XCIsXG4gICAgICAgICAgICBzdGF0ZTogbmV3IFVSTFNlYXJjaFBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpLmdldChcInFcIiksXG4gICAgICAgIH0sXG4gICAgICAgIFwiL3VzZXJcIjoge1xuICAgICAgICAgICAgZGV0YWlsczogXCJWaWV3aW5nIHVzZXI6XCIsXG4gICAgICAgICAgICBzdGF0ZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImgxLmhlYWRlci10aXRsZVwiKT8udGV4dENvbnRlbnQ/LnRyaW0oKSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImgxLmhlYWRlci10aXRsZSA+IGFcIik/LmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpZXcgVXNlclwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICBcIi9tdXNpY1wiOiB7XG4gICAgICAgICAgICBkZXRhaWxzOiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keS5hbGJ1bS1vdmVydmlldy1uZXdcIikpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlZpZXdpbmcgQWxidW06XCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHkuYXJ0aXN0LW92ZXJ2aWV3LW5ld1wiKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiVmlld2luZyBBcnRpc3Q6XCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHkudHJhY2stb3ZlcnZpZXctbmV3XCIpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJWaWV3aW5nIFRyYWNrOlwiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5Lm5hbWVzcGFjZS0tbXVzaWNfYm9va21hcmtzX292ZXJ2aWV3XCIpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJWaWV3aW5nIEJvb2ttYXJrc1wiO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTXVzaWNcIjtcbiAgICAgICAgICAgIH0pKCksXG4gICAgICAgICAgICBsYXJnZUltYWdlS2V5OiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb3Zlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHkuYWxidW0tb3ZlcnZpZXctbmV3XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWxidW0tb3ZlcnZpZXctY292ZXItYXJ0ID4gLmNvdmVyLWFydCA+IGltZ1wiKT8uc3JjID8/IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC93ZWJzaXRlcy9ML0xhc3QuZm0vYXNzZXRzL2xvZ28ucG5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTC9MYXN0LmZtL2Fzc2V0cy9sb2dvLnBuZ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTC9MYXN0LmZtL2Fzc2V0cy9sb2dvLnBuZ1wiO1xuICAgICAgICAgICAgfSkoKSxcbiAgICAgICAgICAgIHN0YXRlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaDEuaGVhZGVyLW5ldy10aXRsZVwiKT8udGV4dENvbnRlbnQsXG4gICAgICAgICAgICBidXR0b25zOiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keS5hbGJ1bS1vdmVydmlldy1uZXdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGRvY3VtZW50LlVSTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJWaWV3IEFsYnVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keS5hcnRpc3Qtb3ZlcnZpZXctbmV3XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBkb2N1bWVudC5VUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVmlldyBBcnRpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5LnRyYWNrLW92ZXJ2aWV3LW5ld1wiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQuVVJMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpZXcgVHJhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgW3BhdGgsIGRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHBhZ2VzKSkge1xuICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUubWF0Y2gocGF0aCkpXG4gICAgICAgICAgICBwcmVzZW5jZURhdGEgPSB7IC4uLnByZXNlbmNlRGF0YSwgLi4uZGF0YSB9O1xuICAgIH1cbiAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFuYWx5dGljcy1hY3Rpb249XCJQbGF5YmFyUmVzdW1lVHJhY2tcIl0nKT8uZGlzYWJsZWQpIHtcbiAgICAgICAgbGV0IHBhdXNlZCA9IGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignW2RhdGEtYW5hbHl0aWNzLWFjdGlvbj1cIlBsYXliYXJSZXN1bWVUcmFja1wiXScpXG4gICAgICAgICAgICAuY2xhc3NOYW1lLmVuZHNXaXRoKFwicGxheVwiKTtcbiAgICAgICAgaWYgKHRpbWVzdGFtcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVMZWZ0ID0gcHJlc2VuY2UudGltZXN0YW1wRnJvbUZvcm1hdChkb2N1bWVudFxuICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiZGl2LnBsYXllci1iYXItcHJvZ3Jlc3Mtd3JhcCA+IGRpdiA+IGRpdiA+IHNwYW5cIilcbiAgICAgICAgICAgICAgICAudGV4dENvbnRlbnQuc2xpY2UoMSkpO1xuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLyAxMDAwID49IERhdGUubm93KCkgLyAxMDAwICsgdGltZUxlZnQpXG4gICAgICAgICAgICAgICAgcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghcGF1c2VkKVxuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5lbmRUaW1lc3RhbXAgPSBEYXRlLm5vdygpIC8gMTAwMCArIHRpbWVMZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3Zlcikge1xuICAgICAgICAgICAgY29uc3QgYXJ0d29yayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWJhci1pbm5lci13cmFwID4gLnBsYXllci1iYXItYXJ0d29yayA+IGltZ1wiKS5zcmM7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEubGFyZ2VJbWFnZUtleSA9IGFydHdvcmsuaW5jbHVkZXMoXCJwbGF5ZXJfZGVmYXVsdF9hbGJ1bVwiKVxuICAgICAgICAgICAgICAgID8gXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL0wvTGFzdC5mbS9hc3NldHMvbG9nby5wbmdcIlxuICAgICAgICAgICAgICAgIDogYXJ0d29yay5yZXBsYWNlKFwiLzE3NHMvXCIsIFwiLzEwMjRzL1wiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5sYXJnZUltYWdlS2V5ID1cbiAgICAgICAgICAgICAgICBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvd2Vic2l0ZXMvTC9MYXN0LmZtL2Fzc2V0cy9sb2dvLnBuZ1wiO1xuICAgICAgICB9XG4gICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gXCJMaXN0ZW5pbmcgdG86XCI7XG4gICAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcInAucGxheWVyLWJhci10cmFjay5qcy1wbGF5ZXItc3RhdHVzXCIpXG4gICAgICAgICAgICA/LmdldEF0dHJpYnV0ZShcInRpdGxlXCIpO1xuICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZUtleSA9IHBhdXNlZCA/IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvcGF1c2UucG5nXCIgOiBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvcmVzb3VyY2VzL3BsYXkucG5nXCI7XG4gICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlVGV4dCA9IHBhdXNlZCA/IFwiUGF1c2VkXCIgOiBcIlBsYXlpbmdcIjtcbiAgICAgICAgZGVsZXRlIHByZXNlbmNlRGF0YS5zdGFydFRpbWVzdGFtcDtcbiAgICAgICAgZGVsZXRlIHByZXNlbmNlRGF0YS5idXR0b25zO1xuICAgIH1cbiAgICBpZiAoIWJ1dHRvbnMpXG4gICAgICAgIGRlbGV0ZSBwcmVzZW5jZURhdGEuYnV0dG9ucztcbiAgICBpZiAoIXRpbWVzdGFtcHMpXG4gICAgICAgIGRlbGV0ZSBwcmVzZW5jZURhdGEuc3RhcnRUaW1lc3RhbXA7XG4gICAgaWYgKHByZXNlbmNlRGF0YS5kZXRhaWxzKVxuICAgICAgICBwcmVzZW5jZS5zZXRBY3Rpdml0eShwcmVzZW5jZURhdGEpO1xuICAgIGVsc2VcbiAgICAgICAgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pY0hKbGMyVnVZMlV1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SndjbVZ6Wlc1alpTNTBjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVN4TlFVRk5MRkZCUVZFc1IwRkJSeXhKUVVGSkxGRkJRVkVzUTBGQlF6dEpRVU0xUWl4UlFVRlJMRVZCUVVVc2IwSkJRVzlDTzBOQlF6bENMRU5CUVVNc1JVRkRSaXhwUWtGQmFVSXNSMEZCUnl4SlFVRkpMRU5CUVVNc1IwRkJSeXhGUVVGRkxFZEJRVWNzU1VGQlNTeERRVUZETzBGQlRYWkRMRkZCUVZFc1EwRkJReXhGUVVGRkxFTkJRVU1zV1VGQldTeEZRVUZGTEV0QlFVc3NTVUZCU1N4RlFVRkZPMGxCUTNCRExFbEJRVWtzV1VGQldTeEhRVUZwUWp0UlFVTm9ReXhoUVVGaExHZEZRVUZoTzFGQlF6RkNMR0ZCUVdFc2EwUkJRV1U3VVVGRE5VSXNZMEZCWXl4RlFVRkZMR2xDUVVGcFFqdExRVU5xUXl4RFFVRkRPMGxCUTBZc1RVRkJUU3hEUVVGRExFOUJRVThzUlVGQlJTeFZRVUZWTEVWQlFVVXNTMEZCU3l4RFFVRkRMRWRCUVVjc1RVRkJUU3hQUVVGUExFTkJRVU1zUjBGQlJ5eERRVUZETzFGQlEzSkVMRkZCUVZFc1EwRkJReXhWUVVGVkxFTkJRVlVzVTBGQlV5eERRVUZETzFGQlEzWkRMRkZCUVZFc1EwRkJReXhWUVVGVkxFTkJRVlVzV1VGQldTeERRVUZETzFGQlF6RkRMRkZCUVZFc1EwRkJReXhWUVVGVkxFTkJRVlVzVDBGQlR5eERRVUZETzB0QlEzSkRMRU5CUVVNc1JVRkRSaXhMUVVGTExFZEJRV2xETzFGQlEzSkRMRTlCUVU4c1JVRkJSVHRaUVVOU0xFOUJRVThzUlVGQlJTeE5RVUZOTzFOQlEyWTdVVUZEUkN4WlFVRlpMRVZCUVVVN1dVRkRZaXhQUVVGUExFVkJRVVVzVjBGQlZ6dFRRVU53UWp0UlFVTkVMRmRCUVZjc1JVRkJSVHRaUVVOYUxFOUJRVThzUlVGQlJTeFZRVUZWTzFOQlEyNUNPMUZCUTBRc1UwRkJVeXhGUVVGRk8xbEJRMVlzVDBGQlR5eEZRVUZGTEZGQlFWRTdVMEZEYWtJN1VVRkRSQ3hUUVVGVExFVkJRVVU3V1VGRFZpeFBRVUZQTEVWQlFVVXNVVUZCVVR0VFFVTnFRanRSUVVORUxGRkJRVkVzUlVGQlJUdFpRVU5VTEU5QlFVOHNSVUZCUlN4UFFVRlBPMU5CUTJoQ08xRkJRMFFzVjBGQlZ5eEZRVUZGTzFsQlExb3NUMEZCVHl4RlFVRkZMRlZCUVZVN1UwRkRia0k3VVVGRFJDeE5RVUZOTEVWQlFVVTdXVUZEVUN4UFFVRlBMRVZCUVVVc1lVRkJZVHRUUVVOMFFqdFJRVU5FTEZGQlFWRXNSVUZCUlR0WlFVTlVMRTlCUVU4c1JVRkJSU3hQUVVGUE8xTkJRMmhDTzFGQlEwUXNUVUZCVFN4RlFVRkZPMWxCUTFBc1QwRkJUeXhGUVVGRkxHVkJRV1U3VTBGRGVFSTdVVUZEUkN4UlFVRlJMRVZCUVVVN1dVRkRWQ3hQUVVGUExFVkJRVVVzVDBGQlR6dFRRVU5vUWp0UlFVTkVMRTlCUVU4c1JVRkJSVHRaUVVOU0xFOUJRVThzUlVGQlJTeE5RVUZOTzFOQlEyWTdVVUZEUkN4VFFVRlRMRVZCUVVVN1dVRkRWaXhQUVVGUExFVkJRVVVzWjBKQlFXZENPMWxCUTNwQ0xFdEJRVXNzUlVGQlJTeEpRVUZKTEdWQlFXVXNRMEZCUXl4UlFVRlJMRU5CUVVNc1VVRkJVU3hEUVVGRExFMUJRVTBzUTBGQlF5eERRVUZETEVkQlFVY3NRMEZCUXl4SFFVRkhMRU5CUVVNN1UwRkROMFE3VVVGRFJDeFBRVUZQTEVWQlFVVTdXVUZEVWl4UFFVRlBMRVZCUVVVc1pVRkJaVHRaUVVONFFpeExRVUZMTEVWQlFVVXNVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkJReXhwUWtGQmFVSXNRMEZCUXl4RlFVRkZMRmRCUVZjc1JVRkJSU3hKUVVGSkxFVkJRVVU3V1VGRGNrVXNUMEZCVHl4RlFVRkZPMmRDUVVOU08yOUNRVU5ETEVkQlFVY3NSVUZCUlN4UlFVRlJMRU5CUVVNc1lVRkJZU3hEUVVNeFFpeHhRa0ZCY1VJc1EwRkRja0lzUlVGQlJTeEpRVUZKTzI5Q1FVTlFMRXRCUVVzc1JVRkJSU3hYUVVGWE8ybENRVU5zUWp0aFFVTkVPMU5CUTBRN1VVRkRSQ3hSUVVGUkxFVkJRVVU3V1VGRFZDeFBRVUZQTEVWQlFVVXNRMEZCUXl4SFFVRkhMRVZCUVVVN1owSkJRMlFzU1VGQlNTeFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRkRMSGxDUVVGNVFpeERRVUZETzI5Q1FVTndSQ3hQUVVGUExHZENRVUZuUWl4RFFVRkRPM0ZDUVVOd1FpeEpRVUZKTEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc01FSkJRVEJDTEVOQlFVTTdiMEpCUXpGRUxFOUJRVThzYVVKQlFXbENMRU5CUVVNN2NVSkJRM0pDTEVsQlFVa3NVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkJReXg1UWtGQmVVSXNRMEZCUXp0dlFrRkRla1FzVDBGQlR5eG5Ra0ZCWjBJc1EwRkJRenR4UWtGRGNFSXNTVUZEU2l4UlFVRlJMRU5CUVVNc1lVRkJZU3hEUVVGRExEQkRRVUV3UXl4RFFVRkRPMjlDUVVWc1JTeFBRVUZQTEcxQ1FVRnRRaXhEUVVGRE96dHZRa0ZEZGtJc1QwRkJUeXhQUVVGUExFTkJRVU03V1VGRGNrSXNRMEZCUXl4RFFVRkRMRVZCUVVVN1dVRkRTaXhoUVVGaExFVkJRVVVzUTBGQlF5eEhRVUZITEVWQlFVVTdaMEpCUTNCQ0xFbEJRVWtzUzBGQlN5eEZRVUZGTzI5Q1FVTldMRWxCUVVrc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGQlF5eDVRa0ZCZVVJc1EwRkJReXhGUVVGRk8zZENRVU4wUkN4UFFVRlBMRU5CUTA0c1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGRGNrSXNPRU5CUVRoRExFTkJRemxETEVWQlFVVXNSMEZCUnl4clJVRkJaU3hEUVVOeVFpeERRVUZETzNGQ1FVTkdPenQzUWtGQlRTeHpSVUZCYlVJN2FVSkJRekZDT3p0dlFrRkJUU3h6UlVGQmJVSTdXVUZETTBJc1EwRkJReXhEUVVGRExFVkJRVVU3V1VGRFNpeExRVUZMTEVWQlFVVXNVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkJReXh4UWtGQmNVSXNRMEZCUXl4RlFVRkZMRmRCUVZjN1dVRkRha1VzVDBGQlR5eEZRVUZGTEVOQlFVTXNSMEZCYVVJc1JVRkJSVHRuUWtGRE5VSXNTVUZCU1N4UlFVRlJMRU5CUVVNc1lVRkJZU3hEUVVGRExIbENRVUY1UWl4RFFVRkRMRVZCUVVVN2IwSkJRM1JFTEU5QlFVODdkMEpCUTA0N05FSkJRME1zUjBGQlJ5eEZRVUZGTEZGQlFWRXNRMEZCUXl4SFFVRkhPelJDUVVOcVFpeExRVUZMTEVWQlFVVXNXVUZCV1R0NVFrRkRia0k3Y1VKQlEwUXNRMEZCUXp0cFFrRkRSanR4UWtGQlRTeEpRVUZKTEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc01FSkJRVEJDTEVOQlFVTXNSVUZCUlR0dlFrRkRPVVFzVDBGQlR6dDNRa0ZEVGpzMFFrRkRReXhIUVVGSExFVkJRVVVzVVVGQlVTeERRVUZETEVkQlFVYzdORUpCUTJwQ0xFdEJRVXNzUlVGQlJTeGhRVUZoTzNsQ1FVTndRanR4UWtGRFJDeERRVUZETzJsQ1FVTkdPM0ZDUVVGTkxFbEJRVWtzVVVGQlVTeERRVUZETEdGQlFXRXNRMEZCUXl4NVFrRkJlVUlzUTBGQlF5eEZRVUZGTzI5Q1FVTTNSQ3hQUVVGUE8zZENRVU5PT3pSQ1FVTkRMRWRCUVVjc1JVRkJSU3hSUVVGUkxFTkJRVU1zUjBGQlJ6czBRa0ZEYWtJc1MwRkJTeXhGUVVGRkxGbEJRVms3ZVVKQlEyNUNPM0ZDUVVORUxFTkJRVU03YVVKQlEwWTdXVUZEUml4RFFVRkRMRU5CUVVNc1JVRkJSVHRUUVVOS08wdEJRMFFzUTBGQlF6dEpRVVZJTEV0QlFVc3NUVUZCVFN4RFFVRkRMRWxCUVVrc1JVRkJSU3hKUVVGSkxFTkJRVU1zU1VGQlNTeE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRXRCUVVzc1EwRkJReXhGUVVGRk8xRkJRMnBFTEVsQlFVa3NVVUZCVVN4RFFVRkRMRkZCUVZFc1EwRkJReXhMUVVGTExFTkJRVU1zU1VGQlNTeERRVUZETzFsQlEyaERMRmxCUVZrc1IwRkJSeXhGUVVGRkxFZEJRVWNzV1VGQldTeEZRVUZGTEVkQlFVY3NTVUZCU1N4RlFVRkZMRU5CUVVNN1MwRkROME03U1VGRlJDeEpRVU5ETEVOQlFVTXNVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkRkRUlzT0VOQlFUaERMRU5CUXpsRExFVkJRVVVzVVVGQlVTeEZRVU5XTzFGQlEwUXNTVUZCU1N4TlFVRk5MRWRCUVVjc1VVRkJVVHRoUVVOdVFpeGhRVUZoTEVOQlFVTXNPRU5CUVRoRExFTkJRVU03WVVGRE4wUXNVMEZCVXl4RFFVRkRMRkZCUVZFc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF6dFJRVVUzUWl4SlFVRkpMRlZCUVZVc1JVRkJSVHRaUVVObUxFMUJRVTBzVVVGQlVTeEhRVUZITEZGQlFWRXNRMEZCUXl4dFFrRkJiVUlzUTBGRE5VTXNVVUZCVVR0cFFrRkRUaXhoUVVGaExFTkJRVU1zYVVSQlFXbEVMRU5CUVVNN2FVSkJRMmhGTEZkQlFWY3NRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRM1JDTEVOQlFVTTdXVUZGUml4SlFVRkpMRWxCUVVrc1EwRkJReXhIUVVGSExFVkJRVVVzUjBGQlJ5eEpRVUZKTEVsQlFVa3NTVUZCU1N4RFFVRkRMRWRCUVVjc1JVRkJSU3hIUVVGSExFbEJRVWtzUjBGQlJ5eFJRVUZSTzJkQ1FVRkZMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU03V1VGRmNrVXNTVUZCU1N4RFFVRkRMRTFCUVUwN1owSkJRVVVzV1VGQldTeERRVUZETEZsQlFWa3NSMEZCUnl4SlFVRkpMRU5CUVVNc1IwRkJSeXhGUVVGRkxFZEJRVWNzU1VGQlNTeEhRVUZITEZGQlFWRXNRMEZCUXp0VFFVTjBSVHRSUVVWRUxFbEJRVWtzUzBGQlN5eEZRVUZGTzFsQlExWXNUVUZCVFN4UFFVRlBMRWRCUVVjc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGRGNrTXNiMFJCUVc5RUxFTkJRM0JFTEVOQlFVTXNSMEZCUnl4RFFVRkRPMWxCUlU0c1dVRkJXU3hEUVVGRExHRkJRV0VzUjBGQlJ5eFBRVUZQTEVOQlFVTXNVVUZCVVN4RFFVRkRMSE5DUVVGelFpeERRVUZETzJkQ1FVTndSU3hEUVVGRE8yZENRVU5FTEVOQlFVTXNRMEZCUXl4UFFVRlBMRU5CUVVNc1QwRkJUeXhEUVVGRExGRkJRVkVzUlVGQlJTeFRRVUZUTEVOQlFVTXNRMEZCUXp0VFFVTjRRenRoUVVGTk8xbEJRMDRzV1VGQldTeERRVUZETEdGQlFXRTdaMEpCUTNwQ0xEaEVRVUU0UkN4RFFVRkRPMU5CUTJoRk8xRkJSVVFzV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnl4bFFVRmxMRU5CUVVNN1VVRkRka01zV1VGQldTeERRVUZETEV0QlFVc3NSMEZCUnl4UlFVRlJPMkZCUXpOQ0xHRkJRV0VzUTBGQlF5eHhRMEZCY1VNc1EwRkJRenRaUVVOeVJDeEZRVUZGTEZsQlFWa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJRenRSUVVWNlFpeFpRVUZaTEVOQlFVTXNZVUZCWVN4SFFVRkhMRTFCUVUwc1EwRkJReXhEUVVGRExHbEVRVUZqTEVOQlFVTXNLME5CUVZrc1EwRkJRenRSUVVOcVJTeFpRVUZaTEVOQlFVTXNZMEZCWXl4SFFVRkhMRTFCUVUwc1EwRkJReXhEUVVGRExFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNRMEZCUXl4VFFVRlRMRU5CUVVNN1VVRkZOVVFzVDBGQlR5eFpRVUZaTEVOQlFVTXNZMEZCWXl4RFFVRkRPMUZCUTI1RExFOUJRVThzV1VGQldTeERRVUZETEU5QlFVOHNRMEZCUXp0TFFVTTFRanRKUVVWRUxFbEJRVWtzUTBGQlF5eFBRVUZQTzFGQlFVVXNUMEZCVHl4WlFVRlpMRU5CUVVNc1QwRkJUeXhEUVVGRE8wbEJRekZETEVsQlFVa3NRMEZCUXl4VlFVRlZPMUZCUVVVc1QwRkJUeXhaUVVGWkxFTkJRVU1zWTBGQll5eERRVUZETzBsQlEzQkVMRWxCUVVrc1dVRkJXU3hEUVVGRExFOUJRVTg3VVVGQlJTeFJRVUZSTEVOQlFVTXNWMEZCVnl4RFFVRkRMRmxCUVZrc1EwRkJReXhEUVVGRE96dFJRVU40UkN4UlFVRlJMRU5CUVVNc1YwRkJWeXhGUVVGRkxFTkJRVU03UVVGRE4wSXNRMEZCUXl4RFFVRkRMRU5CUVVNaWZRPT0iXSwibmFtZXMiOlsicHJlc2VuY2UiLCJQcmVzZW5jZSIsImNsaWVudElkIiwiYnJvd3NpbmdUaW1lc3RhbXAiLCJEYXRlIiwibm93Iiwib24iLCJhc3luYyIsInByZXNlbmNlRGF0YSIsImxhcmdlSW1hZ2VLZXkiLCJzbWFsbEltYWdlS2V5Iiwic3RhcnRUaW1lc3RhbXAiLCJidXR0b25zIiwidGltZXN0YW1wcyIsImNvdmVyIiwiUHJvbWlzZSIsImFsbCIsImdldFNldHRpbmciLCJwYWdlcyIsImRldGFpbHMiLCJzdGF0ZSIsIlVSTFNlYXJjaFBhcmFtcyIsImRvY3VtZW50IiwibG9jYXRpb24iLCJzZWFyY2giLCJnZXQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJ0cmltIiwidXJsIiwiaHJlZiIsImxhYmVsIiwic3JjIiwiVVJMIiwicGF0aCIsImRhdGEiLCJPYmplY3QiLCJlbnRyaWVzIiwicGF0aG5hbWUiLCJtYXRjaCIsImRpc2FibGVkIiwicGF1c2VkIiwiY2xhc3NOYW1lIiwiZW5kc1dpdGgiLCJ0aW1lTGVmdCIsInRpbWVzdGFtcEZyb21Gb3JtYXQiLCJzbGljZSIsImVuZFRpbWVzdGFtcCIsImFydHdvcmsiLCJpbmNsdWRlcyIsInJlcGxhY2UiLCJnZXRBdHRyaWJ1dGUiLCJzbWFsbEltYWdlVGV4dCIsInNldEFjdGl2aXR5Il0sInNvdXJjZVJvb3QiOiIifQ==
undefined;