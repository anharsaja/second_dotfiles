var premid=function(){"use strict";var Yk=Object.defineProperty;var Ku=q=>{throw TypeError(q)};var Xk=(q,w,Q)=>w in q?Yk(q,w,{enumerable:!0,configurable:!0,writable:!0,value:Q}):q[w]=Q;var M=(q,w,Q)=>Xk(q,typeof w!="symbol"?w+"":w,Q),Yr=(q,w,Q)=>w.has(q)||Ku("Cannot "+Q);var j=(q,w,Q)=>(Yr(q,w,"read from private field"),Q?Q.call(q):w.get(q)),pe=(q,w,Q)=>w.has(q)?Ku("Cannot add the same private member more than once"):w instanceof WeakSet?w.add(q):w.set(q,Q),se=(q,w,Q,et)=>(Yr(q,w,"write to private field"),et?et.call(q,Q):w.set(q,Q),Q),bi=(q,w,Q)=>(Yr(q,w,"access private method"),Q);var Xr=(q,w,Q,et)=>({set _(yi){se(q,w,yi,Q)},get _(){return j(q,w,et)}});var Wu,zu,ke,ze,Et,Fe,Ke,Ot,Se,ce,Le,Rt,Ct,Ut,Ye,ye,Xe,Qe,vi,Ft,xi,Ze,Xu,Qr;function q(e){return e}const w=((zu=(Wu=globalThis.browser)==null?void 0:Wu.runtime)==null?void 0:zu.id)==null?globalThis.chrome:globalThis.browser,Q="api.premid.app",et="",yi=["Disney+","Netflix","SoundCloud","Twitch","YouTube","YouTube Music"];async function tt(){return location.pathname==="/background.js"}var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function re(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var Qu=Object.prototype;function Zu(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Qu;return e===n}var on=Zu;function Ju(e,t){return function(n){return e(t(n))}}var Zr=Ju,ed=Zr,td=ed(Object.keys,Object),nd=td,id=on,rd=nd,ad=Object.prototype,sd=ad.hasOwnProperty;function od(e){if(!id(e))return rd(e);var t=[];for(var n in Object(e))sd.call(e,n)&&n!="constructor"&&t.push(n);return t}var Jr=od,cd=typeof S=="object"&&S&&S.Object===Object&&S,ea=cd,ld=ea,ud=typeof self=="object"&&self&&self.Object===Object&&self,dd=ld||ud||Function("return this")(),we=dd,fd=we,hd=fd.Symbol,it=hd,ta=it,na=Object.prototype,md=na.hasOwnProperty,pd=na.toString,St=ta?ta.toStringTag:void 0;function gd(e){var t=md.call(e,St),n=e[St];try{e[St]=void 0;var i=!0}catch{}var r=pd.call(e);return i&&(t?e[St]=n:delete e[St]),r}var vd=gd,xd=Object.prototype,bd=xd.toString;function yd(e){return bd.call(e)}var _d=yd,ia=it,$d=vd,Id=_d,wd="[object Null]",Ad="[object Undefined]",ra=ia?ia.toStringTag:void 0;function Td(e){return e==null?e===void 0?Ad:wd:ra&&ra in Object(e)?$d(e):Id(e)}var rt=Td;function Md(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Oe=Md,Pd=rt,Dd=Oe,kd="[object AsyncFunction]",Ld="[object Function]",Ed="[object GeneratorFunction]",Od="[object Proxy]";function Rd(e){if(!Dd(e))return!1;var t=Pd(e);return t==Ld||t==Ed||t==kd||t==Od}var aa=Rd,Cd=we,Ud=Cd["__core-js_shared__"],Fd=Ud,_i=Fd,sa=function(){var e=/[^.]+$/.exec(_i&&_i.keys&&_i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Sd(e){return!!sa&&sa in e}var Nd=Sd,Bd=Function.prototype,jd=Bd.toString;function Vd(e){if(e!=null){try{return jd.call(e)}catch{}try{return e+""}catch{}}return""}var oa=Vd,Gd=aa,Hd=Nd,qd=Oe,Wd=oa,zd=/[\\^$.*+?()[\]{}|]/g,Kd=/^\[object .+?Constructor\]$/,Yd=Function.prototype,Xd=Object.prototype,Qd=Yd.toString,Zd=Xd.hasOwnProperty,Jd=RegExp("^"+Qd.call(Zd).replace(zd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ef(e){if(!qd(e)||Hd(e))return!1;var t=Gd(e)?Jd:Kd;return t.test(Wd(e))}var tf=ef;function nf(e,t){return e==null?void 0:e[t]}var rf=nf,af=tf,sf=rf;function of(e,t){var n=sf(e,t);return af(n)?n:void 0}var Be=of,cf=Be,lf=we,uf=cf(lf,"DataView"),df=uf,ff=Be,hf=we,mf=ff(hf,"Map"),$i=mf,pf=Be,gf=we,vf=pf(gf,"Promise"),xf=vf,bf=Be,yf=we,_f=bf(yf,"Set"),$f=_f,If=Be,wf=we,Af=If(wf,"WeakMap"),Tf=Af,Ii=df,wi=$i,Ai=xf,Ti=$f,Mi=Tf,ca=rt,at=oa,la="[object Map]",Mf="[object Object]",ua="[object Promise]",da="[object Set]",fa="[object WeakMap]",ha="[object DataView]",Pf=at(Ii),Df=at(wi),kf=at(Ai),Lf=at(Ti),Ef=at(Mi),je=ca;(Ii&&je(new Ii(new ArrayBuffer(1)))!=ha||wi&&je(new wi)!=la||Ai&&je(Ai.resolve())!=ua||Ti&&je(new Ti)!=da||Mi&&je(new Mi)!=fa)&&(je=function(e){var t=ca(e),n=t==Mf?e.constructor:void 0,i=n?at(n):"";if(i)switch(i){case Pf:return ha;case Df:return la;case kf:return ua;case Lf:return da;case Ef:return fa}return t});var Nt=je;function Of(e){return e!=null&&typeof e=="object"}var De=Of,Rf=rt,Cf=De,Uf="[object Arguments]";function Ff(e){return Cf(e)&&Rf(e)==Uf}var Sf=Ff,ma=Sf,Nf=De,pa=Object.prototype,Bf=pa.hasOwnProperty,jf=pa.propertyIsEnumerable,Vf=ma(function(){return arguments}())?ma:function(e){return Nf(e)&&Bf.call(e,"callee")&&!jf.call(e,"callee")},cn=Vf,Gf=Array.isArray,ge=Gf,Hf=9007199254740991;function qf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Hf}var Pi=qf,Wf=aa,zf=Pi;function Kf(e){return e!=null&&zf(e.length)&&!Wf(e)}var st=Kf,ln={exports:{}};function Yf(){return!1}var Xf=Yf;ln.exports,function(e,t){var n=we,i=Xf,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s?n.Buffer:void 0,c=o?o.isBuffer:void 0,l=c||i;e.exports=l}(ln,ln.exports);var un=ln.exports,Qf=rt,Zf=Pi,Jf=De,eh="[object Arguments]",th="[object Array]",nh="[object Boolean]",ih="[object Date]",rh="[object Error]",ah="[object Function]",sh="[object Map]",oh="[object Number]",ch="[object Object]",lh="[object RegExp]",uh="[object Set]",dh="[object String]",fh="[object WeakMap]",hh="[object ArrayBuffer]",mh="[object DataView]",ph="[object Float32Array]",gh="[object Float64Array]",vh="[object Int8Array]",xh="[object Int16Array]",bh="[object Int32Array]",yh="[object Uint8Array]",_h="[object Uint8ClampedArray]",$h="[object Uint16Array]",Ih="[object Uint32Array]",Y={};Y[ph]=Y[gh]=Y[vh]=Y[xh]=Y[bh]=Y[yh]=Y[_h]=Y[$h]=Y[Ih]=!0,Y[eh]=Y[th]=Y[hh]=Y[nh]=Y[mh]=Y[ih]=Y[rh]=Y[ah]=Y[sh]=Y[oh]=Y[ch]=Y[lh]=Y[uh]=Y[dh]=Y[fh]=!1;function wh(e){return Jf(e)&&Zf(e.length)&&!!Y[Qf(e)]}var Ah=wh;function Th(e){return function(t){return e(t)}}var dn=Th,fn={exports:{}};fn.exports,function(e,t){var n=ea,i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===i,s=a&&n.process,o=function(){try{var c=r&&r.require&&r.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(fn,fn.exports);var Di=fn.exports,Mh=Ah,Ph=dn,ga=Di,va=ga&&ga.isTypedArray,Dh=va?Ph(va):Mh,ki=Dh,kh=Jr,Lh=Nt,Eh=cn,Oh=ge,Rh=st,Ch=un,Uh=on,Fh=ki,Sh="[object Map]",Nh="[object Set]",Bh=Object.prototype,jh=Bh.hasOwnProperty;function Vh(e){if(e==null)return!0;if(Rh(e)&&(Oh(e)||typeof e=="string"||typeof e.splice=="function"||Ch(e)||Fh(e)||Eh(e)))return!e.length;var t=Lh(e);if(t==Sh||t==Nh)return!e.size;if(Uh(e))return!kh(e).length;for(var n in e)if(jh.call(e,n))return!1;return!0}var Gh=Vh;const Hh=re(Gh);var xa=Object.prototype.hasOwnProperty;function Li(e,t){var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Li(e[i],t[i]););return i===-1}if(!n||typeof e=="object"){i=0;for(n in e)if(xa.call(e,n)&&++i&&!xa.call(t,n)||!(n in t)||!Li(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function hn(e,...t){}const mn={debug:(...e)=>hn(console.debug,...e),log:(...e)=>hn(console.log,...e),warn:(...e)=>hn(console.warn,...e),error:(...e)=>hn(console.error,...e)};function qh(e){return Array.isArray(e)?e:[e]}const Wh=new Error("request for lock canceled");var zh=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?a(u.value):r(u.value).then(o,c)}l((i=i.apply(e,t||[])).next())})};class Kh{constructor(t,n=Wh){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((i,r)=>{const a={resolve:i,reject:r,weight:t,priority:n},s=ba(this._queue,o=>n<=o.priority);s===-1&&t<=this._value?this._dispatchItem(a):this._queue.splice(s+1,0,a)})}runExclusive(t){return zh(this,arguments,void 0,function*(n,i=1,r=0){const[a,s]=yield this.acquire(i,r);try{return yield n(a)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(i=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),Yh(this._weightedWaiters[t-1],{resolve:i,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(i=>i.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const i=this._weightedWaiters[n-1];if(!i)continue;const r=i.findIndex(a=>a.priority<=t);(r===-1?i:i.splice(0,r)).forEach(a=>a.resolve())}}}_couldLockImmediately(t,n){return(this._queue.length===0||this._queue[0].priority<n)&&t<=this._value}}function Yh(e,t){const n=ba(e,i=>t.priority<=i.priority);e.splice(n+1,0,t)}function ba(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}var Xh=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?a(u.value):r(u.value).then(o,c)}l((i=i.apply(e,t||[])).next())})};class Qh{constructor(t){this._semaphore=new Kh(1,t)}acquire(){return Xh(this,arguments,void 0,function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n})}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const te=Zh();function Zh(){const e={local:pn("local"),session:pn("session"),sync:pn("sync"),managed:pn("managed")},t=f=>{const v=e[f];if(v==null){const g=Object.keys(e).join(", ");throw Error(`Invalid area "${f}". Options: ${g}`)}return v},n=f=>{const v=f.indexOf(":"),g=f.substring(0,v),x=f.substring(v+1);if(x==null)throw Error(`Storage key should be in the form of "area:key", but received "${f}"`);return{driverArea:g,driverKey:x,driver:t(g)}},i=f=>f+"$",r=(f,v)=>f??v??null,a=f=>typeof f=="object"&&!Array.isArray(f)?f:{},s=async(f,v,g)=>{const x=await f.getItem(v);return r(x,(g==null?void 0:g.fallback)??(g==null?void 0:g.defaultValue))},o=async(f,v)=>{const g=i(v),x=await f.getItem(g);return a(x)},c=async(f,v,g)=>{await f.setItem(v,g??null)},l=async(f,v,g)=>{const x=i(v),_={...a(await f.getItem(x))};Object.entries(g).forEach(([C,L])=>{L==null?delete _[C]:_[C]=L}),await f.setItem(x,_)},u=async(f,v,g)=>{if(await f.removeItem(v),g!=null&&g.removeMeta){const x=i(v);await f.removeItem(x)}},d=async(f,v,g)=>{const x=i(v);if(g==null)await f.removeItem(x);else{const T=a(await f.getItem(x));qh(g).forEach(_=>delete T[_]),await f.setItem(x,T)}},m=(f,v,g)=>f.watch(v,g);return{getItem:async(f,v)=>{const{driver:g,driverKey:x}=n(f);return await s(g,x,v)},getItems:async f=>{const v=new Map,g=new Map;return f.forEach(T=>{let _,C;typeof T=="string"?_=T:(_=T.key,C=T.options);const{driverArea:L,driverKey:X}=n(_),K=v.get(L)??[];v.set(L,K.concat(X)),g.set(_,C)}),(await Promise.all(Array.from(v.entries()).map(async([T,_])=>(await e[T].getItems(_)).map(L=>{const X=`${T}:${L.key}`,K=g.get(X),he=r(L.value,(K==null?void 0:K.fallback)??(K==null?void 0:K.defaultValue));return{key:X,value:he}})))).flat()},getMeta:async f=>{const{driver:v,driverKey:g}=n(f);return await o(v,g)},setItem:async(f,v)=>{const{driver:g,driverKey:x}=n(f);await c(g,x,v)},setItems:async f=>{const v=new Map;f.forEach(({key:g,value:x})=>{const{driverArea:T,driverKey:_}=n(g),C=v.get(T)??[];v.set(T,C.concat({key:_,value:x}))}),await Promise.all(Array.from(v.entries()).map(async([g,x])=>{await t(g).setItems(x)}))},setMeta:async(f,v)=>{const{driver:g,driverKey:x}=n(f);await l(g,x,v)},removeItem:async(f,v)=>{const{driver:g,driverKey:x}=n(f);await u(g,x,v)},removeItems:async f=>{const v=new Map;f.forEach(g=>{let x,T;typeof g=="string"?x=g:(x=g.key,T=g.options);const{driverArea:_,driverKey:C}=n(x),L=v.get(_)??[];L.push(C),T!=null&&T.removeMeta&&L.push(i(C)),v.set(_,L)}),await Promise.all(Array.from(v.entries()).map(async([g,x])=>{await t(g).removeItems(x)}))},removeMeta:async(f,v)=>{const{driver:g,driverKey:x}=n(f);await d(g,x,v)},snapshot:async(f,v)=>{var T;const x=await t(f).snapshot();return(T=v==null?void 0:v.excludeKeys)==null||T.forEach(_=>{delete x[_],delete x[i(_)]}),x},restoreSnapshot:async(f,v)=>{await t(f).restoreSnapshot(v)},watch:(f,v)=>{const{driver:g,driverKey:x}=n(f);return m(g,x,v)},unwatch(){Object.values(e).forEach(f=>{f.unwatch()})},defineItem:(f,v)=>{const{driver:g,driverKey:x}=n(f),{version:T=1,migrations:_={}}=v??{};if(T<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const C=async()=>{var I;const Z=i(x),[{value:Ee},{value:Ne}]=await g.getItems([x,Z]);if(Ee==null)return;const Je=(Ne==null?void 0:Ne.v)??1;if(Je>T)throw Error(`Version downgrade detected (v${Je} -> v${T}) for "${f}"`);mn.debug(`Running storage migration for ${f}: v${Je} -> v${T}`);const Kr=Array.from({length:T-Je},(E,D)=>Je+D+1);let A=Ee;for(const E of Kr)A=await((I=_==null?void 0:_[E])==null?void 0:I.call(_,A))??A;await g.setItems([{key:x,value:A},{key:Z,value:{...Ne,v:T}}]),mn.debug(`Storage migration completed for ${f} v${T}`,{migratedValue:A})},L=(v==null?void 0:v.migrations)==null?Promise.resolve():C().catch(Z=>{mn.error(`Migration failed for ${f}`,Z)}),X=new Qh,K=()=>(v==null?void 0:v.fallback)??(v==null?void 0:v.defaultValue)??null,he=()=>X.runExclusive(async()=>{const Z=await g.getItem(x);if(Z!=null||(v==null?void 0:v.init)==null)return Z;const Ee=await v.init();return await g.setItem(x,Ee),Ee});return L.then(he),{get defaultValue(){return K()},get fallback(){return K()},getValue:async()=>(await L,v!=null&&v.init?await he():await s(g,x,v)),getMeta:async()=>(await L,await o(g,x)),setValue:async Z=>(await L,await c(g,x,Z)),setMeta:async Z=>(await L,await l(g,x,Z)),removeValue:async Z=>(await L,await u(g,x,Z)),removeMeta:async Z=>(await L,await d(g,x,Z)),watch:Z=>m(g,x,(Ee,Ne)=>Z(Ee??K(),Ne??K())),migrate:C}}}}function pn(e){const t=()=>{if(w.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(w.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const i=w.storage[e];if(i==null)throw Error(`"browser.storage.${e}" is undefined`);return i},n=new Set;return{getItem:async i=>(await t().get(i))[i],getItems:async i=>{const r=await t().get(i);return i.map(a=>({key:a,value:r[a]??null}))},setItem:async(i,r)=>{r==null?await t().remove(i):await t().set({[i]:r})},setItems:async i=>{const r=i.reduce((a,{key:s,value:o})=>(a[s]=o,a),{});await t().set(r)},removeItem:async i=>{await t().remove(i)},removeItems:async i=>{await t().remove(i)},snapshot:async()=>await t().get(),restoreSnapshot:async i=>{await t().set(i)},watch(i,r){const a=s=>{const o=s[i];o!=null&&(Li(o.newValue,o.oldValue)||r(o.newValue??null,o.oldValue??null))};return t().onChanged.addListener(a),n.add(a),()=>{t().onChanged.removeListener(a),n.delete(a)}},unwatch(){n.forEach(i=>{t().onChanged.removeListener(i)}),n.clear()}}}te.defineItem("local:commitHash",{defaultValue:"510865a"});const Jh=te.defineItem("local:show",{defaultValue:!0}),Bt=te.defineItem("local:activityToken",{defaultValue:null}),jt=te.defineItem("local:discordUser",{defaultValue:null}),le=te.defineItem("local:settings",{defaultValue:{language:void 0,presencesLanguage:void 0,usePlayingStatus:!1,enabled:!0,syncLanguage:!0,heartbeat:!0,choosenCategory:"all",preferApp:!1}});te.defineItem("local:appVersion",{defaultValue:null}),te.defineItem("local:connected",{defaultValue:!1});const Ei=te.defineItem("local:availableLanguages",{defaultValue:[{direction:"ltr",lang:"en-US",nativeName:"English, United States"}]});te.defineItem("local:lastWhatsNew",{defaultValue:null});const Oi=te.defineItem("local:lastVersion",{defaultValue:null});te.defineItem("local:currentPresence",{defaultValue:null});const de=te.defineItem("local:oauth2",{defaultValue:null}),Ve=te.defineItem("local:enabledPresences",{defaultValue:[]}),Ge=te.defineItem("local:addedPresences",{defaultValue:null}),ya=te.defineItem("local:strings",{defaultValue:{}}),_a=te.defineItem("local:generalStrings",{defaultValue:{}});te.defineItem("local:acked260Issues",{fallback:!1,version:1});function e0(e){return te.removeItems([`local:presence_${e}`,`local:${e}_settings`,`local:${e}_availableLanguages`,`local:${e}_strings`,`local:${e}_changedLanguage`])}async function t0(){let e=await te.getItem("local:scienceId");return e||(e=crypto.randomUUID(),await te.setItem("local:scienceId",e),e)}async function n0(e){var r,a,s;const t=rn.extend("Migrator"),n=await w.storage.local.get(null),i=await w.storage.sync.get(null);if(Hh(i)||(t("Migrating user settings from sync storage"),await le.setValue({usePlayingStatus:!1,enabled:((r=i.settings.enabled)==null?void 0:r.value)||!0,language:e.languageManager.determineDefaultLanguage().lang,presencesLanguage:e.languageManager.determineDefaultLanguage().lang,syncLanguage:!0,heartbeat:!0,choosenCategory:"all",preferApp:!1}),await w.storage.sync.clear()),!!n.lastVersion){if(t("Migrating from %s to %s",n.lastVersion,w.runtime.getManifest().version),n.presences){t("Adding %o",n.presences.map(o=>o.metadata.service)),await e.presenceManager.add(...n.presences.map(o=>o.metadata.service));for(const o of n.presences)t("Setting %s to %s",o.metadata.service,o.enabled?"enabled":"disabled"),await e.presenceManager.setEnabled(o.metadata.service,o.enabled);for(const o of Object.keys(n).filter(c=>c.startsWith("pSettings_"))){for(const c of n[o]){const l=o.replace("pSettings_","");if(c.id!=="lang")t("Setting %s.%s to %s",l,c.id,c.value),await e.presenceManager.setSetting(l,c.id,c.value);else if(c.value){const u=await e.presenceManager.getSettingObject(l,c.id);if(u&&u.value!==c.value){const d=((a=u.values)==null?void 0:a.find(m=>(m==null?void 0:m.value)===c.value))??((s=u.values)==null?void 0:s.find(m=>{var p;return(p=m==null?void 0:m.value)==null?void 0:p.toString().startsWith(c.value)}));d!=null&&d.value&&(t("Setting %s.%s to %s",l,c.id,d.value),await e.presenceManager.setSetting(l,c.id,d.value),e.storageManager.set("local",{[`${l}_changedLanguage`]:!0}))}}}await w.storage.local.remove(o)}}await w.storage.local.remove(["connected","defaultAdded","discordUser","presences","languages"]),t("DONE!")}}async function Ri(){if(!await tt())return;const{enabled:e}=await le.getValue(),t=await jt.getValue();w.action.setTitle({title:`PreMiD ${e?t?"":"Not linked":"DISABLED"}`}),w.action.setBadgeText({text:!e||!t?"!":""}),w.action.setBadgeBackgroundColor({color:e?t?[0,0,0,0]:"#ff5050":"#aaaaaa"})}var Ci={exports:{}},Ui,$a;function i0(){if($a)return Ui;$a=1;var e=1e3,t=e*60,n=t*60,i=n*24,r=i*7,a=i*365.25;Ui=function(u,d){d=d||{};var m=typeof u;if(m==="string"&&u.length>0)return s(u);if(m==="number"&&isFinite(u))return d.long?c(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var m=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return m*a;case"weeks":case"week":case"w":return m*r;case"days":case"day":case"d":return m*i;case"hours":case"hour":case"hrs":case"hr":case"h":return m*n;case"minutes":case"minute":case"mins":case"min":case"m":return m*t;case"seconds":case"second":case"secs":case"sec":case"s":return m*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function o(u){var d=Math.abs(u);return d>=i?Math.round(u/i)+"d":d>=n?Math.round(u/n)+"h":d>=t?Math.round(u/t)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function c(u){var d=Math.abs(u);return d>=i?l(u,d,i,"day"):d>=n?l(u,d,n,"hour"):d>=t?l(u,d,t,"minute"):d>=e?l(u,d,e,"second"):u+" ms"}function l(u,d,m,p){var f=d>=m*1.5;return Math.round(u/m)+" "+p+(f?"s":"")}return Ui}function r0(e){n.debug=n,n.default=n,n.coerce=c,n.disable=a,n.enable=r,n.enabled=s,n.humanize=i0(),n.destroy=l,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let d=0;for(let m=0;m<u.length;m++)d=(d<<5)-d+u.charCodeAt(m),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){let d,m=null,p,f;function v(...g){if(!v.enabled)return;const x=v,T=Number(new Date),_=T-(d||T);x.diff=_,x.prev=d,x.curr=T,d=T,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let C=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(X,K)=>{if(X==="%%")return"%";C++;const he=n.formatters[K];if(typeof he=="function"){const Z=g[C];X=he.call(x,Z),g.splice(C,1),C--}return X}),n.formatArgs.call(x,g),(x.log||n.log).apply(x,g)}return v.namespace=u,v.useColors=n.useColors(),v.color=n.selectColor(u),v.extend=i,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(p!==n.namespaces&&(p=n.namespaces,f=n.enabled(u)),f),set:g=>{m=g}}),typeof n.init=="function"&&n.init(v),v}function i(u,d){const m=n(this.namespace+(typeof d>"u"?":":d)+u);return m.log=this.log,m}function r(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const m=(typeof u=="string"?u:"").split(/[\s,]+/),p=m.length;for(d=0;d<p;d++)m[d]&&(u=m[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function a(){const u=[...n.names.map(o),...n.skips.map(o).map(d=>"-"+d)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,m;for(d=0,m=n.skips.length;d<m;d++)if(n.skips[d].test(u))return!1;for(d=0,m=n.names.length;d<m;d++)if(n.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var a0=r0;(function(e,t){t.formatArgs=i,t.save=r,t.load=a,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,d=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(u++,m==="%c"&&(d=u))}),c.splice(d,0,l)}t.log=console.debug||console.log||(()=>{});function r(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function a(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=a0(t);const{formatters:o}=e.exports;o.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(Ci,Ci.exports);var s0=Ci.exports;const Ia=re(s0);var Fi={exports:{}};const o0="2.0.0",wa=256,c0=Number.MAX_SAFE_INTEGER||9007199254740991,l0=16,u0=wa-6;var gn={MAX_LENGTH:wa,MAX_SAFE_COMPONENT_LENGTH:l0,MAX_SAFE_BUILD_LENGTH:u0,MAX_SAFE_INTEGER:c0,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:o0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},vn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=gn,a=vn;t=e.exports={};const s=t.re=[],o=t.safeRe=[],c=t.src=[],l=t.t={};let u=0;const d="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",r],[d,i]],p=v=>{for(const[g,x]of m)v=v.split(`${g}*`).join(`${g}{0,${x}}`).split(`${g}+`).join(`${g}{1,${x}}`);return v},f=(v,g,x)=>{const T=p(g),_=u++;a(v,_,g),l[v]=_,c[_]=g,s[_]=new RegExp(g,x?"g":void 0),o[_]=new RegExp(T,x?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),f("FULL",`^${c[l.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),f("LOOSE",`^${c[l.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),f("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[l.COERCE],!0),f("COERCERTLFULL",c[l.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Fi,Fi.exports);var Vt=Fi.exports;const d0=Object.freeze({loose:!0}),f0=Object.freeze({});var Si=e=>e?typeof e!="object"?d0:e:f0;const Aa=/^[0-9]+$/,Ta=(e,t)=>{const n=Aa.test(e),i=Aa.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1};var Ma={compareIdentifiers:Ta,rcompareIdentifiers:(e,t)=>Ta(t,e)};const xn=vn,{MAX_LENGTH:Pa,MAX_SAFE_INTEGER:bn}=gn,{safeRe:Da,t:ka}=Vt,h0=Si,{compareIdentifiers:ot}=Ma;var oe=class Pe{constructor(t,n){if(n=h0(n),t instanceof Pe){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Pa)throw new TypeError(`version is longer than ${Pa} characters`);xn("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const i=t.trim().match(n.loose?Da[ka.LOOSE]:Da[ka.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>bn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bn||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){const a=+r;if(a>=0&&a<bn)return a}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(xn("SemVer.compare",this.version,this.options,t),!(t instanceof Pe)){if(typeof t=="string"&&t===this.version)return 0;t=new Pe(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Pe||(t=new Pe(t,this.options)),ot(this.major,t.major)||ot(this.minor,t.minor)||ot(this.patch,t.patch)}comparePre(t){if(t instanceof Pe||(t=new Pe(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const i=this.prerelease[n],r=t.prerelease[n];if(xn("prerelease compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return ot(i,r)}while(++n)}compareBuild(t){t instanceof Pe||(t=new Pe(t,this.options));let n=0;do{const i=this.build[n],r=t.build[n];if(xn("build compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return ot(i,r)}while(++n)}inc(t,n,i){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const r=Number(i)?1:0;if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[r];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(n){let a=[n,r];i===!1&&(a=[n]),ot(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const La=oe;var ct=(e,t,n=!1)=>{if(e instanceof La)return e;try{return new La(e,t)}catch(i){if(!n)return null;throw i}};const m0=ct;var p0=(e,t)=>{const n=m0(e,t);return n?n.version:null};const g0=ct;var v0=(e,t)=>{const n=g0(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};const Ea=oe;var x0=(e,t,n,i,r)=>{typeof n=="string"&&(r=i,i=n,n=void 0);try{return new Ea(e instanceof Ea?e.version:e,n).inc(t,i,r).version}catch{return null}};const Oa=ct;var b0=(e,t)=>{const n=Oa(e,null,!0),i=Oa(t,null,!0),r=n.compare(i);if(r===0)return null;const a=r>0,s=a?n:i,o=a?i:n,c=!!s.prerelease.length;if(!!o.prerelease.length&&!c)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"};const y0=oe;var _0=(e,t)=>new y0(e,t).major;const $0=oe;var I0=(e,t)=>new $0(e,t).minor;const w0=oe;var A0=(e,t)=>new w0(e,t).patch;const T0=ct;var M0=(e,t)=>{const n=T0(e,t);return n&&n.prerelease.length?n.prerelease:null};const Ra=oe;var _e=(e,t,n)=>new Ra(e,n).compare(new Ra(t,n));const P0=_e;var D0=(e,t,n)=>P0(t,e,n);const k0=_e;var L0=(e,t)=>k0(e,t,!0);const Ca=oe;var Ni=(e,t,n)=>{const i=new Ca(e,n),r=new Ca(t,n);return i.compare(r)||i.compareBuild(r)};const E0=Ni;var O0=(e,t)=>e.sort((n,i)=>E0(n,i,t));const R0=Ni;var C0=(e,t)=>e.sort((n,i)=>R0(i,n,t));const U0=_e;var yn=(e,t,n)=>U0(e,t,n)>0;const F0=_e;var Bi=(e,t,n)=>F0(e,t,n)<0;const S0=_e;var Ua=(e,t,n)=>S0(e,t,n)===0;const N0=_e;var Fa=(e,t,n)=>N0(e,t,n)!==0;const B0=_e;var ji=(e,t,n)=>B0(e,t,n)>=0;const j0=_e;var Vi=(e,t,n)=>j0(e,t,n)<=0;const V0=Ua,G0=Fa,H0=yn,q0=ji,W0=Bi,z0=Vi;var Sa=(e,t,n,i)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return V0(e,n,i);case"!=":return G0(e,n,i);case">":return H0(e,n,i);case">=":return q0(e,n,i);case"<":return W0(e,n,i);case"<=":return z0(e,n,i);default:throw new TypeError(`Invalid operator: ${t}`)}};const K0=oe,Y0=ct,{safeRe:_n,t:$n}=Vt;var X0=(e,t)=>{if(e instanceof K0)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?_n[$n.COERCEFULL]:_n[$n.COERCE]);else{const c=t.includePrerelease?_n[$n.COERCERTLFULL]:_n[$n.COERCERTL];let l;for(;(l=c.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;const i=n[2],r=n[3]||"0",a=n[4]||"0",s=t.includePrerelease&&n[5]?`-${n[5]}`:"",o=t.includePrerelease&&n[6]?`+${n[6]}`:"";return Y0(`${i}.${r}.${a}${s}${o}`,t)};class Q0{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(t,n)}return this}}var Z0=Q0,Gi,Na;function $e(){if(Na)return Gi;Na=1;const e=/\s+/g;class t{constructor(I,E){if(E=r(E),I instanceof t)return I.loose===!!E.loose&&I.includePrerelease===!!E.includePrerelease?I:new t(I.raw,E);if(I instanceof a)return this.raw=I.value,this.set=[[I]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=I.trim().replace(e," "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(R=>!v(R[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const R of this.set)if(R.length===1&&g(R[0])){this.set=[R];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let I=0;I<this.set.length;I++){I>0&&(this.formatted+="||");const E=this.set[I];for(let D=0;D<E.length;D++)D>0&&(this.formatted+=" "),this.formatted+=E[D].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(I){const D=((this.options.includePrerelease&&p)|(this.options.loose&&f))+":"+I,R=i.get(D);if(R)return R;const k=this.options.loose,F=k?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];I=I.replace(F,Je(this.options.includePrerelease)),s("hyphen replace",I),I=I.replace(c[l.COMPARATORTRIM],u),s("comparator trim",I),I=I.replace(c[l.TILDETRIM],d),s("tilde trim",I),I=I.replace(c[l.CARETTRIM],m),s("caret trim",I);let H=I.split(" ").map(ie=>T(ie,this.options)).join(" ").split(/\s+/).map(ie=>Ne(ie,this.options));k&&(H=H.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(c[l.COMPARATORLOOSE])))),s("range list",H);const B=new Map,J=H.map(ie=>new a(ie,this.options));for(const ie of J){if(v(ie))return[ie];B.set(ie.value,ie)}B.size>1&&B.has("")&&B.delete("");const me=[...B.values()];return i.set(D,me),me}intersects(I,E){if(!(I instanceof t))throw new TypeError("a Range is required");return this.set.some(D=>x(D,E)&&I.set.some(R=>x(R,E)&&D.every(k=>R.every(F=>k.intersects(F,E)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new o(I,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(Kr(this.set[E],I,this.options))return!0;return!1}}Gi=t;const n=Z0,i=new n,r=Si,a=In(),s=vn,o=oe,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:m}=Vt,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:f}=gn,v=A=>A.value==="<0.0.0-0",g=A=>A.value==="",x=(A,I)=>{let E=!0;const D=A.slice();let R=D.pop();for(;E&&D.length;)E=D.every(k=>R.intersects(k,I)),R=D.pop();return E},T=(A,I)=>(s("comp",A,I),A=X(A,I),s("caret",A),A=C(A,I),s("tildes",A),A=he(A,I),s("xrange",A),A=Ee(A,I),s("stars",A),A),_=A=>!A||A.toLowerCase()==="x"||A==="*",C=(A,I)=>A.trim().split(/\s+/).map(E=>L(E,I)).join(" "),L=(A,I)=>{const E=I.loose?c[l.TILDELOOSE]:c[l.TILDE];return A.replace(E,(D,R,k,F,H)=>{s("tilde",A,D,R,k,F,H);let B;return _(R)?B="":_(k)?B=`>=${R}.0.0 <${+R+1}.0.0-0`:_(F)?B=`>=${R}.${k}.0 <${R}.${+k+1}.0-0`:H?(s("replaceTilde pr",H),B=`>=${R}.${k}.${F}-${H} <${R}.${+k+1}.0-0`):B=`>=${R}.${k}.${F} <${R}.${+k+1}.0-0`,s("tilde return",B),B})},X=(A,I)=>A.trim().split(/\s+/).map(E=>K(E,I)).join(" "),K=(A,I)=>{s("caret",A,I);const E=I.loose?c[l.CARETLOOSE]:c[l.CARET],D=I.includePrerelease?"-0":"";return A.replace(E,(R,k,F,H,B)=>{s("caret",A,R,k,F,H,B);let J;return _(k)?J="":_(F)?J=`>=${k}.0.0${D} <${+k+1}.0.0-0`:_(H)?k==="0"?J=`>=${k}.${F}.0${D} <${k}.${+F+1}.0-0`:J=`>=${k}.${F}.0${D} <${+k+1}.0.0-0`:B?(s("replaceCaret pr",B),k==="0"?F==="0"?J=`>=${k}.${F}.${H}-${B} <${k}.${F}.${+H+1}-0`:J=`>=${k}.${F}.${H}-${B} <${k}.${+F+1}.0-0`:J=`>=${k}.${F}.${H}-${B} <${+k+1}.0.0-0`):(s("no pr"),k==="0"?F==="0"?J=`>=${k}.${F}.${H}${D} <${k}.${F}.${+H+1}-0`:J=`>=${k}.${F}.${H}${D} <${k}.${+F+1}.0-0`:J=`>=${k}.${F}.${H} <${+k+1}.0.0-0`),s("caret return",J),J})},he=(A,I)=>(s("replaceXRanges",A,I),A.split(/\s+/).map(E=>Z(E,I)).join(" ")),Z=(A,I)=>{A=A.trim();const E=I.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return A.replace(E,(D,R,k,F,H,B)=>{s("xRange",A,D,R,k,F,H,B);const J=_(k),me=J||_(F),ie=me||_(H),sn=ie;return R==="="&&sn&&(R=""),B=I.includePrerelease?"-0":"",J?R===">"||R==="<"?D="<0.0.0-0":D="*":R&&sn?(me&&(F=0),H=0,R===">"?(R=">=",me?(k=+k+1,F=0,H=0):(F=+F+1,H=0)):R==="<="&&(R="<",me?k=+k+1:F=+F+1),R==="<"&&(B="-0"),D=`${R+k}.${F}.${H}${B}`):me?D=`>=${k}.0.0${B} <${+k+1}.0.0-0`:ie&&(D=`>=${k}.${F}.0${B} <${k}.${+F+1}.0-0`),s("xRange return",D),D})},Ee=(A,I)=>(s("replaceStars",A,I),A.trim().replace(c[l.STAR],"")),Ne=(A,I)=>(s("replaceGTE0",A,I),A.trim().replace(c[I.includePrerelease?l.GTE0PRE:l.GTE0],"")),Je=A=>(I,E,D,R,k,F,H,B,J,me,ie,sn)=>(_(D)?E="":_(R)?E=`>=${D}.0.0${A?"-0":""}`:_(k)?E=`>=${D}.${R}.0${A?"-0":""}`:F?E=`>=${E}`:E=`>=${E}${A?"-0":""}`,_(J)?B="":_(me)?B=`<${+J+1}.0.0-0`:_(ie)?B=`<${J}.${+me+1}.0-0`:sn?B=`<=${J}.${me}.${ie}-${sn}`:A?B=`<${J}.${me}.${+ie+1}-0`:B=`<=${B}`,`${E} ${B}`.trim()),Kr=(A,I,E)=>{for(let D=0;D<A.length;D++)if(!A[D].test(I))return!1;if(I.prerelease.length&&!E.includePrerelease){for(let D=0;D<A.length;D++)if(s(A[D].semver),A[D].semver!==a.ANY&&A[D].semver.prerelease.length>0){const R=A[D].semver;if(R.major===I.major&&R.minor===I.minor&&R.patch===I.patch)return!0}return!1}return!0};return Gi}var Hi,Ba;function In(){if(Ba)return Hi;Ba=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,d){if(d=n(d),u instanceof t){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const d=this.options.loose?i[r.COMPARATORLOOSE]:i[r.COMPARATOR],m=u.match(d);if(!m)throw new TypeError(`Invalid comparator: ${u}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new o(m[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,d).test(u.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||a(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||a(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Hi=t;const n=Si,{safeRe:i,t:r}=Vt,a=Sa,s=vn,o=oe,c=$e();return Hi}const J0=$e();var wn=(e,t,n)=>{try{t=new J0(t,n)}catch{return!1}return t.test(e)};const em=$e();var tm=(e,t)=>new em(e,t).set.map(n=>n.map(i=>i.value).join(" ").trim().split(" "));const nm=oe,im=$e();var rm=(e,t,n)=>{let i=null,r=null,a=null;try{a=new im(t,n)}catch{return null}return e.forEach(s=>{a.test(s)&&(!i||r.compare(s)===-1)&&(i=s,r=new nm(i,n))}),i};const am=oe,sm=$e();var om=(e,t,n)=>{let i=null,r=null,a=null;try{a=new sm(t,n)}catch{return null}return e.forEach(s=>{a.test(s)&&(!i||r.compare(s)===1)&&(i=s,r=new am(i,n))}),i};const qi=oe,cm=$e(),ja=yn;var lm=(e,t)=>{e=new cm(e,t);let n=new qi("0.0.0");if(e.test(n)||(n=new qi("0.0.0-0"),e.test(n)))return n;n=null;for(let i=0;i<e.set.length;++i){const r=e.set[i];let a=null;r.forEach(s=>{const o=new qi(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||ja(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!n||ja(n,a))&&(n=a)}return n&&e.test(n)?n:null};const um=$e();var dm=(e,t)=>{try{return new um(e,t).range||"*"}catch{return null}};const fm=oe,Va=In(),{ANY:hm}=Va,mm=$e(),pm=wn,Ga=yn,Ha=Bi,gm=Vi,vm=ji;var Wi=(e,t,n,i)=>{e=new fm(e,i),t=new mm(t,i);let r,a,s,o,c;switch(n){case">":r=Ga,a=gm,s=Ha,o=">",c=">=";break;case"<":r=Ha,a=vm,s=Ga,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pm(e,t,i))return!1;for(let l=0;l<t.set.length;++l){const u=t.set[l];let d=null,m=null;if(u.forEach(p=>{p.semver===hm&&(p=new Va(">=0.0.0")),d=d||p,m=m||p,r(p.semver,d.semver,i)?d=p:s(p.semver,m.semver,i)&&(m=p)}),d.operator===o||d.operator===c||(!m.operator||m.operator===o)&&a(e,m.semver))return!1;if(m.operator===c&&s(e,m.semver))return!1}return!0};const xm=Wi;var bm=(e,t,n)=>xm(e,t,">",n);const ym=Wi;var _m=(e,t,n)=>ym(e,t,"<",n);const qa=$e();var $m=(e,t,n)=>(e=new qa(e,n),t=new qa(t,n),e.intersects(t,n));const Im=wn,wm=_e;var Am=(e,t,n)=>{const i=[];let r=null,a=null;const s=e.sort((u,d)=>wm(u,d,n));for(const u of s)Im(u,t,n)?(a=u,r||(r=u)):(a&&i.push([r,a]),a=null,r=null);r&&i.push([r,null]);const o=[];for(const[u,d]of i)u===d?o.push(u):!d&&u===s[0]?o.push("*"):d?u===s[0]?o.push(`<=${d}`):o.push(`${u} - ${d}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t};const Wa=$e(),zi=In(),{ANY:Ki}=zi,Gt=wn,Yi=_e,Tm=(e,t,n={})=>{if(e===t)return!0;e=new Wa(e,n),t=new Wa(t,n);let i=!1;e:for(const r of e.set){for(const a of t.set){const s=Pm(r,a,n);if(i=i||s!==null,s)continue e}if(i)return!1}return!0},Mm=[new zi(">=0.0.0-0")],za=[new zi(">=0.0.0")],Pm=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Ki){if(t.length===1&&t[0].semver===Ki)return!0;n.includePrerelease?e=Mm:e=za}if(t.length===1&&t[0].semver===Ki){if(n.includePrerelease)return!0;t=za}const i=new Set;let r,a;for(const p of e)p.operator===">"||p.operator===">="?r=Ka(r,p,n):p.operator==="<"||p.operator==="<="?a=Ya(a,p,n):i.add(p.semver);if(i.size>1)return null;let s;if(r&&a){if(s=Yi(r.semver,a.semver,n),s>0)return null;if(s===0&&(r.operator!==">="||a.operator!=="<="))return null}for(const p of i){if(r&&!Gt(p,String(r),n)||a&&!Gt(p,String(a),n))return null;for(const f of t)if(!Gt(p,String(f),n))return!1;return!0}let o,c,l,u,d=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=r&&!n.includePrerelease&&r.semver.prerelease.length?r.semver:!1;d&&d.prerelease.length===1&&a.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const p of t){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",r){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(o=Ka(r,p,n),o===p&&o!==r)return!1}else if(r.operator===">="&&!Gt(r.semver,String(p),n))return!1}if(a){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=Ya(a,p,n),c===p&&c!==a)return!1}else if(a.operator==="<="&&!Gt(a.semver,String(p),n))return!1}if(!p.operator&&(a||r)&&s!==0)return!1}return!(r&&l&&!a&&s!==0||a&&u&&!r&&s!==0||m||d)},Ka=(e,t,n)=>{if(!e)return t;const i=Yi(e.semver,t.semver,n);return i>0?e:i<0||t.operator===">"&&e.operator===">="?t:e},Ya=(e,t,n)=>{if(!e)return t;const i=Yi(e.semver,t.semver,n);return i<0?e:i>0||t.operator==="<"&&e.operator==="<="?t:e};var Dm=Tm;const Xi=Vt,Xa=gn,km=oe,Qa=Ma,Lm=ct,Em=p0,Om=v0,Rm=x0,Cm=b0,Um=_0,Fm=I0,Sm=A0,Nm=M0,Bm=_e,jm=D0,Vm=L0,Gm=Ni,Hm=O0,qm=C0,Wm=yn,zm=Bi,Km=Ua,Ym=Fa,Xm=ji,Qm=Vi,Zm=Sa,Jm=X0,ep=In(),tp=$e();var An={parse:Lm,valid:Em,clean:Om,inc:Rm,diff:Cm,major:Um,minor:Fm,patch:Sm,prerelease:Nm,compare:Bm,rcompare:jm,compareLoose:Vm,compareBuild:Gm,sort:Hm,rsort:qm,gt:Wm,lt:zm,eq:Km,neq:Ym,gte:Xm,lte:Qm,cmp:Zm,coerce:Jm,Comparator:ep,Range:tp,satisfies:wn,toComparators:tm,maxSatisfying:rm,minSatisfying:om,minVersion:lm,validRange:dm,outside:Wi,gtr:bm,ltr:_m,intersects:$m,simplifyRange:Am,subset:Dm,SemVer:km,re:Xi.re,src:Xi.src,tokens:Xi.t,SEMVER_SPEC_VERSION:Xa.SEMVER_SPEC_VERSION,RELEASE_TYPES:Xa.RELEASE_TYPES,compareIdentifiers:Qa.compareIdentifiers,rcompareIdentifiers:Qa.rcompareIdentifiers};async function np(e,t){const n=await le.getValue();n[e]=t,await le.setValue(n)}function Tn(e,t){if(!!!e)throw new Error(t)}function ip(e){return typeof e=="object"&&e!==null}function rp(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const ap=/\r\n|[\n\r]/g;function Qi(e,t){let n=0,i=1;for(const r of e.body.matchAll(ap)){if(typeof r.index=="number"||rp(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function sp(e){return Za(e.source,Qi(e.source,e.start))}function Za(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,a=e.locationOffset.line-1,s=t.line+a,o=t.line===1?n:0,c=t.column+o,l=`${e.name}:${s}:${c}
`,u=i.split(/\r\n|[\n\r]/g),d=u[r];if(d.length>120){const m=Math.floor(c/80),p=c%80,f=[];for(let v=0;v<d.length;v+=80)f.push(d.slice(v,v+80));return l+Ja([[`${s} |`,f[0]],...f.slice(1,m+1).map(v=>["|",v]),["|","^".padStart(p)],["|",f[m+1]]])}return l+Ja([[`${s-1} |`,u[r-1]],[`${s} |`,d],["|","^".padStart(c)],[`${s+1} |`,u[r+1]]])}function Ja(e){const t=e.filter(([i,r])=>r!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,r])=>i.padStart(n)+(r?" "+r:"")).join(`
`)}function op(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Zi extends Error{constructor(t,...n){var i,r,a;const{nodes:s,source:o,positions:c,path:l,originalError:u,extensions:d}=op(n);super(t),this.name="GraphQLError",this.path=l??void 0,this.originalError=u??void 0,this.nodes=es(Array.isArray(s)?s:s?[s]:void 0);const m=es((i=this.nodes)===null||i===void 0?void 0:i.map(f=>f.loc).filter(f=>f!=null));this.source=o??(m==null||(r=m[0])===null||r===void 0?void 0:r.source),this.positions=c??(m==null?void 0:m.map(f=>f.start)),this.locations=c&&o?c.map(f=>Qi(o,f)):m==null?void 0:m.map(f=>Qi(f.source,f.start));const p=ip(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(a=d??p)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Zi):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+sp(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+Za(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function es(e){return e===void 0||e.length===0?void 0:e}function ae(e,t,n){return new Zi(`Syntax Error: ${n}`,{source:e,positions:[t]})}class cp{constructor(t,n,i){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class ts{constructor(t,n,i,r,a,s){this.kind=t,this.start=n,this.end=i,this.line=r,this.column=a,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ns={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},lp=new Set(Object.keys(ns));function is(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&lp.has(t)}var lt;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(lt||(lt={}));var Ji;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ji||(Ji={}));var O;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(O||(O={}));function er(e){return e===9||e===32}function Ht(e){return e>=48&&e<=57}function rs(e){return e>=97&&e<=122||e>=65&&e<=90}function as(e){return rs(e)||e===95}function up(e){return rs(e)||Ht(e)||e===95}function dp(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let s=0;s<e.length;++s){var a;const o=e[s],c=fp(o);c!==o.length&&(i=(a=i)!==null&&a!==void 0?a:s,r=s,s!==0&&c<n&&(n=c))}return e.map((s,o)=>o===0?s:s.slice(n)).slice((t=i)!==null&&t!==void 0?t:0,r+1)}function fp(e){let t=0;for(;t<e.length&&er(e.charCodeAt(t));)++t;return t}function hp(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=i.length===1,a=i.length>1&&i.slice(1).every(p=>p.length===0||er(p.charCodeAt(0))),s=n.endsWith('\\"""'),o=e.endsWith('"')&&!s,c=e.endsWith("\\"),l=o||c,u=!r||e.length>70||l||a||s;let d="";const m=r&&er(e.charCodeAt(0));return(u&&!m||a)&&(d+=`
`),d+=n,(u||l)&&(d+=`
`),'"""'+d+'"""'}var b;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(b||(b={}));class mp{constructor(t){const n=new ts(b.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==b.EOF)do if(t.next)t=t.next;else{const n=gp(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===b.COMMENT);return t}}function pp(e){return e===b.BANG||e===b.DOLLAR||e===b.AMP||e===b.PAREN_L||e===b.PAREN_R||e===b.SPREAD||e===b.COLON||e===b.EQUALS||e===b.AT||e===b.BRACKET_L||e===b.BRACKET_R||e===b.BRACE_L||e===b.PIPE||e===b.BRACE_R}function ut(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Mn(e,t){return ss(e.charCodeAt(t))&&os(e.charCodeAt(t+1))}function ss(e){return e>=55296&&e<=56319}function os(e){return e>=56320&&e<=57343}function He(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return b.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function ne(e,t,n,i,r){const a=e.line,s=1+n-e.lineStart;return new ts(t,n,i,a,s,r)}function gp(e,t){const n=e.source.body,i=n.length;let r=t;for(;r<i;){const a=n.charCodeAt(r);switch(a){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return vp(e,r);case 33:return ne(e,b.BANG,r,r+1);case 36:return ne(e,b.DOLLAR,r,r+1);case 38:return ne(e,b.AMP,r,r+1);case 40:return ne(e,b.PAREN_L,r,r+1);case 41:return ne(e,b.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return ne(e,b.SPREAD,r,r+3);break;case 58:return ne(e,b.COLON,r,r+1);case 61:return ne(e,b.EQUALS,r,r+1);case 64:return ne(e,b.AT,r,r+1);case 91:return ne(e,b.BRACKET_L,r,r+1);case 93:return ne(e,b.BRACKET_R,r,r+1);case 123:return ne(e,b.BRACE_L,r,r+1);case 124:return ne(e,b.PIPE,r,r+1);case 125:return ne(e,b.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?Ip(e,r):bp(e,r)}if(Ht(a)||a===45)return xp(e,r,a);if(as(a))return wp(e,r);throw ae(e.source,r,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ut(a)||Mn(n,r)?`Unexpected character: ${He(e,r)}.`:`Invalid character: ${He(e,r)}.`)}return ne(e,b.EOF,i,i)}function vp(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const a=n.charCodeAt(r);if(a===10||a===13)break;if(ut(a))++r;else if(Mn(n,r))r+=2;else break}return ne(e,b.COMMENT,t,r,n.slice(t+1,r))}function xp(e,t,n){const i=e.source.body;let r=t,a=n,s=!1;if(a===45&&(a=i.charCodeAt(++r)),a===48){if(a=i.charCodeAt(++r),Ht(a))throw ae(e.source,r,`Invalid number, unexpected digit after 0: ${He(e,r)}.`)}else r=tr(e,r,a),a=i.charCodeAt(r);if(a===46&&(s=!0,a=i.charCodeAt(++r),r=tr(e,r,a),a=i.charCodeAt(r)),(a===69||a===101)&&(s=!0,a=i.charCodeAt(++r),(a===43||a===45)&&(a=i.charCodeAt(++r)),r=tr(e,r,a),a=i.charCodeAt(r)),a===46||as(a))throw ae(e.source,r,`Invalid number, expected digit but got: ${He(e,r)}.`);return ne(e,s?b.FLOAT:b.INT,t,r,i.slice(t,r))}function tr(e,t,n){if(!Ht(n))throw ae(e.source,t,`Invalid number, expected digit but got: ${He(e,t)}.`);const i=e.source.body;let r=t+1;for(;Ht(i.charCodeAt(r));)++r;return r}function bp(e,t){const n=e.source.body,i=n.length;let r=t+1,a=r,s="";for(;r<i;){const o=n.charCodeAt(r);if(o===34)return s+=n.slice(a,r),ne(e,b.STRING,t,r+1,s);if(o===92){s+=n.slice(a,r);const c=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?yp(e,r):_p(e,r):$p(e,r);s+=c.value,r+=c.size,a=r;continue}if(o===10||o===13)break;if(ut(o))++r;else if(Mn(n,r))r+=2;else throw ae(e.source,r,`Invalid character within String: ${He(e,r)}.`)}throw ae(e.source,r,"Unterminated string.")}function yp(e,t){const n=e.source.body;let i=0,r=3;for(;r<12;){const a=n.charCodeAt(t+r++);if(a===125){if(r<5||!ut(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|qt(a),i<0)break}throw ae(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}function _p(e,t){const n=e.source.body,i=cs(n,t+2);if(ut(i))return{value:String.fromCodePoint(i),size:6};if(ss(i)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const r=cs(n,t+8);if(os(r))return{value:String.fromCodePoint(i,r),size:12}}throw ae(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function cs(e,t){return qt(e.charCodeAt(t))<<12|qt(e.charCodeAt(t+1))<<8|qt(e.charCodeAt(t+2))<<4|qt(e.charCodeAt(t+3))}function qt(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function $p(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw ae(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Ip(e,t){const n=e.source.body,i=n.length;let r=e.lineStart,a=t+3,s=a,o="";const c=[];for(;a<i;){const l=n.charCodeAt(a);if(l===34&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34){o+=n.slice(s,a),c.push(o);const u=ne(e,b.BLOCK_STRING,t,a+3,dp(c).join(`
`));return e.line+=c.length-1,e.lineStart=r,u}if(l===92&&n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34&&n.charCodeAt(a+3)===34){o+=n.slice(s,a),s=a+1,a+=4;continue}if(l===10||l===13){o+=n.slice(s,a),c.push(o),l===13&&n.charCodeAt(a+1)===10?a+=2:++a,o="",s=a,r=a;continue}if(ut(l))++a;else if(Mn(n,a))a+=2;else throw ae(e.source,a,`Invalid character within String: ${He(e,a)}.`)}throw ae(e.source,a,"Unterminated string.")}function wp(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const a=n.charCodeAt(r);if(up(a))++r;else break}return ne(e,b.NAME,t,r,n.slice(t,r))}const Ap=10,ls=2;function nr(e){return Pn(e,[])}function Pn(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Tp(e,t);default:return String(e)}}function Tp(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(Mp(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:Pn(i,n)}else if(Array.isArray(e))return Dp(e,n);return Pp(e,n)}function Mp(e){return typeof e.toJSON=="function"}function Pp(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>ls?"["+kp(e)+"]":"{ "+n.map(([r,a])=>r+": "+Pn(a,t)).join(", ")+" }"}function Dp(e,t){if(e.length===0)return"[]";if(t.length>ls)return"[Array]";const n=Math.min(Ap,e.length),i=e.length-n,r=[];for(let a=0;a<n;++a)r.push(Pn(e[a],t));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function kp(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const Lp=globalThis.process&&!0?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var i;const r=n.prototype[Symbol.toStringTag],a=Symbol.toStringTag in t?t[Symbol.toStringTag]:(i=t.constructor)===null||i===void 0?void 0:i.name;if(r===a){const s=nr(t);throw new Error(`Cannot use ${r} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class us{constructor(t,n="GraphQL request",i={line:1,column:1}){typeof t=="string"||Tn(!1,`Body must be a string. Received: ${nr(t)}.`),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||Tn(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Tn(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Ep(e){return Lp(e,us)}function Op(e,t){return new Rp(e,t).parseDocument()}class Rp{constructor(t,n={}){const i=Ep(t)?t:new us(t);this._lexer=new mp(i),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(b.NAME);return this.node(t,{kind:O.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:O.DOCUMENT,definitions:this.many(b.SOF,this.parseDefinition,b.EOF)})}parseDefinition(){if(this.peek(b.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===b.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw ae(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(b.BRACE_L))return this.node(t,{kind:O.OPERATION_DEFINITION,operation:lt.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let i;return this.peek(b.NAME)&&(i=this.parseName()),this.node(t,{kind:O.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(b.NAME);switch(t.value){case"query":return lt.QUERY;case"mutation":return lt.MUTATION;case"subscription":return lt.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(b.PAREN_L,this.parseVariableDefinition,b.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:O.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(b.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(b.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(b.DOLLAR),this.node(t,{kind:O.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:O.SELECTION_SET,selections:this.many(b.BRACE_L,this.parseSelection,b.BRACE_R)})}parseSelection(){return this.peek(b.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,r;return this.expectOptionalToken(b.COLON)?(i=n,r=this.parseName()):r=n,this.node(t,{kind:O.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(b.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(b.PAREN_L,n,b.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(b.COLON),this.node(n,{kind:O.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(b.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(b.NAME)?this.node(t,{kind:O.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:O.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case b.BRACKET_L:return this.parseList(t);case b.BRACE_L:return this.parseObject(t);case b.INT:return this.advanceLexer(),this.node(n,{kind:O.INT,value:n.value});case b.FLOAT:return this.advanceLexer(),this.node(n,{kind:O.FLOAT,value:n.value});case b.STRING:case b.BLOCK_STRING:return this.parseStringLiteral();case b.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:O.BOOLEAN,value:!0});case"false":return this.node(n,{kind:O.BOOLEAN,value:!1});case"null":return this.node(n,{kind:O.NULL});default:return this.node(n,{kind:O.ENUM,value:n.value})}case b.DOLLAR:if(t)if(this.expectToken(b.DOLLAR),this._lexer.token.kind===b.NAME){const i=this._lexer.token.value;throw ae(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:O.STRING,value:t.value,block:t.kind===b.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:O.LIST,values:this.any(b.BRACKET_L,n,b.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:O.OBJECT,fields:this.any(b.BRACE_L,n,b.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(b.COLON),this.node(n,{kind:O.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(b.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(b.AT),this.node(n,{kind:O.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(b.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(b.BRACKET_R),n=this.node(t,{kind:O.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(b.BANG)?this.node(t,{kind:O.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:O.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(b.STRING)||this.peek(b.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);return this.node(t,{kind:O.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(b.COLON);const i=this.parseNamedType();return this.node(t,{kind:O.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:O.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:O.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:a,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(b.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseFieldDefinition,b.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(b.COLON);const a=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:O.FIELD_DEFINITION,description:n,name:i,arguments:r,type:a,directives:s})}parseArgumentDefs(){return this.optionalMany(b.PAREN_L,this.parseInputValueDef,b.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(b.COLON);const r=this.parseTypeReference();let a;this.expectOptionalToken(b.EQUALS)&&(a=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:O.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:a,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:O.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:a,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(t,{kind:O.UNION_TYPE_DEFINITION,description:n,name:i,directives:r,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(b.EQUALS)?this.delimitedMany(b.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(t,{kind:O.ENUM_TYPE_DEFINITION,description:n,name:i,directives:r,values:a})}parseEnumValuesDefinition(){return this.optionalMany(b.BRACE_L,this.parseEnumValueDefinition,b.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:O.ENUM_VALUE_DEFINITION,description:n,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw ae(this._lexer.source,this._lexer.token.start,`${Dn(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(t,{kind:O.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:r,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseInputValueDef,b.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===b.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:O.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:O.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:O.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:a})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:O.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:a})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:O.UNION_TYPE_EXTENSION,name:n,directives:i,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:O.ENUM_TYPE_EXTENSION,name:n,directives:i,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:O.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(b.AT);const i=this.parseName(),r=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:O.DIRECTIVE_DEFINITION,description:n,name:i,arguments:r,repeatable:a,locations:s})}parseDirectiveLocations(){return this.delimitedMany(b.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Ji,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new cp(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw ae(this._lexer.source,n.start,`Expected ${ds(t)}, found ${Dn(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===b.NAME&&n.value===t)this.advanceLexer();else throw ae(this._lexer.source,n.start,`Expected "${t}", found ${Dn(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===b.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return ae(this._lexer.source,n.start,`Unexpected ${Dn(n)}.`)}any(t,n,i){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(i);)r.push(n.call(this));return r}optionalMany(t,n,i){if(this.expectOptionalToken(t)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(t,n,i){this.expectToken(t);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(t,n){this.expectOptionalToken(t);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==b.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw ae(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Dn(e){const t=e.value;return ds(e.kind)+(t!=null?` "${t}"`:"")}function ds(e){return pp(e)?`"${e}"`:e}function Cp(e){return`"${e.replace(Up,Fp)}"`}const Up=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Fp(e){return Sp[e.charCodeAt(0)]}const Sp=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Np=Object.freeze({});function Bp(e,t,n=ns){const i=new Map;for(const x of Object.values(O))i.set(x,jp(t,x));let r,a=Array.isArray(e),s=[e],o=-1,c=[],l=e,u,d;const m=[],p=[];do{o++;const x=o===s.length,T=x&&c.length!==0;if(x){if(u=p.length===0?void 0:m[m.length-1],l=d,d=p.pop(),T)if(a){l=l.slice();let C=0;for(const[L,X]of c){const K=L-C;X===null?(l.splice(K,1),C++):l[K]=X}}else{l=Object.defineProperties({},Object.getOwnPropertyDescriptors(l));for(const[C,L]of c)l[C]=L}o=r.index,s=r.keys,c=r.edits,a=r.inArray,r=r.prev}else if(d){if(u=a?o:s[o],l=d[u],l==null)continue;m.push(u)}let _;if(!Array.isArray(l)){var f,v;is(l)||Tn(!1,`Invalid AST Node: ${nr(l)}.`);const C=x?(f=i.get(l.kind))===null||f===void 0?void 0:f.leave:(v=i.get(l.kind))===null||v===void 0?void 0:v.enter;if(_=C==null?void 0:C.call(t,l,u,d,m,p),_===Np)break;if(_===!1){if(!x){m.pop();continue}}else if(_!==void 0&&(c.push([u,_]),!x))if(is(_))l=_;else{m.pop();continue}}if(_===void 0&&T&&c.push([u,l]),x)m.pop();else{var g;r={inArray:a,index:o,keys:s,edits:c,prev:r},a=Array.isArray(l),s=a?l:(g=n[l.kind])!==null&&g!==void 0?g:[],o=-1,c=[],d&&p.push(d),d=l}}while(r!==void 0);return c.length!==0?c[c.length-1][1]:e}function jp(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function Vp(e){return Bp(e,Hp)}const Gp=80,Hp={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>P(e.definitions,`

`)},OperationDefinition:{leave(e){const t=N("(",P(e.variableDefinitions,", "),")"),n=P([e.operation,P([e.name,t]),P(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:i})=>e+": "+t+N(" = ",n)+N(" ",P(i," "))},SelectionSet:{leave:({selections:e})=>Ie(e)},Field:{leave({alias:e,name:t,arguments:n,directives:i,selectionSet:r}){const a=N("",e,": ")+t;let s=a+N("(",P(n,", "),")");return s.length>Gp&&(s=a+N(`(
`,kn(P(n,`
`)),`
)`)),P([s,P(i," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+N(" ",P(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>P(["...",N("on ",e),P(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:i,selectionSet:r})=>`fragment ${e}${N("(",P(n,", "),")")} on ${t} ${N("",P(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?hp(e):Cp(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+P(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+P(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+N("(",P(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>N("",e,`
`)+P(["schema",P(t," "),Ie(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>N("",e,`
`)+P(["scalar",t,P(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>N("",e,`
`)+P(["type",t,N("implements ",P(n," & ")),P(i," "),Ie(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:i,directives:r})=>N("",e,`
`)+t+(fs(n)?N(`(
`,kn(P(n,`
`)),`
)`):N("(",P(n,", "),")"))+": "+i+N(" ",P(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:i,directives:r})=>N("",e,`
`)+P([t+": "+n,N("= ",i),P(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>N("",e,`
`)+P(["interface",t,N("implements ",P(n," & ")),P(i," "),Ie(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:i})=>N("",e,`
`)+P(["union",t,P(n," "),N("= ",P(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:i})=>N("",e,`
`)+P(["enum",t,P(n," "),Ie(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>N("",e,`
`)+P([t,P(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:i})=>N("",e,`
`)+P(["input",t,P(n," "),Ie(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:i,locations:r})=>N("",e,`
`)+"directive @"+t+(fs(n)?N(`(
`,kn(P(n,`
`)),`
)`):N("(",P(n,", "),")"))+(i?" repeatable":"")+" on "+P(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>P(["extend schema",P(e," "),Ie(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>P(["extend scalar",e,P(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>P(["extend type",e,N("implements ",P(t," & ")),P(n," "),Ie(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>P(["extend interface",e,N("implements ",P(t," & ")),P(n," "),Ie(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>P(["extend union",e,P(t," "),N("= ",P(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>P(["extend enum",e,P(t," "),Ie(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>P(["extend input",e,P(t," "),Ie(n)]," ")}};function P(e,t=""){var n;return(n=e==null?void 0:e.filter(i=>i).join(t))!==null&&n!==void 0?n:""}function Ie(e){return N(`{
`,kn(P(e,`
`)),`
}`)}function N(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function kn(e){return N("  ",e.replace(/\n/g,`
  `))}function fs(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}let hs=class extends Error{constructor(n,i,r){const a=n.status||n.status===0?n.status:"",s=n.statusText||"",o=`${a} ${s}`.trim(),c=o?`status code ${o}`:"an unknown error";super(`Request failed with ${c}: ${i.method} ${i.url}`);M(this,"response");M(this,"request");M(this,"options");this.name="HTTPError",this.response=n,this.request=i,this.options=r}};class ms extends Error{constructor(n){super(`Request timed out: ${n.method} ${n.url}`);M(this,"request");this.name="TimeoutError",this.request=n}}const Wt=e=>e!==null&&typeof e=="object",Ln=(...e)=>{for(const t of e)if((!Wt(t)||Array.isArray(t))&&t!==void 0)throw new TypeError("The `options` argument must be an object");return ir({},...e)},ps=(e={},t={})=>{const n=new globalThis.Headers(e),i=t instanceof globalThis.Headers,r=new globalThis.Headers(t);for(const[a,s]of r.entries())i&&s==="undefined"||s===void 0?n.delete(a):n.set(a,s);return n};function En(e,t,n){return Object.hasOwn(t,n)&&t[n]===void 0?[]:ir(e[n]??[],t[n]??[])}const gs=(e={},t={})=>({beforeRequest:En(e,t,"beforeRequest"),beforeRetry:En(e,t,"beforeRetry"),afterResponse:En(e,t,"afterResponse"),beforeError:En(e,t,"beforeError")}),ir=(...e)=>{let t={},n={},i={};for(const r of e)if(Array.isArray(r))Array.isArray(t)||(t=[]),t=[...t,...r];else if(Wt(r)){for(let[a,s]of Object.entries(r))Wt(s)&&a in t&&(s=ir(t[a],s)),t={...t,[a]:s};Wt(r.hooks)&&(i=gs(i,r.hooks),t.hooks=i),Wt(r.headers)&&(n=ps(n,r.headers),t.headers=n)}return t},qp=(()=>{let e=!1,t=!1;const n=typeof globalThis.ReadableStream=="function",i=typeof globalThis.Request=="function";if(n&&i)try{t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(r){if(r instanceof Error&&r.message==="unsupported BodyInit type")return!1;throw r}return e&&!t})(),Wp=typeof globalThis.AbortController=="function",zp=typeof globalThis.ReadableStream=="function",Kp=typeof globalThis.FormData=="function",vs=["get","post","put","patch","head","delete"],Yp={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},rr=2147483647,xs=Symbol("stop"),Xp={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},Qp={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},Zp=e=>vs.includes(e)?e.toUpperCase():e,bs={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},Jp=(e={})=>{if(typeof e=="number")return{...bs,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...bs,...e}};async function eg(e,t,n,i){return new Promise((r,a)=>{const s=setTimeout(()=>{n&&n.abort(),a(new ms(e))},i.timeout);i.fetch(e,t).then(r).catch(a).then(()=>{clearTimeout(s)})})}async function tg(e,{signal:t}){return new Promise((n,i)=>{t&&(t.throwIfAborted(),t.addEventListener("abort",r,{once:!0}));function r(){clearTimeout(a),i(t.reason)}const a=setTimeout(()=>{t==null||t.removeEventListener("abort",r),n()},e)})}const ng=(e,t)=>{const n={};for(const i in t)!(i in Qp)&&!(i in Xp)&&!(i in e)&&(n[i]=t[i]);return n};class On{constructor(t,n={}){M(this,"request");M(this,"abortController");M(this,"_retryCount",0);M(this,"_input");M(this,"_options");var i,r;if(this._input=t,this._options={...n,headers:ps(this._input.headers,n.headers),hooks:gs({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},n.hooks),method:Zp(n.method??this._input.method),prefixUrl:String(n.prefixUrl||""),retry:Jp(n.retry),throwHttpErrors:n.throwHttpErrors!==!1,timeout:n.timeout??1e4,fetch:n.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Wp){this.abortController=new globalThis.AbortController;const a=this._options.signal??this._input.signal;a==null||a.addEventListener("abort",()=>{this.abortController.abort(a.reason)}),this._options.signal=this.abortController.signal}if(qp&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((r=(i=this._options).stringifyJson)==null?void 0:r.call(i,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const s="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),o=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,s);(Kp&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(o,{...this.request}),this._options)}}static create(t,n){const i=new On(t,n),r=async()=>{if(typeof i._options.timeout=="number"&&i._options.timeout>rr)throw new RangeError(`The \`timeout\` option cannot be greater than ${rr}`);await Promise.resolve();let o=await i._fetch();for(const c of i._options.hooks.afterResponse){const l=await c(i.request,i._options,i._decorateResponse(o.clone()));l instanceof globalThis.Response&&(o=l)}if(i._decorateResponse(o),!o.ok&&i._options.throwHttpErrors){let c=new hs(o,i.request,i._options);for(const l of i._options.hooks.beforeError)c=await l(c);throw c}if(i._options.onDownloadProgress){if(typeof i._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!zp)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return i._stream(o.clone(),i._options.onDownloadProgress)}return o},s=i._options.retry.methods.includes(i.request.method.toLowerCase())?i._retry(r):r();for(const[o,c]of Object.entries(Yp))s[o]=async()=>{i.request.headers.set("accept",i.request.headers.get("accept")||c);const u=(await s).clone();if(o==="json"){if(u.status===204||(await u.clone().arrayBuffer()).byteLength===0)return"";if(n.parseJson)return n.parseJson(await u.text())}return u[o]()};return s}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount>this._options.retry.limit||t instanceof ms)throw t;if(t instanceof hs){if(!this._options.retry.statusCodes.includes(t.response.status))throw t;const i=t.response.headers.get("Retry-After")??t.response.headers.get("RateLimit-Reset")??t.response.headers.get("X-RateLimit-Reset")??t.response.headers.get("X-Rate-Limit-Reset");if(i&&this._options.retry.afterStatusCodes.includes(t.response.status)){let r=Number(i)*1e3;Number.isNaN(r)?r=Date.parse(i)-Date.now():r>=Date.parse("2024-01-01")&&(r-=Date.now());const a=this._options.retry.maxRetryAfter??r;return r<a?r:a}if(t.response.status===413)throw t}const n=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,n)}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(n){const i=Math.min(this._calculateRetryDelay(n),rr);if(this._retryCount<1)throw n;await tg(i,{signal:this._options.signal});for(const r of this._options.hooks.beforeRetry)if(await r({request:this.request,options:this._options,error:n,retryCount:this._retryCount})===xs)return;return this._retry(t)}}async _fetch(){for(const i of this._options.hooks.beforeRequest){const r=await i(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}const t=ng(this.request,this._options),n=this.request;return this.request=n.clone(),this._options.timeout===!1?this._options.fetch(n,t):eg(n,t,this.abortController,this._options)}_stream(t,n){const i=Number(t.headers.get("content-length"))||0;let r=0;return t.status===204?(n&&n({percent:1,totalBytes:i,transferredBytes:r},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(a){const s=t.body.getReader();n&&n({percent:0,transferredBytes:0,totalBytes:i},new Uint8Array);async function o(){const{done:c,value:l}=await s.read();if(c){a.close();return}if(n){r+=l.byteLength;const u=i===0?0:r/i;n({percent:u,transferredBytes:r,totalBytes:i},l)}a.enqueue(l),await o()}await o()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}/*! MIT License © Sindre Sorhus */const ar=e=>{const t=(n,i)=>On.create(n,Ln(e,i));for(const n of vs)t[n]=(i,r)=>On.create(i,Ln(e,r,{method:n}));return t.create=n=>ar(Ln(n)),t.extend=n=>(typeof n=="function"&&(n=n(e??{})),ar(Ln(e,n))),t.stop=xs,t},ig=ar();var Rn=function(){return Rn=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Rn.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var Cn=new Map,sr=new Map,ys=!0,Un=!1;function _s(e){return e.replace(/[\s,]+/g," ").trim()}function rg(e){return _s(e.source.body.substring(e.start,e.end))}function ag(e){var t=new Set,n=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,a=rg(i.loc),s=sr.get(r);s&&!s.has(a)?ys&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||sr.set(r,s=new Set),s.add(a),t.has(a)||(t.add(a),n.push(i))}else n.push(i)}),Rn(Rn({},e),{definitions:n})}function sg(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var a=i[r];a&&typeof a=="object"&&t.add(a)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function og(e){var t=_s(e);if(!Cn.has(t)){var n=Op(e,{experimentalFragmentVariables:Un,allowLegacyFragmentVariables:Un});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Cn.set(t,sg(ag(n)))}return Cn.get(t)}function fe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(r,a){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=e[a+1]}),og(i)}function cg(){Cn.clear(),sr.clear()}function lg(){ys=!1}function ug(){Un=!0}function dg(){Un=!1}var zt={gql:fe,resetCaches:cg,disableFragmentWarnings:lg,enableExperimentalFragmentVariables:ug,disableExperimentalFragmentVariables:dg};(function(e){e.gql=zt.gql,e.resetCaches=zt.resetCaches,e.disableFragmentWarnings=zt.disableFragmentWarnings,e.enableExperimentalFragmentVariables=zt.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=zt.disableExperimentalFragmentVariables})(fe||(fe={})),fe.default=fe;const fg=fe`
    mutation addScience($identifier: String!, $presences: [String], $os: String, $arch: String) {
  addScience(identifier: $identifier, presences: $presences, os: $os, arch: $arch) {
    identifier
  }
}
    `,hg=fe`
    query getAccessType($userId: String) {
  alphaBetaAccess(userId: $userId) {
    alphaAccess
    betaAccess
  }
}
    `,mg=fe`
    mutation sendFeedback($input: String!, $type: FeedbackType!, $email: String, $discord: String) {
  sendFeedback(input: $input, type: $type, email: $email, discord: $discord) {
    success
  }
}
    `,pg=fe`
    mutation heartbeat($identifier: String!, $presence: HeartbeatPresenceInput, $extension: HeartbeatExtensionInput!) {
  heartbeat(identifier: $identifier, presence: $presence, extension: $extension) {
    identifier
  }
}
    `,gg=fe`
    query getAvailableLanguages {
  availableLanguages {
    lang
    direction
    nativeName
  }
}
    `,vg=fe`
    query fetchLangFile($lang: String!) {
  default: strings(lang: "en-US", project: "extension") {
    translations
  }
  strings(lang: $lang, project: "extension") {
    translations
  }
  defaultGeneralStrings: strings(lang: "en-US", project: "presence") {
    translations
  }
  generalStrings: strings(lang: $lang, project: "presence") {
    translations
  }
}
    `,xg=fe`
    query fetchPresenceLangFiles($lang: String!, $services: StringOrStringArray!) {
  default: strings(lang: "en-US", project: "presence", presence: $services) {
    translations
  }
  strings(lang: $lang, project: "presence") {
    translations
  }
}
    `,bg=fe`
    query getAvailablePresenceLanguages($services: StringOrStringArray!) {
  availablePresenceLanguages(presence: $services) {
    presence
    languages {
      lang
      direction
      nativeName
    }
  }
}
    `;function $s(e){return{addScience(t,n){return e(fg,t,n)},getAccessType(t,n){return e(hg,t,n)},sendFeedback(t,n){return e(mg,t,n)},heartbeat(t,n){return e(pg,t,n)},getAvailableLanguages(t,n){return e(gg,t,n)},fetchLangFile(t,n){return e(vg,t,n)},fetchPresenceLangFiles(t,n){return e(xg,t,n)},getAvailablePresenceLanguages(t,n){return e(bg,t,n)}}}function Is(e){return async(n,i)=>(await ig.post(e,{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:Vp(n),variables:i}),cache:"no-cache"}).json()).data}const Fn=$s(Is(`${`https://${Q}`}/v4`));$s(Is(`${`https://${Q}`}/v3`));var ws={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,d,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new r(u,d||c,m),f=n?n+l:l;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],p]:c._events[f].push(p):(c._events[f]=p,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new i:delete c._events[l]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,p=d.length,f=new Array(p);m<p;m++)f[m]=d[m].fn;return f},o.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,u,d,m,p,f){var v=n?n+l:l;if(!this._events[v])return!1;var g=this._events[v],x=arguments.length,T,_;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,m),!0;case 5:return g.fn.call(g.context,u,d,m,p),!0;case 6:return g.fn.call(g.context,u,d,m,p,f),!0}for(_=1,T=new Array(x-1);_<x;_++)T[_-1]=arguments[_];g.fn.apply(g.context,T)}else{var C=g.length,L;for(_=0;_<C;_++)switch(g[_].once&&this.removeListener(l,g[_].fn,void 0,!0),x){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,u);break;case 3:g[_].fn.call(g[_].context,u,d);break;case 4:g[_].fn.call(g[_].context,u,d,m);break;default:if(!T)for(L=1,T=new Array(x-1);L<x;L++)T[L-1]=arguments[L];g[_].fn.apply(g[_].context,T)}}return!0},o.prototype.on=function(l,u,d){return a(this,l,u,d,!1)},o.prototype.once=function(l,u,d){return a(this,l,u,d,!0)},o.prototype.removeListener=function(l,u,d,m){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return s(this,p),this;var f=this._events[p];if(f.fn)f.fn===u&&(!m||f.once)&&(!d||f.context===d)&&s(this,p);else{for(var v=0,g=[],x=f.length;v<x;v++)(f[v].fn!==u||m&&!f[v].once||d&&f[v].context!==d)&&g.push(f[v]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&s(this,u)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(ws);var yg=ws.exports;const or=re(yg),Kt={direction:"ltr",lang:"en-US",nativeName:"English, United States"};class _g extends or{constructor(n){super();M(this,"initialized");M(this,"log",rn.extend("LanguageManager"));M(this,"availableLanguages",[Kt]);M(this,"language",this.determineDefaultLanguage().lang);this.pmd=n,this.initialized=tt().then(async i=>{if(await this.getAvailableLanguages(),!i)return;const r=await le.getValue();this.language=r!=null&&r.language&&this.availableLanguages.map(a=>a.lang).includes(r.language)?r.language:this.determineDefaultLanguage().lang,this.log("Loading translations for %s",this.language),await this.fetchLanguage(),le.watch(async({language:a},{language:s})=>{a&&s!==a&&(this.language=a,await this.fetchLanguage())})})}async setLanguage(n){if(this.log("Setting language to %s",n),!this.availableLanguages.some(i=>i.lang===n))return this.log("Language %s not available",n);this.language=n,await np("language",n),await this.fetchLanguage(),await this.pmd.presenceManager.setPresencesLanguage(n)}async fetchLanguage(n){var i,r,a,s;n??(n=this.language);try{const{strings:o,default:c,generalStrings:l,defaultGeneralStrings:u}=await Fn.fetchLangFile({lang:n});await ya.setValue({default:(i=c[0])==null?void 0:i.translations,strings:(r=o[0])==null?void 0:r.translations}),await _a.setValue({default:(a=u[0])==null?void 0:a.translations,strings:(s=l[0])==null?void 0:s.translations}),this.log("Fetched strings for %s",n),this.emit("newLanguageFetched")}catch{this.log("Failed to fetch strings for language %s",n)}}async getAvailableLanguages(){if(await tt()){try{const{availableLanguages:n}=await Fn.getAvailableLanguages();this.availableLanguages=n.map(i=>({direction:i.direction,lang:i.lang,nativeName:i.nativeName})),await Ei.setValue(this.availableLanguages),this.log("Fetched available languages")}catch{this.log("Failed to get available languages"),this.availableLanguages=await Ei.getValue()}await this.initializeUserLanguageSettings()}else this.availableLanguages=await Ei.getValue()}async initializeUserLanguageSettings(){const n=await le.getValue();n.language||(n.language=this.determineDefaultLanguage().lang),n.presencesLanguage||(n.presencesLanguage=this.determineDefaultLanguage().lang),await le.setValue(n)}async getStrings(n){const i={},r=await ya.getValue(),a=await _a.getValue(),{strings:s,default:o}=r||{},{strings:c,default:l}=a||{};for(const[u,d]of Object.entries(n))i[u]=(s==null?void 0:s[d])??(o==null?void 0:o[d])??(c==null?void 0:c[d])??(l==null?void 0:l[d])??d;return i}async getPresenceStrings(n,i){var o;const r={},{strings:a,default:s}=((o=await this.pmd.storageManager.get("local",`${n}_strings`))==null?void 0:o[`${n}_strings`])||{};for(const[c,l]of Object.entries(i))r[c]=(a==null?void 0:a[l])??(s==null?void 0:s[l])??l;return r}async getPresenceLanguage(n){const i=await this.pmd.presenceManager.getSettingObject(n,"lang"),r=await le.getValue();let a=(r==null?void 0:r.language)??this.language;return i!=null&&i.multiLanguage&&(typeof i.value=="string"||i.value===void 0)&&(a=i.value??(r==null?void 0:r.language)??this.language),a}async fetchPresenceStrings(n){var o,c;const i=await this.pmd.presenceManager.getSettingObject(n,"lang"),r=await le.getValue();let a=(r==null?void 0:r.presencesLanguage)??this.language;const s=[];i!=null&&i.multiLanguage&&(typeof i.value=="string"||i.value===void 0)&&(a=i.value??(r==null?void 0:r.presencesLanguage)??this.language,i.multiLanguage===!0?s.push(n):s.push(...[i.multiLanguage].flat()));try{const{strings:l,default:u}=await Fn.fetchPresenceLangFiles({lang:a,services:s});await this.pmd.storageManager.set("local",{[`${n}_strings`]:{default:(o=u[0])==null?void 0:o.translations,strings:(c=l[0])==null?void 0:c.translations}}),this.log("Saved presence strings for %s",n)}catch{this.log("Failed to fetch presence strings for %s",n)}}async fetchPresenceAvailableLanguages(...n){try{const{availablePresenceLanguages:i}=await Fn.getAvailablePresenceLanguages({services:n});await Promise.all(i.map(r=>this.pmd.storageManager.set("local",{[`${r.presence}_availableLanguages`]:r.languages.map(a=>({direction:a.direction,lang:a.lang,nativeName:a.nativeName}))}))),this.log("Saved available presence language for %s service(s)",n.length)}catch{this.log("Failed to fetch available presence language for %s services(s)",n.length)}}getBrowserLanguage(){var i,r;if(!((i=w==null?void 0:w.i18n)!=null&&i.getUILanguage))return;const n=w.i18n.getUILanguage();try{const a=Intl.Locale?new Intl.Locale(n).language:n.split(/[_-]/)[0];return(r=this.availableLanguages.find(s=>s.lang.startsWith(a)))==null?void 0:r.lang}catch{return}}determineDefaultLanguage(){const n=this.getBrowserLanguage();if(n&&this.availableLanguages.map(i=>i.lang).includes(n))return this.availableLanguages.find(i=>i.lang===n);if(n){const i=n.split(/[_-]/)[0],r=this.availableLanguages.find(a=>a.lang.startsWith(i));if(r)return r}return Kt}}var $g=Object.defineProperty,Re=(e,t)=>$g(e,"name",{value:t,configurable:!0});function Ig(e){let t;return()=>t??(t=e())}Re(Ig,"lazy");function*wg(e){let t,n=0,i=1;typeof e=="number"?t=e:(n=e.start,t=e.end,i=e.step??1);for(let r=n;r<t;r+=i)yield r}Re(wg,"range");function Ag(e,t){return Number(BigInt(e)>>22n)%t}Re(Ag,"calculateShardId");function Tg(){return typeof globalThis.process>"u"?"fetch"in globalThis&&"WebSocket"in globalThis:"versions"in globalThis.process?"deno"in globalThis.process.versions||"bun"in globalThis.process.versions:!1}Re(Tg,"shouldUseGlobalFetchAndWebSocket");function As(){if(typeof globalThis.EdgeRuntime<"u")return"Vercel-Edge-Functions";if(typeof globalThis.R2<"u"&&typeof globalThis.WebSocketPair<"u")return"Cloudflare-Workers";if(typeof globalThis.Netlify<"u")return"Netlify-Edge-Functions";if(typeof globalThis.process!="object")return typeof globalThis.navigator=="object"?globalThis.navigator.userAgent:"UnknownEnvironment";if("versions"in globalThis.process){if("deno"in globalThis.process.versions)return`Deno/${globalThis.process.versions.deno}`;if("bun"in globalThis.process.versions)return`Bun/${globalThis.process.versions.bun}`;if("node"in globalThis.process.versions)return`Node.js/${globalThis.process.versions.node}`}return"UnknownEnvironment"}Re(As,"getUserAgentAppendix");function Mg(){Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"))}Re(Mg,"polyfillDispose");function Pg(e){return e!==null&&typeof e=="object"&&"toJSON"in e}Re(Pg,"isJSONEncodable");function Dg(e){return e!==null&&typeof e=="object"&&"equals"in e}Re(Dg,"isEquatable");var Ts={},Ms={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0}),function(e){var t=S&&S.__createBinding||(Object.create?function(o,c,l,u){u===void 0&&(u=l);var d=Object.getOwnPropertyDescriptor(c,l);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(o,u,d)}:function(o,c,l,u){u===void 0&&(u=l),o[u]=c[l]}),n=S&&S.__exportStar||function(o,c){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&t(c,o,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.GatewayDispatchEvents=e.GatewayIntentBits=e.GatewayCloseCodes=e.GatewayOpcodes=e.GatewayVersion=void 0,n(Ps,e),e.GatewayVersion="10";var i;(function(o){o[o.Dispatch=0]="Dispatch",o[o.Heartbeat=1]="Heartbeat",o[o.Identify=2]="Identify",o[o.PresenceUpdate=3]="PresenceUpdate",o[o.VoiceStateUpdate=4]="VoiceStateUpdate",o[o.Resume=6]="Resume",o[o.Reconnect=7]="Reconnect",o[o.RequestGuildMembers=8]="RequestGuildMembers",o[o.InvalidSession=9]="InvalidSession",o[o.Hello=10]="Hello",o[o.HeartbeatAck=11]="HeartbeatAck"})(i||(e.GatewayOpcodes=i={}));var r;(function(o){o[o.UnknownError=4e3]="UnknownError",o[o.UnknownOpcode=4001]="UnknownOpcode",o[o.DecodeError=4002]="DecodeError",o[o.NotAuthenticated=4003]="NotAuthenticated",o[o.AuthenticationFailed=4004]="AuthenticationFailed",o[o.AlreadyAuthenticated=4005]="AlreadyAuthenticated",o[o.InvalidSeq=4007]="InvalidSeq",o[o.RateLimited=4008]="RateLimited",o[o.SessionTimedOut=4009]="SessionTimedOut",o[o.InvalidShard=4010]="InvalidShard",o[o.ShardingRequired=4011]="ShardingRequired",o[o.InvalidAPIVersion=4012]="InvalidAPIVersion",o[o.InvalidIntents=4013]="InvalidIntents",o[o.DisallowedIntents=4014]="DisallowedIntents"})(r||(e.GatewayCloseCodes=r={}));var a;(function(o){o[o.Guilds=1]="Guilds",o[o.GuildMembers=2]="GuildMembers",o[o.GuildModeration=4]="GuildModeration",o[o.GuildBans=4]="GuildBans",o[o.GuildEmojisAndStickers=8]="GuildEmojisAndStickers",o[o.GuildIntegrations=16]="GuildIntegrations",o[o.GuildWebhooks=32]="GuildWebhooks",o[o.GuildInvites=64]="GuildInvites",o[o.GuildVoiceStates=128]="GuildVoiceStates",o[o.GuildPresences=256]="GuildPresences",o[o.GuildMessages=512]="GuildMessages",o[o.GuildMessageReactions=1024]="GuildMessageReactions",o[o.GuildMessageTyping=2048]="GuildMessageTyping",o[o.DirectMessages=4096]="DirectMessages",o[o.DirectMessageReactions=8192]="DirectMessageReactions",o[o.DirectMessageTyping=16384]="DirectMessageTyping",o[o.MessageContent=32768]="MessageContent",o[o.GuildScheduledEvents=65536]="GuildScheduledEvents",o[o.AutoModerationConfiguration=1048576]="AutoModerationConfiguration",o[o.AutoModerationExecution=2097152]="AutoModerationExecution",o[o.GuildMessagePolls=16777216]="GuildMessagePolls",o[o.DirectMessagePolls=33554432]="DirectMessagePolls"})(a||(e.GatewayIntentBits=a={}));var s;(function(o){o.ApplicationCommandPermissionsUpdate="APPLICATION_COMMAND_PERMISSIONS_UPDATE",o.ChannelCreate="CHANNEL_CREATE",o.ChannelDelete="CHANNEL_DELETE",o.ChannelPinsUpdate="CHANNEL_PINS_UPDATE",o.ChannelUpdate="CHANNEL_UPDATE",o.GuildBanAdd="GUILD_BAN_ADD",o.GuildBanRemove="GUILD_BAN_REMOVE",o.GuildCreate="GUILD_CREATE",o.GuildDelete="GUILD_DELETE",o.GuildEmojisUpdate="GUILD_EMOJIS_UPDATE",o.GuildIntegrationsUpdate="GUILD_INTEGRATIONS_UPDATE",o.GuildMemberAdd="GUILD_MEMBER_ADD",o.GuildMemberRemove="GUILD_MEMBER_REMOVE",o.GuildMembersChunk="GUILD_MEMBERS_CHUNK",o.GuildMemberUpdate="GUILD_MEMBER_UPDATE",o.GuildRoleCreate="GUILD_ROLE_CREATE",o.GuildRoleDelete="GUILD_ROLE_DELETE",o.GuildRoleUpdate="GUILD_ROLE_UPDATE",o.GuildStickersUpdate="GUILD_STICKERS_UPDATE",o.GuildUpdate="GUILD_UPDATE",o.IntegrationCreate="INTEGRATION_CREATE",o.IntegrationDelete="INTEGRATION_DELETE",o.IntegrationUpdate="INTEGRATION_UPDATE",o.InteractionCreate="INTERACTION_CREATE",o.InviteCreate="INVITE_CREATE",o.InviteDelete="INVITE_DELETE",o.MessageCreate="MESSAGE_CREATE",o.MessageDelete="MESSAGE_DELETE",o.MessageDeleteBulk="MESSAGE_DELETE_BULK",o.MessageReactionAdd="MESSAGE_REACTION_ADD",o.MessageReactionRemove="MESSAGE_REACTION_REMOVE",o.MessageReactionRemoveAll="MESSAGE_REACTION_REMOVE_ALL",o.MessageReactionRemoveEmoji="MESSAGE_REACTION_REMOVE_EMOJI",o.MessageUpdate="MESSAGE_UPDATE",o.PresenceUpdate="PRESENCE_UPDATE",o.StageInstanceCreate="STAGE_INSTANCE_CREATE",o.StageInstanceDelete="STAGE_INSTANCE_DELETE",o.StageInstanceUpdate="STAGE_INSTANCE_UPDATE",o.Ready="READY",o.Resumed="RESUMED",o.ThreadCreate="THREAD_CREATE",o.ThreadDelete="THREAD_DELETE",o.ThreadListSync="THREAD_LIST_SYNC",o.ThreadMembersUpdate="THREAD_MEMBERS_UPDATE",o.ThreadMemberUpdate="THREAD_MEMBER_UPDATE",o.ThreadUpdate="THREAD_UPDATE",o.TypingStart="TYPING_START",o.UserUpdate="USER_UPDATE",o.VoiceServerUpdate="VOICE_SERVER_UPDATE",o.VoiceStateUpdate="VOICE_STATE_UPDATE",o.WebhooksUpdate="WEBHOOKS_UPDATE",o.MessagePollVoteAdd="MESSAGE_POLL_VOTE_ADD",o.MessagePollVoteRemove="MESSAGE_POLL_VOTE_REMOVE",o.GuildScheduledEventCreate="GUILD_SCHEDULED_EVENT_CREATE",o.GuildScheduledEventUpdate="GUILD_SCHEDULED_EVENT_UPDATE",o.GuildScheduledEventDelete="GUILD_SCHEDULED_EVENT_DELETE",o.GuildScheduledEventUserAdd="GUILD_SCHEDULED_EVENT_USER_ADD",o.GuildScheduledEventUserRemove="GUILD_SCHEDULED_EVENT_USER_REMOVE",o.AutoModerationRuleCreate="AUTO_MODERATION_RULE_CREATE",o.AutoModerationRuleUpdate="AUTO_MODERATION_RULE_UPDATE",o.AutoModerationRuleDelete="AUTO_MODERATION_RULE_DELETE",o.AutoModerationActionExecution="AUTO_MODERATION_ACTION_EXECUTION",o.GuildAuditLogEntryCreate="GUILD_AUDIT_LOG_ENTRY_CREATE",o.EntitlementCreate="ENTITLEMENT_CREATE",o.EntitlementUpdate="ENTITLEMENT_UPDATE",o.EntitlementDelete="ENTITLEMENT_DELETE"})(s||(e.GatewayDispatchEvents=s={}))}(Ms);const dt=re(Ms),kg=dt.GatewayCloseCodes,Lg=dt.GatewayDispatchEvents,Eg=dt.GatewayIntentBits,Og=dt.GatewayOpcodes,Rg=dt.GatewayVersion,Cg=nt(Object.freeze(Object.defineProperty({__proto__:null,GatewayCloseCodes:kg,GatewayDispatchEvents:Lg,GatewayIntentBits:Eg,GatewayOpcodes:Og,GatewayVersion:Rg,default:dt},Symbol.toStringTag,{value:"Module"})));var Ds={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingPatterns=void 0,e.FormattingPatterns={User:/<@(?<id>\d{17,20})>/,UserWithNickname:/<@!(?<id>\d{17,20})>/,UserWithOptionalNickname:/<@!?(?<id>\d{17,20})>/,Channel:/<#(?<id>\d{17,20})>/,Role:/<@&(?<id>\d{17,20})>/,SlashCommand:/<\/(?<fullName>(?<name>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32})(?: (?<subcommandOrGroup>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32}))?(?: (?<subcommand>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32}))?):(?<id>\d{17,20})>/u,Emoji:/<(?<animated>a)?:(?<name>\w{2,32}):(?<id>\d{17,20})>/,AnimatedEmoji:/<(?<animated>a):(?<name>\w{2,32}):(?<id>\d{17,20})>/,StaticEmoji:/<:(?<name>\w{2,32}):(?<id>\d{17,20})>/,Timestamp:/<t:(?<timestamp>-?\d{1,13})(:(?<style>[DFRTdft]))?>/,DefaultStyledTimestamp:/<t:(?<timestamp>-?\d{1,13})>/,StyledTimestamp:/<t:(?<timestamp>-?\d{1,13}):(?<style>[DFRTdft])>/},Object.freeze(e.FormattingPatterns)})(Ds);const ks=re(Ds),Ug=ks.FormattingPatterns,Fg=nt(Object.freeze(Object.defineProperty({__proto__:null,FormattingPatterns:Ug,default:ks},Symbol.toStringTag,{value:"Module"})));var Ls={},Es={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionFlagsBits=void 0,e.PermissionFlagsBits={CreateInstantInvite:1n<<0n,KickMembers:1n<<1n,BanMembers:1n<<2n,Administrator:1n<<3n,ManageChannels:1n<<4n,ManageGuild:1n<<5n,AddReactions:1n<<6n,ViewAuditLog:1n<<7n,PrioritySpeaker:1n<<8n,Stream:1n<<9n,ViewChannel:1n<<10n,SendMessages:1n<<11n,SendTTSMessages:1n<<12n,ManageMessages:1n<<13n,EmbedLinks:1n<<14n,AttachFiles:1n<<15n,ReadMessageHistory:1n<<16n,MentionEveryone:1n<<17n,UseExternalEmojis:1n<<18n,ViewGuildInsights:1n<<19n,Connect:1n<<20n,Speak:1n<<21n,MuteMembers:1n<<22n,DeafenMembers:1n<<23n,MoveMembers:1n<<24n,UseVAD:1n<<25n,ChangeNickname:1n<<26n,ManageNicknames:1n<<27n,ManageRoles:1n<<28n,ManageWebhooks:1n<<29n,ManageEmojisAndStickers:1n<<30n,ManageGuildExpressions:1n<<30n,UseApplicationCommands:1n<<31n,RequestToSpeak:1n<<32n,ManageEvents:1n<<33n,ManageThreads:1n<<34n,CreatePublicThreads:1n<<35n,CreatePrivateThreads:1n<<36n,UseExternalStickers:1n<<37n,SendMessagesInThreads:1n<<38n,UseEmbeddedActivities:1n<<39n,ModerateMembers:1n<<40n,ViewCreatorMonetizationAnalytics:1n<<41n,UseSoundboard:1n<<42n,CreateGuildExpressions:1n<<43n,CreateEvents:1n<<44n,UseExternalSounds:1n<<45n,SendVoiceMessages:1n<<46n,SendPolls:1n<<49n,UseExternalApps:1n<<50n},Object.freeze(e.PermissionFlagsBits)})(Es);var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.ApplicationRoleConnectionMetadataType=ft.ApplicationFlags=void 0;var Os;(function(e){e[e.EmbeddedReleased=2]="EmbeddedReleased",e[e.ManagedEmoji=4]="ManagedEmoji",e[e.EmbeddedIAP=8]="EmbeddedIAP",e[e.GroupDMCreate=16]="GroupDMCreate",e[e.ApplicationAutoModerationRuleCreateBadge=64]="ApplicationAutoModerationRuleCreateBadge",e[e.RPCHasConnected=2048]="RPCHasConnected",e[e.GatewayPresence=4096]="GatewayPresence",e[e.GatewayPresenceLimited=8192]="GatewayPresenceLimited",e[e.GatewayGuildMembers=16384]="GatewayGuildMembers",e[e.GatewayGuildMembersLimited=32768]="GatewayGuildMembersLimited",e[e.VerificationPendingGuildLimit=65536]="VerificationPendingGuildLimit",e[e.Embedded=131072]="Embedded",e[e.GatewayMessageContent=262144]="GatewayMessageContent",e[e.GatewayMessageContentLimited=524288]="GatewayMessageContentLimited",e[e.EmbeddedFirstParty=1048576]="EmbeddedFirstParty",e[e.ApplicationCommandBadge=8388608]="ApplicationCommandBadge"})(Os||(ft.ApplicationFlags=Os={}));var Rs;(function(e){e[e.IntegerLessThanOrEqual=1]="IntegerLessThanOrEqual",e[e.IntegerGreaterThanOrEqual=2]="IntegerGreaterThanOrEqual",e[e.IntegerEqual=3]="IntegerEqual",e[e.IntegerNotEqual=4]="IntegerNotEqual",e[e.DatetimeLessThanOrEqual=5]="DatetimeLessThanOrEqual",e[e.DatetimeGreaterThanOrEqual=6]="DatetimeGreaterThanOrEqual",e[e.BooleanEqual=7]="BooleanEqual",e[e.BooleanNotEqual=8]="BooleanNotEqual"})(Rs||(ft.ApplicationRoleConnectionMetadataType=Rs={}));var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.AuditLogOptionsType=ht.AuditLogEvent=void 0;var Cs;(function(e){e[e.GuildUpdate=1]="GuildUpdate",e[e.ChannelCreate=10]="ChannelCreate",e[e.ChannelUpdate=11]="ChannelUpdate",e[e.ChannelDelete=12]="ChannelDelete",e[e.ChannelOverwriteCreate=13]="ChannelOverwriteCreate",e[e.ChannelOverwriteUpdate=14]="ChannelOverwriteUpdate",e[e.ChannelOverwriteDelete=15]="ChannelOverwriteDelete",e[e.MemberKick=20]="MemberKick",e[e.MemberPrune=21]="MemberPrune",e[e.MemberBanAdd=22]="MemberBanAdd",e[e.MemberBanRemove=23]="MemberBanRemove",e[e.MemberUpdate=24]="MemberUpdate",e[e.MemberRoleUpdate=25]="MemberRoleUpdate",e[e.MemberMove=26]="MemberMove",e[e.MemberDisconnect=27]="MemberDisconnect",e[e.BotAdd=28]="BotAdd",e[e.RoleCreate=30]="RoleCreate",e[e.RoleUpdate=31]="RoleUpdate",e[e.RoleDelete=32]="RoleDelete",e[e.InviteCreate=40]="InviteCreate",e[e.InviteUpdate=41]="InviteUpdate",e[e.InviteDelete=42]="InviteDelete",e[e.WebhookCreate=50]="WebhookCreate",e[e.WebhookUpdate=51]="WebhookUpdate",e[e.WebhookDelete=52]="WebhookDelete",e[e.EmojiCreate=60]="EmojiCreate",e[e.EmojiUpdate=61]="EmojiUpdate",e[e.EmojiDelete=62]="EmojiDelete",e[e.MessageDelete=72]="MessageDelete",e[e.MessageBulkDelete=73]="MessageBulkDelete",e[e.MessagePin=74]="MessagePin",e[e.MessageUnpin=75]="MessageUnpin",e[e.IntegrationCreate=80]="IntegrationCreate",e[e.IntegrationUpdate=81]="IntegrationUpdate",e[e.IntegrationDelete=82]="IntegrationDelete",e[e.StageInstanceCreate=83]="StageInstanceCreate",e[e.StageInstanceUpdate=84]="StageInstanceUpdate",e[e.StageInstanceDelete=85]="StageInstanceDelete",e[e.StickerCreate=90]="StickerCreate",e[e.StickerUpdate=91]="StickerUpdate",e[e.StickerDelete=92]="StickerDelete",e[e.GuildScheduledEventCreate=100]="GuildScheduledEventCreate",e[e.GuildScheduledEventUpdate=101]="GuildScheduledEventUpdate",e[e.GuildScheduledEventDelete=102]="GuildScheduledEventDelete",e[e.ThreadCreate=110]="ThreadCreate",e[e.ThreadUpdate=111]="ThreadUpdate",e[e.ThreadDelete=112]="ThreadDelete",e[e.ApplicationCommandPermissionUpdate=121]="ApplicationCommandPermissionUpdate",e[e.AutoModerationRuleCreate=140]="AutoModerationRuleCreate",e[e.AutoModerationRuleUpdate=141]="AutoModerationRuleUpdate",e[e.AutoModerationRuleDelete=142]="AutoModerationRuleDelete",e[e.AutoModerationBlockMessage=143]="AutoModerationBlockMessage",e[e.AutoModerationFlagToChannel=144]="AutoModerationFlagToChannel",e[e.AutoModerationUserCommunicationDisabled=145]="AutoModerationUserCommunicationDisabled",e[e.CreatorMonetizationRequestCreated=150]="CreatorMonetizationRequestCreated",e[e.CreatorMonetizationTermsAccepted=151]="CreatorMonetizationTermsAccepted",e[e.OnboardingPromptCreate=163]="OnboardingPromptCreate",e[e.OnboardingPromptUpdate=164]="OnboardingPromptUpdate",e[e.OnboardingPromptDelete=165]="OnboardingPromptDelete",e[e.OnboardingCreate=166]="OnboardingCreate",e[e.OnboardingUpdate=167]="OnboardingUpdate",e[e.HomeSettingsCreate=190]="HomeSettingsCreate",e[e.HomeSettingsUpdate=191]="HomeSettingsUpdate"})(Cs||(ht.AuditLogEvent=Cs={}));var Us;(function(e){e.Role="0",e.Member="1"})(Us||(ht.AuditLogOptionsType=Us={}));var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.AutoModerationActionType=Ae.AutoModerationRuleEventType=Ae.AutoModerationRuleKeywordPresetType=Ae.AutoModerationRuleTriggerType=void 0;var Fs;(function(e){e[e.Keyword=1]="Keyword",e[e.Spam=3]="Spam",e[e.KeywordPreset=4]="KeywordPreset",e[e.MentionSpam=5]="MentionSpam",e[e.MemberProfile=6]="MemberProfile"})(Fs||(Ae.AutoModerationRuleTriggerType=Fs={}));var Ss;(function(e){e[e.Profanity=1]="Profanity",e[e.SexualContent=2]="SexualContent",e[e.Slurs=3]="Slurs"})(Ss||(Ae.AutoModerationRuleKeywordPresetType=Ss={}));var Ns;(function(e){e[e.MessageSend=1]="MessageSend",e[e.MemberUpdate=2]="MemberUpdate"})(Ns||(Ae.AutoModerationRuleEventType=Ns={}));var Bs;(function(e){e[e.BlockMessage=1]="BlockMessage",e[e.SendAlertMessage=2]="SendAlertMessage",e[e.Timeout=3]="Timeout",e[e.BlockMemberInteraction=4]="BlockMemberInteraction"})(Bs||(Ae.AutoModerationActionType=Bs={}));var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.ChannelFlags=U.SelectMenuDefaultValueType=U.TextInputStyle=U.ButtonStyle=U.ComponentType=U.AllowedMentionsTypes=U.AttachmentFlags=U.EmbedType=U.ThreadMemberFlags=U.ThreadAutoArchiveDuration=U.OverwriteType=U.MessageFlags=U.MessageReferenceType=U.MessageActivityType=U.MessageType=U.VideoQualityMode=U.ChannelType=U.ForumLayoutType=U.SortOrderType=void 0;var js;(function(e){e[e.LatestActivity=0]="LatestActivity",e[e.CreationDate=1]="CreationDate"})(js||(U.SortOrderType=js={}));var Vs;(function(e){e[e.NotSet=0]="NotSet",e[e.ListView=1]="ListView",e[e.GalleryView=2]="GalleryView"})(Vs||(U.ForumLayoutType=Vs={}));var Gs;(function(e){e[e.GuildText=0]="GuildText",e[e.DM=1]="DM",e[e.GuildVoice=2]="GuildVoice",e[e.GroupDM=3]="GroupDM",e[e.GuildCategory=4]="GuildCategory",e[e.GuildAnnouncement=5]="GuildAnnouncement",e[e.AnnouncementThread=10]="AnnouncementThread",e[e.PublicThread=11]="PublicThread",e[e.PrivateThread=12]="PrivateThread",e[e.GuildStageVoice=13]="GuildStageVoice",e[e.GuildDirectory=14]="GuildDirectory",e[e.GuildForum=15]="GuildForum",e[e.GuildMedia=16]="GuildMedia",e[e.GuildNews=5]="GuildNews",e[e.GuildNewsThread=10]="GuildNewsThread",e[e.GuildPublicThread=11]="GuildPublicThread",e[e.GuildPrivateThread=12]="GuildPrivateThread"})(Gs||(U.ChannelType=Gs={}));var Hs;(function(e){e[e.Auto=1]="Auto",e[e.Full=2]="Full"})(Hs||(U.VideoQualityMode=Hs={}));var qs;(function(e){e[e.Default=0]="Default",e[e.RecipientAdd=1]="RecipientAdd",e[e.RecipientRemove=2]="RecipientRemove",e[e.Call=3]="Call",e[e.ChannelNameChange=4]="ChannelNameChange",e[e.ChannelIconChange=5]="ChannelIconChange",e[e.ChannelPinnedMessage=6]="ChannelPinnedMessage",e[e.UserJoin=7]="UserJoin",e[e.GuildBoost=8]="GuildBoost",e[e.GuildBoostTier1=9]="GuildBoostTier1",e[e.GuildBoostTier2=10]="GuildBoostTier2",e[e.GuildBoostTier3=11]="GuildBoostTier3",e[e.ChannelFollowAdd=12]="ChannelFollowAdd",e[e.GuildDiscoveryDisqualified=14]="GuildDiscoveryDisqualified",e[e.GuildDiscoveryRequalified=15]="GuildDiscoveryRequalified",e[e.GuildDiscoveryGracePeriodInitialWarning=16]="GuildDiscoveryGracePeriodInitialWarning",e[e.GuildDiscoveryGracePeriodFinalWarning=17]="GuildDiscoveryGracePeriodFinalWarning",e[e.ThreadCreated=18]="ThreadCreated",e[e.Reply=19]="Reply",e[e.ChatInputCommand=20]="ChatInputCommand",e[e.ThreadStarterMessage=21]="ThreadStarterMessage",e[e.GuildInviteReminder=22]="GuildInviteReminder",e[e.ContextMenuCommand=23]="ContextMenuCommand",e[e.AutoModerationAction=24]="AutoModerationAction",e[e.RoleSubscriptionPurchase=25]="RoleSubscriptionPurchase",e[e.InteractionPremiumUpsell=26]="InteractionPremiumUpsell",e[e.StageStart=27]="StageStart",e[e.StageEnd=28]="StageEnd",e[e.StageSpeaker=29]="StageSpeaker",e[e.StageRaiseHand=30]="StageRaiseHand",e[e.StageTopic=31]="StageTopic",e[e.GuildApplicationPremiumSubscription=32]="GuildApplicationPremiumSubscription",e[e.GuildIncidentAlertModeEnabled=36]="GuildIncidentAlertModeEnabled",e[e.GuildIncidentAlertModeDisabled=37]="GuildIncidentAlertModeDisabled",e[e.GuildIncidentReportRaid=38]="GuildIncidentReportRaid",e[e.GuildIncidentReportFalseAlarm=39]="GuildIncidentReportFalseAlarm"})(qs||(U.MessageType=qs={}));var Ws;(function(e){e[e.Join=1]="Join",e[e.Spectate=2]="Spectate",e[e.Listen=3]="Listen",e[e.JoinRequest=5]="JoinRequest"})(Ws||(U.MessageActivityType=Ws={}));var zs;(function(e){e[e.Default=0]="Default",e[e.Forward=1]="Forward"})(zs||(U.MessageReferenceType=zs={}));var Ks;(function(e){e[e.Crossposted=1]="Crossposted",e[e.IsCrosspost=2]="IsCrosspost",e[e.SuppressEmbeds=4]="SuppressEmbeds",e[e.SourceMessageDeleted=8]="SourceMessageDeleted",e[e.Urgent=16]="Urgent",e[e.HasThread=32]="HasThread",e[e.Ephemeral=64]="Ephemeral",e[e.Loading=128]="Loading",e[e.FailedToMentionSomeRolesInThread=256]="FailedToMentionSomeRolesInThread",e[e.ShouldShowLinkNotDiscordWarning=1024]="ShouldShowLinkNotDiscordWarning",e[e.SuppressNotifications=4096]="SuppressNotifications",e[e.IsVoiceMessage=8192]="IsVoiceMessage"})(Ks||(U.MessageFlags=Ks={}));var Ys;(function(e){e[e.Role=0]="Role",e[e.Member=1]="Member"})(Ys||(U.OverwriteType=Ys={}));var Xs;(function(e){e[e.OneHour=60]="OneHour",e[e.OneDay=1440]="OneDay",e[e.ThreeDays=4320]="ThreeDays",e[e.OneWeek=10080]="OneWeek"})(Xs||(U.ThreadAutoArchiveDuration=Xs={}));var Qs;(function(e){e[e.HasInteracted=1]="HasInteracted",e[e.AllMessages=2]="AllMessages",e[e.OnlyMentions=4]="OnlyMentions",e[e.NoMessages=8]="NoMessages"})(Qs||(U.ThreadMemberFlags=Qs={}));var Zs;(function(e){e.Rich="rich",e.Image="image",e.Video="video",e.GIFV="gifv",e.Article="article",e.Link="link",e.AutoModerationMessage="auto_moderation_message"})(Zs||(U.EmbedType=Zs={}));var Js;(function(e){e[e.IsRemix=4]="IsRemix"})(Js||(U.AttachmentFlags=Js={}));var eo;(function(e){e.Everyone="everyone",e.Role="roles",e.User="users"})(eo||(U.AllowedMentionsTypes=eo={}));var to;(function(e){e[e.ActionRow=1]="ActionRow",e[e.Button=2]="Button",e[e.StringSelect=3]="StringSelect",e[e.TextInput=4]="TextInput",e[e.UserSelect=5]="UserSelect",e[e.RoleSelect=6]="RoleSelect",e[e.MentionableSelect=7]="MentionableSelect",e[e.ChannelSelect=8]="ChannelSelect",e[e.SelectMenu=3]="SelectMenu"})(to||(U.ComponentType=to={}));var no;(function(e){e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Success=3]="Success",e[e.Danger=4]="Danger",e[e.Link=5]="Link",e[e.Premium=6]="Premium"})(no||(U.ButtonStyle=no={}));var io;(function(e){e[e.Short=1]="Short",e[e.Paragraph=2]="Paragraph"})(io||(U.TextInputStyle=io={}));var ro;(function(e){e.Channel="channel",e.Role="role",e.User="user"})(ro||(U.SelectMenuDefaultValueType=ro={}));var ao;(function(e){e[e.GuildFeedRemoved=1]="GuildFeedRemoved",e[e.Pinned=2]="Pinned",e[e.ActiveChannelsRemoved=4]="ActiveChannelsRemoved",e[e.RequireTag=16]="RequireTag",e[e.IsSpam=32]="IsSpam",e[e.IsGuildResourceChannel=128]="IsGuildResourceChannel",e[e.ClydeAI=256]="ClydeAI",e[e.IsScheduledForDeletion=512]="IsScheduledForDeletion",e[e.HideMediaDownloadOptions=32768]="HideMediaDownloadOptions"})(ao||(U.ChannelFlags=ao={}));var so={};Object.defineProperty(so,"__esModule",{value:!0});var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.ActivityFlags=Te.ActivityType=Te.ActivityPlatform=Te.PresenceUpdateStatus=void 0;var oo;(function(e){e.Online="online",e.DoNotDisturb="dnd",e.Idle="idle",e.Invisible="invisible",e.Offline="offline"})(oo||(Te.PresenceUpdateStatus=oo={}));var co;(function(e){e.Desktop="desktop",e.Xbox="xbox",e.Samsung="samsung",e.IOS="ios",e.Android="android",e.Embedded="embedded",e.PS4="ps4",e.PS5="ps5"})(co||(Te.ActivityPlatform=co={}));var lo;(function(e){e[e.Playing=0]="Playing",e[e.Streaming=1]="Streaming",e[e.Listening=2]="Listening",e[e.Watching=3]="Watching",e[e.Custom=4]="Custom",e[e.Competing=5]="Competing"})(lo||(Te.ActivityType=lo={}));var uo;(function(e){e[e.Instance=1]="Instance",e[e.Join=2]="Join",e[e.Spectate=4]="Spectate",e[e.JoinRequest=8]="JoinRequest",e[e.Sync=16]="Sync",e[e.Play=32]="Play",e[e.PartyPrivacyFriends=64]="PartyPrivacyFriends",e[e.PartyPrivacyVoiceChannel=128]="PartyPrivacyVoiceChannel",e[e.Embedded=256]="Embedded"})(uo||(Te.ActivityFlags=uo={}));var V={};Object.defineProperty(V,"__esModule",{value:!0}),V.GuildOnboardingPromptType=V.GuildOnboardingMode=V.MembershipScreeningFieldType=V.GuildWidgetStyle=V.IntegrationExpireBehavior=V.GuildMemberFlags=V.GuildFeature=V.GuildSystemChannelFlags=V.GuildHubType=V.GuildPremiumTier=V.GuildVerificationLevel=V.GuildNSFWLevel=V.GuildMFALevel=V.GuildExplicitContentFilter=V.GuildDefaultMessageNotifications=void 0;var fo;(function(e){e[e.AllMessages=0]="AllMessages",e[e.OnlyMentions=1]="OnlyMentions"})(fo||(V.GuildDefaultMessageNotifications=fo={}));var ho;(function(e){e[e.Disabled=0]="Disabled",e[e.MembersWithoutRoles=1]="MembersWithoutRoles",e[e.AllMembers=2]="AllMembers"})(ho||(V.GuildExplicitContentFilter=ho={}));var mo;(function(e){e[e.None=0]="None",e[e.Elevated=1]="Elevated"})(mo||(V.GuildMFALevel=mo={}));var po;(function(e){e[e.Default=0]="Default",e[e.Explicit=1]="Explicit",e[e.Safe=2]="Safe",e[e.AgeRestricted=3]="AgeRestricted"})(po||(V.GuildNSFWLevel=po={}));var go;(function(e){e[e.None=0]="None",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"})(go||(V.GuildVerificationLevel=go={}));var vo;(function(e){e[e.None=0]="None",e[e.Tier1=1]="Tier1",e[e.Tier2=2]="Tier2",e[e.Tier3=3]="Tier3"})(vo||(V.GuildPremiumTier=vo={}));var xo;(function(e){e[e.Default=0]="Default",e[e.HighSchool=1]="HighSchool",e[e.College=2]="College"})(xo||(V.GuildHubType=xo={}));var bo;(function(e){e[e.SuppressJoinNotifications=1]="SuppressJoinNotifications",e[e.SuppressPremiumSubscriptions=2]="SuppressPremiumSubscriptions",e[e.SuppressGuildReminderNotifications=4]="SuppressGuildReminderNotifications",e[e.SuppressJoinNotificationReplies=8]="SuppressJoinNotificationReplies",e[e.SuppressRoleSubscriptionPurchaseNotifications=16]="SuppressRoleSubscriptionPurchaseNotifications",e[e.SuppressRoleSubscriptionPurchaseNotificationReplies=32]="SuppressRoleSubscriptionPurchaseNotificationReplies"})(bo||(V.GuildSystemChannelFlags=bo={}));var yo;(function(e){e.AnimatedBanner="ANIMATED_BANNER",e.AnimatedIcon="ANIMATED_ICON",e.ApplicationCommandPermissionsV2="APPLICATION_COMMAND_PERMISSIONS_V2",e.AutoModeration="AUTO_MODERATION",e.Banner="BANNER",e.Community="COMMUNITY",e.CreatorMonetizableProvisional="CREATOR_MONETIZABLE_PROVISIONAL",e.CreatorStorePage="CREATOR_STORE_PAGE",e.DeveloperSupportServer="DEVELOPER_SUPPORT_SERVER",e.Discoverable="DISCOVERABLE",e.Featurable="FEATURABLE",e.HasDirectoryEntry="HAS_DIRECTORY_ENTRY",e.Hub="HUB",e.InvitesDisabled="INVITES_DISABLED",e.InviteSplash="INVITE_SPLASH",e.LinkedToHub="LINKED_TO_HUB",e.MemberVerificationGateEnabled="MEMBER_VERIFICATION_GATE_ENABLED",e.MonetizationEnabled="MONETIZATION_ENABLED",e.MoreStickers="MORE_STICKERS",e.News="NEWS",e.Partnered="PARTNERED",e.PreviewEnabled="PREVIEW_ENABLED",e.PrivateThreads="PRIVATE_THREADS",e.RaidAlertsDisabled="RAID_ALERTS_DISABLED",e.RelayEnabled="RELAY_ENABLED",e.RoleIcons="ROLE_ICONS",e.RoleSubscriptionsAvailableForPurchase="ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE",e.RoleSubscriptionsEnabled="ROLE_SUBSCRIPTIONS_ENABLED",e.TicketedEventsEnabled="TICKETED_EVENTS_ENABLED",e.VanityURL="VANITY_URL",e.Verified="VERIFIED",e.VIPRegions="VIP_REGIONS",e.WelcomeScreenEnabled="WELCOME_SCREEN_ENABLED"})(yo||(V.GuildFeature=yo={}));var _o;(function(e){e[e.DidRejoin=1]="DidRejoin",e[e.CompletedOnboarding=2]="CompletedOnboarding",e[e.BypassesVerification=4]="BypassesVerification",e[e.StartedOnboarding=8]="StartedOnboarding",e[e.StartedHomeActions=32]="StartedHomeActions",e[e.CompletedHomeActions=64]="CompletedHomeActions",e[e.AutomodQuarantinedUsernameOrGuildNickname=128]="AutomodQuarantinedUsernameOrGuildNickname",e[e.AutomodQuarantinedBio=256]="AutomodQuarantinedBio"})(_o||(V.GuildMemberFlags=_o={}));var $o;(function(e){e[e.RemoveRole=0]="RemoveRole",e[e.Kick=1]="Kick"})($o||(V.IntegrationExpireBehavior=$o={}));var Io;(function(e){e.Shield="shield",e.Banner1="banner1",e.Banner2="banner2",e.Banner3="banner3",e.Banner4="banner4"})(Io||(V.GuildWidgetStyle=Io={}));var wo;(function(e){e.Terms="TERMS"})(wo||(V.MembershipScreeningFieldType=wo={}));var Ao;(function(e){e[e.OnboardingDefault=0]="OnboardingDefault",e[e.OnboardingAdvanced=1]="OnboardingAdvanced"})(Ao||(V.GuildOnboardingMode=Ao={}));var To;(function(e){e[e.MultipleChoice=0]="MultipleChoice",e[e.Dropdown=1]="Dropdown"})(To||(V.GuildOnboardingPromptType=To={}));var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.GuildScheduledEventPrivacyLevel=ue.GuildScheduledEventStatus=ue.GuildScheduledEventEntityType=ue.GuildScheduledEventRecurrenceRuleMonth=ue.GuildScheduledEventRecurrenceRuleWeekday=ue.GuildScheduledEventRecurrenceRuleFrequency=void 0;var Mo;(function(e){e[e.Yearly=0]="Yearly",e[e.Monthly=1]="Monthly",e[e.Weekly=2]="Weekly",e[e.Daily=3]="Daily"})(Mo||(ue.GuildScheduledEventRecurrenceRuleFrequency=Mo={}));var Po;(function(e){e[e.Monday=0]="Monday",e[e.Tuesday=1]="Tuesday",e[e.Wednesday=2]="Wednesday",e[e.Thursday=3]="Thursday",e[e.Friday=4]="Friday",e[e.Saturday=5]="Saturday",e[e.Sunday=6]="Sunday"})(Po||(ue.GuildScheduledEventRecurrenceRuleWeekday=Po={}));var Do;(function(e){e[e.January=1]="January",e[e.February=2]="February",e[e.March=3]="March",e[e.April=4]="April",e[e.May=5]="May",e[e.June=6]="June",e[e.July=7]="July",e[e.August=8]="August",e[e.September=9]="September",e[e.October=10]="October",e[e.November=11]="November",e[e.December=12]="December"})(Do||(ue.GuildScheduledEventRecurrenceRuleMonth=Do={}));var ko;(function(e){e[e.StageInstance=1]="StageInstance",e[e.Voice=2]="Voice",e[e.External=3]="External"})(ko||(ue.GuildScheduledEventEntityType=ko={}));var Lo;(function(e){e[e.Scheduled=1]="Scheduled",e[e.Active=2]="Active",e[e.Completed=3]="Completed",e[e.Canceled=4]="Canceled"})(Lo||(ue.GuildScheduledEventStatus=Lo={}));var Eo;(function(e){e[e.GuildOnly=2]="GuildOnly"})(Eo||(ue.GuildScheduledEventPrivacyLevel=Eo={}));var Oo={},Ro={},Co={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});var So={};Object.defineProperty(So,"__esModule",{value:!0});var No={};Object.defineProperty(No,"__esModule",{value:!0});var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});var jo={};Object.defineProperty(jo,"__esModule",{value:!0});var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});var Go={};Object.defineProperty(Go,"__esModule",{value:!0});var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.ApplicationCommandOptionType=void 0;var Ho;(function(e){e[e.Subcommand=1]="Subcommand",e[e.SubcommandGroup=2]="SubcommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionable=9]="Mentionable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(Ho||(Sn.ApplicationCommandOptionType=Ho={}));var qo={};Object.defineProperty(qo,"__esModule",{value:!0});var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});var zo={};Object.defineProperty(zo,"__esModule",{value:!0});var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0}),function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Uo,e),n(Fo,e),n(So,e),n(No,e),n(Bo,e),n(jo,e),n(Vo,e),n(Go,e),n(Sn,e),n(qo,e),n(Wo,e),n(zo,e),n(Ko,e)}(Co);var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.APIApplicationCommandPermissionsConstant=mt.ApplicationCommandPermissionType=void 0;var Xo;(function(e){e[e.Role=1]="Role",e[e.User=2]="User",e[e.Channel=3]="Channel"})(Xo||(mt.ApplicationCommandPermissionType=Xo={})),mt.APIApplicationCommandPermissionsConstant={Everyone:e=>String(e),AllChannels:e=>String(BigInt(e)-1n)},function(e){var t=S&&S.__createBinding||(Object.create?function(s,o,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(o,c);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(s,l,u)}:function(s,o,c,l){l===void 0&&(l=c),s[l]=o[c]}),n=S&&S.__exportStar||function(s,o){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,s,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionContextType=e.ApplicationIntegrationType=e.ApplicationCommandType=void 0,n(Co,e),n(Yo,e),n(mt,e);var i;(function(s){s[s.ChatInput=1]="ChatInput",s[s.User=2]="User",s[s.Message=3]="Message"})(i||(e.ApplicationCommandType=i={}));var r;(function(s){s[s.GuildInstall=0]="GuildInstall",s[s.UserInstall=1]="UserInstall"})(r||(e.ApplicationIntegrationType=r={}));var a;(function(s){s[s.Guild=0]="Guild",s[s.BotDM=1]="BotDM",s[s.PrivateChannel=2]="PrivateChannel"})(a||(e.InteractionContextType=a={}))}(Ro);var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});var ec={};Object.defineProperty(ec,"__esModule",{value:!0});var tc={};Object.defineProperty(tc,"__esModule",{value:!0});var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.InteractionResponseType=pt.InteractionType=void 0;var nc;(function(e){e[e.Ping=1]="Ping",e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent",e[e.ApplicationCommandAutocomplete=4]="ApplicationCommandAutocomplete",e[e.ModalSubmit=5]="ModalSubmit"})(nc||(pt.InteractionType=nc={}));var ic;(function(e){e[e.Pong=1]="Pong",e[e.ChannelMessageWithSource=4]="ChannelMessageWithSource",e[e.DeferredChannelMessageWithSource=5]="DeferredChannelMessageWithSource",e[e.DeferredMessageUpdate=6]="DeferredMessageUpdate",e[e.UpdateMessage=7]="UpdateMessage",e[e.ApplicationCommandAutocompleteResult=8]="ApplicationCommandAutocompleteResult",e[e.Modal=9]="Modal",e[e.PremiumRequired=10]="PremiumRequired"})(ic||(pt.InteractionResponseType=ic={})),function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ro,e),n(Qo,e),n(Zo,e),n(Jo,e),n(ec,e),n(tc,e),n(pt,e)}(Oo);var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.InviteTargetType=gt.InviteType=void 0;var rc;(function(e){e[e.Guild=0]="Guild",e[e.GroupDM=1]="GroupDM",e[e.Friend=2]="Friend"})(rc||(gt.InviteType=rc={}));var ac;(function(e){e[e.Stream=1]="Stream",e[e.EmbeddedApplication=2]="EmbeddedApplication"})(ac||(gt.InviteTargetType=ac={}));var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.OAuth2Scopes=void 0;var sc;(function(e){e.Bot="bot",e.Connections="connections",e.DMChannelsRead="dm_channels.read",e.Email="email",e.Identify="identify",e.Guilds="guilds",e.GuildsJoin="guilds.join",e.GuildsMembersRead="guilds.members.read",e.GroupDMJoins="gdm.join",e.MessagesRead="messages.read",e.RoleConnectionsWrite="role_connections.write",e.RPC="rpc",e.RPCNotificationsRead="rpc.notifications.read",e.WebhookIncoming="webhook.incoming",e.Voice="voice",e.ApplicationsBuildsUpload="applications.builds.upload",e.ApplicationsBuildsRead="applications.builds.read",e.ApplicationsStoreUpdate="applications.store.update",e.ApplicationsEntitlements="applications.entitlements",e.RelationshipsRead="relationships.read",e.ActivitiesRead="activities.read",e.ActivitiesWrite="activities.write",e.ApplicationsCommands="applications.commands",e.ApplicationsCommandsUpdate="applications.commands.update",e.ApplicationCommandsPermissionsUpdate="applications.commands.permissions.update"})(sc||(Nn.OAuth2Scopes=sc={}));var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.PollLayoutType=void 0;var oc;(function(e){e[e.Default=1]="Default"})(oc||(Bn.PollLayoutType=oc={}));var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.RoleFlags=void 0;var cc;(function(e){e[e.InPrompt=1]="InPrompt"})(cc||(jn.RoleFlags=cc={}));var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.StageInstancePrivacyLevel=void 0;var lc;(function(e){e[e.Public=1]="Public",e[e.GuildOnly=2]="GuildOnly"})(lc||(Vn.StageInstancePrivacyLevel=lc={}));var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.StickerFormatType=vt.StickerType=void 0;var uc;(function(e){e[e.Standard=1]="Standard",e[e.Guild=2]="Guild"})(uc||(vt.StickerType=uc={}));var dc;(function(e){e[e.PNG=1]="PNG",e[e.APNG=2]="APNG",e[e.Lottie=3]="Lottie",e[e.GIF=4]="GIF"})(dc||(vt.StickerFormatType=dc={}));var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.TeamMemberRole=xt.TeamMemberMembershipState=void 0;var fc;(function(e){e[e.Invited=1]="Invited",e[e.Accepted=2]="Accepted"})(fc||(xt.TeamMemberMembershipState=fc={}));var hc;(function(e){e.Admin="admin",e.Developer="developer",e.ReadOnly="read_only"})(hc||(xt.TeamMemberRole=hc={}));var mc={};Object.defineProperty(mc,"__esModule",{value:!0});var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.ConnectionVisibility=Me.ConnectionService=Me.UserPremiumType=Me.UserFlags=void 0;var pc;(function(e){e[e.Staff=1]="Staff",e[e.Partner=2]="Partner",e[e.Hypesquad=4]="Hypesquad",e[e.BugHunterLevel1=8]="BugHunterLevel1",e[e.MFASMS=16]="MFASMS",e[e.PremiumPromoDismissed=32]="PremiumPromoDismissed",e[e.HypeSquadOnlineHouse1=64]="HypeSquadOnlineHouse1",e[e.HypeSquadOnlineHouse2=128]="HypeSquadOnlineHouse2",e[e.HypeSquadOnlineHouse3=256]="HypeSquadOnlineHouse3",e[e.PremiumEarlySupporter=512]="PremiumEarlySupporter",e[e.TeamPseudoUser=1024]="TeamPseudoUser",e[e.HasUnreadUrgentMessages=8192]="HasUnreadUrgentMessages",e[e.BugHunterLevel2=16384]="BugHunterLevel2",e[e.VerifiedBot=65536]="VerifiedBot",e[e.VerifiedDeveloper=131072]="VerifiedDeveloper",e[e.CertifiedModerator=262144]="CertifiedModerator",e[e.BotHTTPInteractions=524288]="BotHTTPInteractions",e[e.Spammer=1048576]="Spammer",e[e.DisablePremium=2097152]="DisablePremium",e[e.ActiveDeveloper=4194304]="ActiveDeveloper",e[e.Quarantined=17592186044416]="Quarantined",e[e.Collaborator=0x4000000000000]="Collaborator",e[e.RestrictedCollaborator=0x8000000000000]="RestrictedCollaborator"})(pc||(Me.UserFlags=pc={}));var gc;(function(e){e[e.None=0]="None",e[e.NitroClassic=1]="NitroClassic",e[e.Nitro=2]="Nitro",e[e.NitroBasic=3]="NitroBasic"})(gc||(Me.UserPremiumType=gc={}));var vc;(function(e){e.BattleNet="battlenet",e.BungieNet="bungie",e.Domain="domain",e.eBay="ebay",e.EpicGames="epicgames",e.Facebook="facebook",e.GitHub="github",e.Instagram="instagram",e.LeagueOfLegends="leagueoflegends",e.PayPal="paypal",e.PlayStationNetwork="playstation",e.Reddit="reddit",e.RiotGames="riotgames",e.Roblox="roblox",e.Spotify="spotify",e.Skype="skype",e.Steam="steam",e.TikTok="tiktok",e.Twitch="twitch",e.X="twitter",e.Twitter="twitter",e.Xbox="xbox",e.YouTube="youtube"})(vc||(Me.ConnectionService=vc={}));var xc;(function(e){e[e.None=0]="None",e[e.Everyone=1]="Everyone"})(xc||(Me.ConnectionVisibility=xc={}));var bc={};Object.defineProperty(bc,"__esModule",{value:!0});var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.WebhookType=void 0;var yc;(function(e){e[e.Incoming=1]="Incoming",e[e.ChannelFollower=2]="ChannelFollower",e[e.Application=3]="Application"})(yc||(Gn.WebhookType=yc={}));var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.SKUType=Ce.SKUFlags=Ce.EntitlementType=void 0;var _c;(function(e){e[e.Purchase=1]="Purchase",e[e.PremiumSubscription=2]="PremiumSubscription",e[e.DeveloperGift=3]="DeveloperGift",e[e.TestModePurchase=4]="TestModePurchase",e[e.FreePurchase=5]="FreePurchase",e[e.UserGift=6]="UserGift",e[e.PremiumPurchase=7]="PremiumPurchase",e[e.ApplicationSubscription=8]="ApplicationSubscription"})(_c||(Ce.EntitlementType=_c={}));var $c;(function(e){e[e.Available=4]="Available",e[e.GuildSubscription=128]="GuildSubscription",e[e.UserSubscription=256]="UserSubscription"})($c||(Ce.SKUFlags=$c={}));var Ic;(function(e){e[e.Durable=2]="Durable",e[e.Consumable=3]="Consumable",e[e.Subscription=5]="Subscription",e[e.SubscriptionGroup=6]="SubscriptionGroup"})(Ic||(Ce.SKUType=Ic={})),function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Es,e),n(ft,e),n(ht,e),n(Ae,e),n(U,e),n(so,e),n(Te,e),n(V,e),n(ue,e),n(Oo,e),n(gt,e),n(Nn,e),n(Bn,e),n(jn,e),n(Vn,e),n(vt,e),n(xt,e),n(mc,e),n(Me,e),n(bc,e),n(Gn,e),n(Ce,e)}(Ls);const $=re(Ls),Sg=$.APIApplicationCommandPermissionsConstant,Ng=$.ActivityFlags,Bg=$.ActivityPlatform,jg=$.ActivityType,Vg=$.AllowedMentionsTypes,Gg=$.ApplicationCommandOptionType,Hg=$.ApplicationCommandPermissionType,qg=$.ApplicationCommandType,Wg=$.ApplicationFlags,zg=$.ApplicationIntegrationType,Kg=$.ApplicationRoleConnectionMetadataType,Yg=$.AttachmentFlags,Xg=$.AuditLogEvent,Qg=$.AuditLogOptionsType,Zg=$.AutoModerationActionType,Jg=$.AutoModerationRuleEventType,ev=$.AutoModerationRuleKeywordPresetType,tv=$.AutoModerationRuleTriggerType,nv=$.ButtonStyle,iv=$.ChannelFlags,rv=$.ChannelType,av=$.ComponentType,sv=$.ConnectionService,ov=$.ConnectionVisibility,cv=$.EmbedType,lv=$.EntitlementType,uv=$.ForumLayoutType,dv=$.GuildDefaultMessageNotifications,fv=$.GuildExplicitContentFilter,hv=$.GuildFeature,mv=$.GuildHubType,pv=$.GuildMFALevel,gv=$.GuildMemberFlags,vv=$.GuildNSFWLevel,xv=$.GuildOnboardingMode,bv=$.GuildOnboardingPromptType,yv=$.GuildPremiumTier,_v=$.GuildScheduledEventEntityType,$v=$.GuildScheduledEventPrivacyLevel,Iv=$.GuildScheduledEventRecurrenceRuleFrequency,wv=$.GuildScheduledEventRecurrenceRuleMonth,Av=$.GuildScheduledEventRecurrenceRuleWeekday,Tv=$.GuildScheduledEventStatus,Mv=$.GuildSystemChannelFlags,Pv=$.GuildVerificationLevel,Dv=$.GuildWidgetStyle,kv=$.IntegrationExpireBehavior,Lv=$.InteractionContextType,Ev=$.InteractionResponseType,Ov=$.InteractionType,Rv=$.InviteTargetType,Cv=$.InviteType,Uv=$.MembershipScreeningFieldType,Fv=$.MessageActivityType,Sv=$.MessageFlags,Nv=$.MessageReferenceType,Bv=$.MessageType,jv=$.OAuth2Scopes,Vv=$.OverwriteType,Gv=$.PermissionFlagsBits,Hv=$.PollLayoutType,qv=$.PresenceUpdateStatus,Wv=$.RoleFlags,zv=$.SKUFlags,Kv=$.SKUType,Yv=$.SelectMenuDefaultValueType,Xv=$.SortOrderType,Qv=$.StageInstancePrivacyLevel,Zv=$.StickerFormatType,Jv=$.StickerType,ex=$.TeamMemberMembershipState,tx=$.TeamMemberRole,nx=$.TextInputStyle,ix=$.ThreadAutoArchiveDuration,rx=$.ThreadMemberFlags,ax=$.UserFlags,sx=$.UserPremiumType,ox=$.VideoQualityMode,cx=$.WebhookType,wc=nt(Object.freeze(Object.defineProperty({__proto__:null,APIApplicationCommandPermissionsConstant:Sg,ActivityFlags:Ng,ActivityPlatform:Bg,ActivityType:jg,AllowedMentionsTypes:Vg,ApplicationCommandOptionType:Gg,ApplicationCommandPermissionType:Hg,ApplicationCommandType:qg,ApplicationFlags:Wg,ApplicationIntegrationType:zg,ApplicationRoleConnectionMetadataType:Kg,AttachmentFlags:Yg,AuditLogEvent:Xg,AuditLogOptionsType:Qg,AutoModerationActionType:Zg,AutoModerationRuleEventType:Jg,AutoModerationRuleKeywordPresetType:ev,AutoModerationRuleTriggerType:tv,ButtonStyle:nv,ChannelFlags:iv,ChannelType:rv,ComponentType:av,ConnectionService:sv,ConnectionVisibility:ov,EmbedType:cv,EntitlementType:lv,ForumLayoutType:uv,GuildDefaultMessageNotifications:dv,GuildExplicitContentFilter:fv,GuildFeature:hv,GuildHubType:mv,GuildMFALevel:pv,GuildMemberFlags:gv,GuildNSFWLevel:vv,GuildOnboardingMode:xv,GuildOnboardingPromptType:bv,GuildPremiumTier:yv,GuildScheduledEventEntityType:_v,GuildScheduledEventPrivacyLevel:$v,GuildScheduledEventRecurrenceRuleFrequency:Iv,GuildScheduledEventRecurrenceRuleMonth:wv,GuildScheduledEventRecurrenceRuleWeekday:Av,GuildScheduledEventStatus:Tv,GuildSystemChannelFlags:Mv,GuildVerificationLevel:Pv,GuildWidgetStyle:Dv,IntegrationExpireBehavior:kv,InteractionContextType:Lv,InteractionResponseType:Ev,InteractionType:Ov,InviteTargetType:Rv,InviteType:Cv,MembershipScreeningFieldType:Uv,MessageActivityType:Fv,MessageFlags:Sv,MessageReferenceType:Nv,MessageType:Bv,OAuth2Scopes:jv,OverwriteType:Vv,PermissionFlagsBits:Gv,PollLayoutType:Hv,PresenceUpdateStatus:qv,RoleFlags:Wv,SKUFlags:zv,SKUType:Kv,SelectMenuDefaultValueType:Yv,SortOrderType:Xv,StageInstancePrivacyLevel:Qv,StickerFormatType:Zv,StickerType:Jv,TeamMemberMembershipState:ex,TeamMemberRole:tx,TextInputStyle:nx,ThreadAutoArchiveDuration:ix,ThreadMemberFlags:rx,UserFlags:ax,UserPremiumType:sx,VideoQualityMode:ox,WebhookType:cx,default:$},Symbol.toStringTag,{value:"Module"})));var Ac={},bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.Locale=bt.RESTJSONErrorCodes=void 0;var Tc;(function(e){e[e.GeneralError=0]="GeneralError",e[e.UnknownAccount=10001]="UnknownAccount",e[e.UnknownApplication=10002]="UnknownApplication",e[e.UnknownChannel=10003]="UnknownChannel",e[e.UnknownGuild=10004]="UnknownGuild",e[e.UnknownIntegration=10005]="UnknownIntegration",e[e.UnknownInvite=10006]="UnknownInvite",e[e.UnknownMember=10007]="UnknownMember",e[e.UnknownMessage=10008]="UnknownMessage",e[e.UnknownPermissionOverwrite=10009]="UnknownPermissionOverwrite",e[e.UnknownProvider=10010]="UnknownProvider",e[e.UnknownRole=10011]="UnknownRole",e[e.UnknownToken=10012]="UnknownToken",e[e.UnknownUser=10013]="UnknownUser",e[e.UnknownEmoji=10014]="UnknownEmoji",e[e.UnknownWebhook=10015]="UnknownWebhook",e[e.UnknownWebhookService=10016]="UnknownWebhookService",e[e.UnknownSession=10020]="UnknownSession",e[e.UnknownBan=10026]="UnknownBan",e[e.UnknownSKU=10027]="UnknownSKU",e[e.UnknownStoreListing=10028]="UnknownStoreListing",e[e.UnknownEntitlement=10029]="UnknownEntitlement",e[e.UnknownBuild=10030]="UnknownBuild",e[e.UnknownLobby=10031]="UnknownLobby",e[e.UnknownBranch=10032]="UnknownBranch",e[e.UnknownStoreDirectoryLayout=10033]="UnknownStoreDirectoryLayout",e[e.UnknownRedistributable=10036]="UnknownRedistributable",e[e.UnknownGiftCode=10038]="UnknownGiftCode",e[e.UnknownStream=10049]="UnknownStream",e[e.UnknownPremiumServerSubscribeCooldown=10050]="UnknownPremiumServerSubscribeCooldown",e[e.UnknownGuildTemplate=10057]="UnknownGuildTemplate",e[e.UnknownDiscoverableServerCategory=10059]="UnknownDiscoverableServerCategory",e[e.UnknownSticker=10060]="UnknownSticker",e[e.UnknownStickerPack=10061]="UnknownStickerPack",e[e.UnknownInteraction=10062]="UnknownInteraction",e[e.UnknownApplicationCommand=10063]="UnknownApplicationCommand",e[e.UnknownVoiceState=10065]="UnknownVoiceState",e[e.UnknownApplicationCommandPermissions=10066]="UnknownApplicationCommandPermissions",e[e.UnknownStageInstance=10067]="UnknownStageInstance",e[e.UnknownGuildMemberVerificationForm=10068]="UnknownGuildMemberVerificationForm",e[e.UnknownGuildWelcomeScreen=10069]="UnknownGuildWelcomeScreen",e[e.UnknownGuildScheduledEvent=10070]="UnknownGuildScheduledEvent",e[e.UnknownGuildScheduledEventUser=10071]="UnknownGuildScheduledEventUser",e[e.UnknownTag=10087]="UnknownTag",e[e.BotsCannotUseThisEndpoint=20001]="BotsCannotUseThisEndpoint",e[e.OnlyBotsCanUseThisEndpoint=20002]="OnlyBotsCanUseThisEndpoint",e[e.ExplicitContentCannotBeSentToTheDesiredRecipient=20009]="ExplicitContentCannotBeSentToTheDesiredRecipient",e[e.NotAuthorizedToPerformThisActionOnThisApplication=20012]="NotAuthorizedToPerformThisActionOnThisApplication",e[e.ActionCannotBePerformedDueToSlowmodeRateLimit=20016]="ActionCannotBePerformedDueToSlowmodeRateLimit",e[e.TheMazeIsntMeantForYou=20017]="TheMazeIsntMeantForYou",e[e.OnlyTheOwnerOfThisAccountCanPerformThisAction=20018]="OnlyTheOwnerOfThisAccountCanPerformThisAction",e[e.AnnouncementEditLimitExceeded=20022]="AnnouncementEditLimitExceeded",e[e.UnderMinimumAge=20024]="UnderMinimumAge",e[e.ChannelSendRateLimit=20028]="ChannelSendRateLimit",e[e.ServerSendRateLimit=20029]="ServerSendRateLimit",e[e.StageTopicServerNameServerDescriptionOrChannelNamesContainDisallowedWords=20031]="StageTopicServerNameServerDescriptionOrChannelNamesContainDisallowedWords",e[e.GuildPremiumSubscriptionLevelTooLow=20035]="GuildPremiumSubscriptionLevelTooLow",e[e.MaximumNumberOfGuildsReached=30001]="MaximumNumberOfGuildsReached",e[e.MaximumNumberOfFriendsReached=30002]="MaximumNumberOfFriendsReached",e[e.MaximumNumberOfPinsReachedForTheChannel=30003]="MaximumNumberOfPinsReachedForTheChannel",e[e.MaximumNumberOfRecipientsReached=30004]="MaximumNumberOfRecipientsReached",e[e.MaximumNumberOfGuildRolesReached=30005]="MaximumNumberOfGuildRolesReached",e[e.MaximumNumberOfWebhooksReached=30007]="MaximumNumberOfWebhooksReached",e[e.MaximumNumberOfEmojisReached=30008]="MaximumNumberOfEmojisReached",e[e.MaximumNumberOfReactionsReached=30010]="MaximumNumberOfReactionsReached",e[e.MaximumNumberOfGroupDMsReached=30011]="MaximumNumberOfGroupDMsReached",e[e.MaximumNumberOfGuildChannelsReached=30013]="MaximumNumberOfGuildChannelsReached",e[e.MaximumNumberOfAttachmentsInAMessageReached=30015]="MaximumNumberOfAttachmentsInAMessageReached",e[e.MaximumNumberOfInvitesReached=30016]="MaximumNumberOfInvitesReached",e[e.MaximumNumberOfAnimatedEmojisReached=30018]="MaximumNumberOfAnimatedEmojisReached",e[e.MaximumNumberOfServerMembersReached=30019]="MaximumNumberOfServerMembersReached",e[e.MaximumNumberOfServerCategoriesReached=30030]="MaximumNumberOfServerCategoriesReached",e[e.GuildAlreadyHasTemplate=30031]="GuildAlreadyHasTemplate",e[e.MaximumNumberOfApplicationCommandsReached=30032]="MaximumNumberOfApplicationCommandsReached",e[e.MaximumThreadParticipantsReached=30033]="MaximumThreadParticipantsReached",e[e.MaximumDailyApplicationCommandCreatesReached=30034]="MaximumDailyApplicationCommandCreatesReached",e[e.MaximumNumberOfNonGuildMemberBansHasBeenExceeded=30035]="MaximumNumberOfNonGuildMemberBansHasBeenExceeded",e[e.MaximumNumberOfBanFetchesHasBeenReached=30037]="MaximumNumberOfBanFetchesHasBeenReached",e[e.MaximumNumberOfUncompletedGuildScheduledEventsReached=30038]="MaximumNumberOfUncompletedGuildScheduledEventsReached",e[e.MaximumNumberOfStickersReached=30039]="MaximumNumberOfStickersReached",e[e.MaximumNumberOfPruneRequestsHasBeenReached=30040]="MaximumNumberOfPruneRequestsHasBeenReached",e[e.MaximumNumberOfGuildWidgetSettingsUpdatesHasBeenReached=30042]="MaximumNumberOfGuildWidgetSettingsUpdatesHasBeenReached",e[e.MaximumNumberOfEditsToMessagesOlderThanOneHourReached=30046]="MaximumNumberOfEditsToMessagesOlderThanOneHourReached",e[e.MaximumNumberOfPinnedThreadsInForumHasBeenReached=30047]="MaximumNumberOfPinnedThreadsInForumHasBeenReached",e[e.MaximumNumberOfTagsInForumHasBeenReached=30048]="MaximumNumberOfTagsInForumHasBeenReached",e[e.BitrateIsTooHighForChannelOfThisType=30052]="BitrateIsTooHighForChannelOfThisType",e[e.MaximumNumberOfPremiumEmojisReached=30056]="MaximumNumberOfPremiumEmojisReached",e[e.MaximumNumberOfWebhooksPerGuildReached=30058]="MaximumNumberOfWebhooksPerGuildReached",e[e.MaximumNumberOfChannelPermissionOverwritesReached=30060]="MaximumNumberOfChannelPermissionOverwritesReached",e[e.TheChannelsForThisGuildAreTooLarge=30061]="TheChannelsForThisGuildAreTooLarge",e[e.Unauthorized=40001]="Unauthorized",e[e.VerifyYourAccount=40002]="VerifyYourAccount",e[e.OpeningDirectMessagesTooFast=40003]="OpeningDirectMessagesTooFast",e[e.SendMessagesHasBeenTemporarilyDisabled=40004]="SendMessagesHasBeenTemporarilyDisabled",e[e.RequestEntityTooLarge=40005]="RequestEntityTooLarge",e[e.FeatureTemporarilyDisabledServerSide=40006]="FeatureTemporarilyDisabledServerSide",e[e.UserBannedFromThisGuild=40007]="UserBannedFromThisGuild",e[e.ConnectionHasBeenRevoked=40012]="ConnectionHasBeenRevoked",e[e.TargetUserIsNotConnectedToVoice=40032]="TargetUserIsNotConnectedToVoice",e[e.ThisMessageWasAlreadyCrossposted=40033]="ThisMessageWasAlreadyCrossposted",e[e.ApplicationCommandWithThatNameAlreadyExists=40041]="ApplicationCommandWithThatNameAlreadyExists",e[e.ApplicationInteractionFailedToSend=40043]="ApplicationInteractionFailedToSend",e[e.CannotSendAMessageInAForumChannel=40058]="CannotSendAMessageInAForumChannel",e[e.InteractionHasAlreadyBeenAcknowledged=40060]="InteractionHasAlreadyBeenAcknowledged",e[e.TagNamesMustBeUnique=40061]="TagNamesMustBeUnique",e[e.ServiceResourceIsBeingRateLimited=40062]="ServiceResourceIsBeingRateLimited",e[e.ThereAreNoTagsAvailableThatCanBeSetByNonModerators=40066]="ThereAreNoTagsAvailableThatCanBeSetByNonModerators",e[e.TagRequiredToCreateAForumPostInThisChannel=40067]="TagRequiredToCreateAForumPostInThisChannel",e[e.AnEntitlementHasAlreadyBeenGrantedForThisResource=40074]="AnEntitlementHasAlreadyBeenGrantedForThisResource",e[e.CloudflareIsBlockingYourRequest=40333]="CloudflareIsBlockingYourRequest",e[e.MissingAccess=50001]="MissingAccess",e[e.InvalidAccountType=50002]="InvalidAccountType",e[e.CannotExecuteActionOnDMChannel=50003]="CannotExecuteActionOnDMChannel",e[e.GuildWidgetDisabled=50004]="GuildWidgetDisabled",e[e.CannotEditMessageAuthoredByAnotherUser=50005]="CannotEditMessageAuthoredByAnotherUser",e[e.CannotSendAnEmptyMessage=50006]="CannotSendAnEmptyMessage",e[e.CannotSendMessagesToThisUser=50007]="CannotSendMessagesToThisUser",e[e.CannotSendMessagesInNonTextChannel=50008]="CannotSendMessagesInNonTextChannel",e[e.ChannelVerificationLevelTooHighForYouToGainAccess=50009]="ChannelVerificationLevelTooHighForYouToGainAccess",e[e.OAuth2ApplicationDoesNotHaveBot=50010]="OAuth2ApplicationDoesNotHaveBot",e[e.OAuth2ApplicationLimitReached=50011]="OAuth2ApplicationLimitReached",e[e.InvalidOAuth2State=50012]="InvalidOAuth2State",e[e.MissingPermissions=50013]="MissingPermissions",e[e.InvalidToken=50014]="InvalidToken",e[e.NoteWasTooLong=50015]="NoteWasTooLong",e[e.ProvidedTooFewOrTooManyMessagesToDelete=50016]="ProvidedTooFewOrTooManyMessagesToDelete",e[e.InvalidMFALevel=50017]="InvalidMFALevel",e[e.MessageCanOnlyBePinnedInTheChannelItWasSentIn=50019]="MessageCanOnlyBePinnedInTheChannelItWasSentIn",e[e.InviteCodeInvalidOrTaken=50020]="InviteCodeInvalidOrTaken",e[e.CannotExecuteActionOnSystemMessage=50021]="CannotExecuteActionOnSystemMessage",e[e.CannotExecuteActionOnThisChannelType=50024]="CannotExecuteActionOnThisChannelType",e[e.InvalidOAuth2AccessToken=50025]="InvalidOAuth2AccessToken",e[e.MissingRequiredOAuth2Scope=50026]="MissingRequiredOAuth2Scope",e[e.InvalidWebhookToken=50027]="InvalidWebhookToken",e[e.InvalidRole=50028]="InvalidRole",e[e.InvalidRecipients=50033]="InvalidRecipients",e[e.OneOfTheMessagesProvidedWasTooOldForBulkDelete=50034]="OneOfTheMessagesProvidedWasTooOldForBulkDelete",e[e.InvalidFormBodyOrContentType=50035]="InvalidFormBodyOrContentType",e[e.InviteAcceptedToGuildWithoutTheBotBeingIn=50036]="InviteAcceptedToGuildWithoutTheBotBeingIn",e[e.InvalidActivityAction=50039]="InvalidActivityAction",e[e.InvalidAPIVersion=50041]="InvalidAPIVersion",e[e.FileUploadedExceedsMaximumSize=50045]="FileUploadedExceedsMaximumSize",e[e.InvalidFileUploaded=50046]="InvalidFileUploaded",e[e.CannotSelfRedeemThisGift=50054]="CannotSelfRedeemThisGift",e[e.InvalidGuild=50055]="InvalidGuild",e[e.InvalidSKU=50057]="InvalidSKU",e[e.InvalidRequestOrigin=50067]="InvalidRequestOrigin",e[e.InvalidMessageType=50068]="InvalidMessageType",e[e.PaymentSourceRequiredToRedeemGift=50070]="PaymentSourceRequiredToRedeemGift",e[e.CannotModifyASystemWebhook=50073]="CannotModifyASystemWebhook",e[e.CannotDeleteChannelRequiredForCommunityGuilds=50074]="CannotDeleteChannelRequiredForCommunityGuilds",e[e.CannotEditStickersWithinMessage=50080]="CannotEditStickersWithinMessage",e[e.InvalidStickerSent=50081]="InvalidStickerSent",e[e.InvalidActionOnArchivedThread=50083]="InvalidActionOnArchivedThread",e[e.InvalidThreadNotificationSettings=50084]="InvalidThreadNotificationSettings",e[e.ParameterEarlierThanCreation=50085]="ParameterEarlierThanCreation",e[e.CommunityServerChannelsMustBeTextChannels=50086]="CommunityServerChannelsMustBeTextChannels",e[e.TheEntityTypeOfTheEventIsDifferentFromTheEntityYouAreTryingToStartTheEventFor=50091]="TheEntityTypeOfTheEventIsDifferentFromTheEntityYouAreTryingToStartTheEventFor",e[e.ServerNotAvailableInYourLocation=50095]="ServerNotAvailableInYourLocation",e[e.ServerNeedsMonetizationEnabledToPerformThisAction=50097]="ServerNeedsMonetizationEnabledToPerformThisAction",e[e.ServerNeedsMoreBoostsToPerformThisAction=50101]="ServerNeedsMoreBoostsToPerformThisAction",e[e.RequestBodyContainsInvalidJSON=50109]="RequestBodyContainsInvalidJSON",e[e.OwnerCannotBePendingMember=50131]="OwnerCannotBePendingMember",e[e.OwnershipCannotBeMovedToABotUser=50132]="OwnershipCannotBeMovedToABotUser",e[e.FailedToResizeAssetBelowTheMinimumSize=50138]="FailedToResizeAssetBelowTheMinimumSize",e[e.CannotMixSubscriptionAndNonSubscriptionRolesForAnEmoji=50144]="CannotMixSubscriptionAndNonSubscriptionRolesForAnEmoji",e[e.CannotConvertBetweenPremiumEmojiAndNormalEmoji=50145]="CannotConvertBetweenPremiumEmojiAndNormalEmoji",e[e.UploadedFileNotFound=50146]="UploadedFileNotFound",e[e.VoiceMessagesDoNotSupportAdditionalContent=50159]="VoiceMessagesDoNotSupportAdditionalContent",e[e.VoiceMessagesMustHaveASingleAudioAttachment=50160]="VoiceMessagesMustHaveASingleAudioAttachment",e[e.VoiceMessagesMustHaveSupportingMetadata=50161]="VoiceMessagesMustHaveSupportingMetadata",e[e.VoiceMessagesCannotBeEdited=50162]="VoiceMessagesCannotBeEdited",e[e.CannotDeleteGuildSubscriptionIntegration=50163]="CannotDeleteGuildSubscriptionIntegration",e[e.YouCannotSendVoiceMessagesInThisChannel=50173]="YouCannotSendVoiceMessagesInThisChannel",e[e.TheUserAccountMustFirstBeVerified=50178]="TheUserAccountMustFirstBeVerified",e[e.YouDoNotHavePermissionToSendThisSticker=50600]="YouDoNotHavePermissionToSendThisSticker",e[e.TwoFactorAuthenticationIsRequired=60003]="TwoFactorAuthenticationIsRequired",e[e.NoUsersWithDiscordTagExist=80004]="NoUsersWithDiscordTagExist",e[e.ReactionWasBlocked=90001]="ReactionWasBlocked",e[e.UserCannotUseBurstReactions=90002]="UserCannotUseBurstReactions",e[e.ApplicationNotYetAvailable=110001]="ApplicationNotYetAvailable",e[e.APIResourceOverloaded=13e4]="APIResourceOverloaded",e[e.TheStageIsAlreadyOpen=150006]="TheStageIsAlreadyOpen",e[e.CannotReplyWithoutPermissionToReadMessageHistory=160002]="CannotReplyWithoutPermissionToReadMessageHistory",e[e.ThreadAlreadyCreatedForMessage=160004]="ThreadAlreadyCreatedForMessage",e[e.ThreadLocked=160005]="ThreadLocked",e[e.MaximumActiveThreads=160006]="MaximumActiveThreads",e[e.MaximumActiveAnnouncementThreads=160007]="MaximumActiveAnnouncementThreads",e[e.InvalidJSONForUploadedLottieFile=170001]="InvalidJSONForUploadedLottieFile",e[e.UploadedLottiesCannotContainRasterizedImages=170002]="UploadedLottiesCannotContainRasterizedImages",e[e.StickerMaximumFramerateExceeded=170003]="StickerMaximumFramerateExceeded",e[e.StickerFrameCountExceedsMaximumOf1000Frames=170004]="StickerFrameCountExceedsMaximumOf1000Frames",e[e.LottieAnimationMaximumDimensionsExceeded=170005]="LottieAnimationMaximumDimensionsExceeded",e[e.StickerFramerateIsTooSmallOrTooLarge=170006]="StickerFramerateIsTooSmallOrTooLarge",e[e.StickerAnimationDurationExceedsMaximumOf5Seconds=170007]="StickerAnimationDurationExceedsMaximumOf5Seconds",e[e.CannotUpdateAFinishedEvent=18e4]="CannotUpdateAFinishedEvent",e[e.FailedToCreateStageNeededForStageEvent=180002]="FailedToCreateStageNeededForStageEvent",e[e.MessageWasBlockedByAutomaticModeration=2e5]="MessageWasBlockedByAutomaticModeration",e[e.TitleWasBlockedByAutomaticModeration=200001]="TitleWasBlockedByAutomaticModeration",e[e.WebhooksPostedToForumChannelsMustHaveAThreadNameOrThreadId=220001]="WebhooksPostedToForumChannelsMustHaveAThreadNameOrThreadId",e[e.WebhooksPostedToForumChannelsCannotHaveBothAThreadNameAndThreadId=220002]="WebhooksPostedToForumChannelsCannotHaveBothAThreadNameAndThreadId",e[e.WebhooksCanOnlyCreateThreadsInForumChannels=220003]="WebhooksCanOnlyCreateThreadsInForumChannels",e[e.WebhookServicesCannotBeUsedInForumChannels=220004]="WebhookServicesCannotBeUsedInForumChannels",e[e.MessageBlockedByHarmfulLinksFilter=24e4]="MessageBlockedByHarmfulLinksFilter",e[e.CannotEnableOnboardingRequirementsAreNotMet=35e4]="CannotEnableOnboardingRequirementsAreNotMet",e[e.CannotUpdateOnboardingWhileBelowRequirements=350001]="CannotUpdateOnboardingWhileBelowRequirements",e[e.FailedToBanUsers=5e5]="FailedToBanUsers",e[e.PollVotingBlocked=52e4]="PollVotingBlocked",e[e.PollExpired=520001]="PollExpired",e[e.InvalidChannelTypeForPollCreation=520002]="InvalidChannelTypeForPollCreation",e[e.CannotEditAPollMessage=520003]="CannotEditAPollMessage",e[e.CannotUseAnEmojiIncludedWithThePoll=520004]="CannotUseAnEmojiIncludedWithThePoll",e[e.CannotExpireANonPollMessage=520006]="CannotExpireANonPollMessage"})(Tc||(bt.RESTJSONErrorCodes=Tc={}));var Mc;(function(e){e.Indonesian="id",e.EnglishUS="en-US",e.EnglishGB="en-GB",e.Bulgarian="bg",e.ChineseCN="zh-CN",e.ChineseTW="zh-TW",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.Finnish="fi",e.French="fr",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Lithuanian="lt",e.Norwegian="no",e.Polish="pl",e.PortugueseBR="pt-BR",e.Romanian="ro",e.Russian="ru",e.SpanishES="es-ES",e.SpanishLATAM="es-419",e.Swedish="sv-SE",e.Thai="th",e.Turkish="tr",e.Ukrainian="uk",e.Vietnamese="vi"})(Mc||(bt.Locale=Mc={}));var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});var kc={};Object.defineProperty(kc,"__esModule",{value:!0});var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.ReactionType=void 0;var Lc;(function(e){e[e.Normal=0]="Normal",e[e.Super=1]="Super"})(Lc||(Hn.ReactionType=Lc={}));var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});var jc={};Object.defineProperty(jc,"__esModule",{value:!0});var Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});var Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});var qc={};Object.defineProperty(qc,"__esModule",{value:!0});var qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.EntitlementOwnerType=void 0;var Wc;(function(e){e[e.Guild=1]="Guild",e[e.User=2]="User"})(Wc||(qn.EntitlementOwnerType=Wc={})),function(e){var t=S&&S.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,c)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=S&&S.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2Routes=e.RouteBases=e.CDNRoutes=e.ImageFormat=e.StickerPackApplicationId=e.Routes=e.APIVersion=void 0,n(bt,e),n(Pc,e),n(Dc,e),n(kc,e),n(Hn,e),n(Ec,e),n(Oc,e),n(Rc,e),n(Cc,e),n(Uc,e),n(Fc,e),n(Sc,e),n(Nc,e),n(Bc,e),n(jc,e),n(Vc,e),n(Gc,e),n(Hc,e),n(qc,e),n(qn,e),e.APIVersion="10",e.Routes={applicationRoleConnectionMetadata(r){return`/applications/${r}/role-connections/metadata`},guildAutoModerationRules(r){return`/guilds/${r}/auto-moderation/rules`},guildAutoModerationRule(r,a){return`/guilds/${r}/auto-moderation/rules/${a}`},guildAuditLog(r){return`/guilds/${r}/audit-logs`},channel(r){return`/channels/${r}`},channelMessages(r){return`/channels/${r}/messages`},channelMessage(r,a){return`/channels/${r}/messages/${a}`},channelMessageCrosspost(r,a){return`/channels/${r}/messages/${a}/crosspost`},channelMessageOwnReaction(r,a,s){return`/channels/${r}/messages/${a}/reactions/${s}/@me`},channelMessageUserReaction(r,a,s,o){return`/channels/${r}/messages/${a}/reactions/${s}/${o}`},channelMessageReaction(r,a,s){return`/channels/${r}/messages/${a}/reactions/${s}`},channelMessageAllReactions(r,a){return`/channels/${r}/messages/${a}/reactions`},channelBulkDelete(r){return`/channels/${r}/messages/bulk-delete`},channelPermission(r,a){return`/channels/${r}/permissions/${a}`},channelInvites(r){return`/channels/${r}/invites`},channelFollowers(r){return`/channels/${r}/followers`},channelTyping(r){return`/channels/${r}/typing`},channelPins(r){return`/channels/${r}/pins`},channelPin(r,a){return`/channels/${r}/pins/${a}`},channelRecipient(r,a){return`/channels/${r}/recipients/${a}`},guildEmojis(r){return`/guilds/${r}/emojis`},guildEmoji(r,a){return`/guilds/${r}/emojis/${a}`},guilds(){return"/guilds"},guild(r){return`/guilds/${r}`},guildPreview(r){return`/guilds/${r}/preview`},guildChannels(r){return`/guilds/${r}/channels`},guildMember(r,a="@me"){return`/guilds/${r}/members/${a}`},guildMembers(r){return`/guilds/${r}/members`},guildMembersSearch(r){return`/guilds/${r}/members/search`},guildCurrentMemberNickname(r){return`/guilds/${r}/members/@me/nick`},guildMemberRole(r,a,s){return`/guilds/${r}/members/${a}/roles/${s}`},guildMFA(r){return`/guilds/${r}/mfa`},guildBans(r){return`/guilds/${r}/bans`},guildBan(r,a){return`/guilds/${r}/bans/${a}`},guildRoles(r){return`/guilds/${r}/roles`},guildRole(r,a){return`/guilds/${r}/roles/${a}`},guildPrune(r){return`/guilds/${r}/prune`},guildVoiceRegions(r){return`/guilds/${r}/regions`},guildInvites(r){return`/guilds/${r}/invites`},guildIntegrations(r){return`/guilds/${r}/integrations`},guildIntegration(r,a){return`/guilds/${r}/integrations/${a}`},guildWidgetSettings(r){return`/guilds/${r}/widget`},guildWidgetJSON(r){return`/guilds/${r}/widget.json`},guildVanityUrl(r){return`/guilds/${r}/vanity-url`},guildWidgetImage(r){return`/guilds/${r}/widget.png`},invite(r){return`/invites/${r}`},template(r){return`/guilds/templates/${r}`},guildTemplates(r){return`/guilds/${r}/templates`},guildTemplate(r,a){return`/guilds/${r}/templates/${a}`},pollAnswerVoters(r,a,s){return`/channels/${r}/polls/${a}/answers/${s}`},expirePoll(r,a){return`/channels/${r}/polls/${a}/expire`},threads(r,a){const s=["","channels",r];return a&&s.push("messages",a),s.push("threads"),s.join("/")},guildActiveThreads(r){return`/guilds/${r}/threads/active`},channelThreads(r,a){return`/channels/${r}/threads/archived/${a}`},channelJoinedArchivedThreads(r){return`/channels/${r}/users/@me/threads/archived/private`},threadMembers(r,a){const s=["","channels",r,"thread-members"];return a&&s.push(a),s.join("/")},user(r="@me"){return`/users/${r}`},userApplicationRoleConnection(r){return`/users/@me/applications/${r}/role-connection`},userGuilds(){return"/users/@me/guilds"},userGuildMember(r){return`/users/@me/guilds/${r}/member`},userGuild(r){return`/users/@me/guilds/${r}`},userChannels(){return"/users/@me/channels"},userConnections(){return"/users/@me/connections"},voiceRegions(){return"/voice/regions"},channelWebhooks(r){return`/channels/${r}/webhooks`},guildWebhooks(r){return`/guilds/${r}/webhooks`},webhook(r,a){const s=["","webhooks",r];return a&&s.push(a),s.join("/")},webhookMessage(r,a,s="@original"){return`/webhooks/${r}/${a}/messages/${s}`},webhookPlatform(r,a,s){return`/webhooks/${r}/${a}/${s}`},gateway(){return"/gateway"},gatewayBot(){return"/gateway/bot"},oauth2CurrentApplication(){return"/oauth2/applications/@me"},oauth2CurrentAuthorization(){return"/oauth2/@me"},oauth2Authorization(){return"/oauth2/authorize"},oauth2TokenExchange(){return"/oauth2/token"},oauth2TokenRevocation(){return"/oauth2/token/revoke"},applicationCommands(r){return`/applications/${r}/commands`},applicationCommand(r,a){return`/applications/${r}/commands/${a}`},applicationGuildCommands(r,a){return`/applications/${r}/guilds/${a}/commands`},applicationGuildCommand(r,a,s){return`/applications/${r}/guilds/${a}/commands/${s}`},interactionCallback(r,a){return`/interactions/${r}/${a}/callback`},guildMemberVerification(r){return`/guilds/${r}/member-verification`},guildVoiceState(r,a="@me"){return`/guilds/${r}/voice-states/${a}`},guildApplicationCommandsPermissions(r,a){return`/applications/${r}/guilds/${a}/commands/permissions`},applicationCommandPermissions(r,a,s){return`/applications/${r}/guilds/${a}/commands/${s}/permissions`},guildWelcomeScreen(r){return`/guilds/${r}/welcome-screen`},stageInstances(){return"/stage-instances"},stageInstance(r){return`/stage-instances/${r}`},sticker(r){return`/stickers/${r}`},stickerPacks(){return"/sticker-packs"},stickerPack(r){return`/sticker-packs/${r}`},nitroStickerPacks(){return"/sticker-packs"},guildStickers(r){return`/guilds/${r}/stickers`},guildSticker(r,a){return`/guilds/${r}/stickers/${a}`},guildScheduledEvents(r){return`/guilds/${r}/scheduled-events`},guildScheduledEvent(r,a){return`/guilds/${r}/scheduled-events/${a}`},guildScheduledEventUsers(r,a){return`/guilds/${r}/scheduled-events/${a}/users`},guildOnboarding(r){return`/guilds/${r}/onboarding`},currentApplication(){return"/applications/@me"},entitlements(r){return`/applications/${r}/entitlements`},entitlement(r,a){return`/applications/${r}/entitlements/${a}`},skus(r){return`/applications/${r}/skus`},guildBulkBan(r){return`/guilds/${r}/bulk-ban`},consumeEntitlement(r,a){return`/applications/${r}/entitlements/${a}/consume`},applicationEmojis(r){return`/applications/${r}/emojis`},applicationEmoji(r,a){return`/applications/${r}/emojis/${a}`}},e.StickerPackApplicationId="710982414301790216";var i;(function(r){r.JPEG="jpeg",r.PNG="png",r.WebP="webp",r.GIF="gif",r.Lottie="json"})(i||(e.ImageFormat=i={})),e.CDNRoutes={emoji(r,a){return`/emojis/${r}.${a}`},guildIcon(r,a,s){return`/icons/${r}/${a}.${s}`},guildSplash(r,a,s){return`/splashes/${r}/${a}.${s}`},guildDiscoverySplash(r,a,s){return`/discovery-splashes/${r}/${a}.${s}`},guildBanner(r,a,s){return`/banners/${r}/${a}.${s}`},userBanner(r,a,s){return`/banners/${r}/${a}.${s}`},defaultUserAvatar(r){return`/embed/avatars/${r}.png`},userAvatar(r,a,s){return`/avatars/${r}/${a}.${s}`},guildMemberAvatar(r,a,s,o){return`/guilds/${r}/users/${a}/avatars/${s}.${o}`},userAvatarDecoration(r,a){return`/avatar-decorations/${r}/${a}.png`},avatarDecoration(r){return`/avatar-decoration-presets/${r}.png`},applicationIcon(r,a,s){return`/app-icons/${r}/${a}.${s}`},applicationCover(r,a,s){return`/app-icons/${r}/${a}.${s}`},applicationAsset(r,a,s){return`/app-assets/${r}/${a}.${s}`},achievementIcon(r,a,s,o){return`/app-assets/${r}/achievements/${a}/icons/${s}.${o}`},stickerPackBanner(r,a){return`/app-assets/${e.StickerPackApplicationId}/store/${r}.${a}`},storePageAsset(r,a,s=i.PNG){return`/app-assets/${r}/store/${a}.${s}`},teamIcon(r,a,s){return`/team-icons/${r}/${a}.${s}`},sticker(r,a){return`/stickers/${r}.${a}`},roleIcon(r,a,s){return`/role-icons/${r}/${a}.${s}`},guildScheduledEventCover(r,a,s){return`/guild-events/${r}/${a}.${s}`},guildMemberBanner(r,a,s,o){return`/guilds/${r}/users/${a}/banners/${s}.${o}`}},e.RouteBases={api:`https://discord.com/api/v${e.APIVersion}`,cdn:"https://cdn.discordapp.com",media:"https://media.discordapp.net",invite:"https://discord.gg",template:"https://discord.new",gift:"https://discord.gift",scheduledEvent:"https://discord.com/events"},Object.freeze(e.RouteBases),e.OAuth2Routes={authorizationURL:`${e.RouteBases.api}${e.Routes.oauth2Authorization()}`,tokenURL:`${e.RouteBases.api}${e.Routes.oauth2TokenExchange()}`,tokenRevocationURL:`${e.RouteBases.api}${e.Routes.oauth2TokenRevocation()}`},Object.freeze(e.OAuth2Routes)}(Ac);const ve=re(Ac),lx=ve.APIVersion,ux=ve.CDNRoutes,dx=ve.EntitlementOwnerType,fx=ve.ImageFormat,hx=ve.Locale,mx=ve.OAuth2Routes,zc=ve.RESTJSONErrorCodes,px=ve.ReactionType,gx=ve.RouteBases,Kc=ve.Routes,vx=ve.StickerPackApplicationId,xx=nt(Object.freeze(Object.defineProperty({__proto__:null,APIVersion:lx,CDNRoutes:ux,EntitlementOwnerType:dx,ImageFormat:fx,Locale:hx,OAuth2Routes:mx,RESTJSONErrorCodes:zc,ReactionType:px,RouteBases:gx,Routes:Kc,StickerPackApplicationId:vx,default:ve},Symbol.toStringTag,{value:"Module"})));var Yc={},yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.RPCCloseEventCodes=yt.RPCErrorCodes=void 0;var Xc;(function(e){e[e.UnknownError=1e3]="UnknownError",e[e.InvalidPayload=4e3]="InvalidPayload",e[e.InvalidCommand=4002]="InvalidCommand",e[e.InvalidGuild=4003]="InvalidGuild",e[e.InvalidEvent=4004]="InvalidEvent",e[e.InvalidChannel=4005]="InvalidChannel",e[e.InvalidPermissions=4006]="InvalidPermissions",e[e.InvalidClientId=4007]="InvalidClientId",e[e.InvalidOrigin=4008]="InvalidOrigin",e[e.InvalidToken=4009]="InvalidToken",e[e.InvalidUser=4010]="InvalidUser",e[e.OAuth2Error=5e3]="OAuth2Error",e[e.SelectChannelTimedOut=5001]="SelectChannelTimedOut",e[e.GetGuildTimedOut=5002]="GetGuildTimedOut",e[e.SelectVoiceForceRequired=5003]="SelectVoiceForceRequired",e[e.CaptureShortcutAlreadyListening=5004]="CaptureShortcutAlreadyListening"})(Xc||(yt.RPCErrorCodes=Xc={}));var Qc;(function(e){e[e.InvalidClientId=4e3]="InvalidClientId",e[e.InvalidOrigin=4001]="InvalidOrigin",e[e.RateLimited=4002]="RateLimited",e[e.TokenRevoked=4003]="TokenRevoked",e[e.InvalidVersion=4004]="InvalidVersion",e[e.InvalidEncoding=4005]="InvalidEncoding"})(Qc||(yt.RPCCloseEventCodes=Qc={})),function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(yt,e)}(Yc);const cr=re(Yc),bx=cr.RPCCloseEventCodes,yx=cr.RPCErrorCodes,_x=nt(Object.freeze(Object.defineProperty({__proto__:null,RPCCloseEventCodes:bx,RPCErrorCodes:yx,default:cr},Symbol.toStringTag,{value:"Module"})));var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.isDMInteraction=lr,G.isGuildInteraction=ur,G.isApplicationCommandDMInteraction=$x,G.isApplicationCommandGuildInteraction=Ix,G.isMessageComponentDMInteraction=wx,G.isMessageComponentGuildInteraction=Ax,G.isLinkButton=Tx,G.isInteractionButton=Mx,G.isMessageComponentInteraction=Px,G.isMessageComponentButtonInteraction=Dx,G.isMessageComponentSelectMenuInteraction=kx,G.isChatInputApplicationCommandInteraction=Lx,G.isContextMenuApplicationCommandInteraction=Ex;const xe=wc;function lr(e){return Reflect.has(e,"user")}function ur(e){return Reflect.has(e,"guild_id")}function $x(e){return lr(e)}function Ix(e){return ur(e)}function wx(e){return lr(e)}function Ax(e){return ur(e)}function Tx(e){return e.style===xe.ButtonStyle.Link}function Mx(e){return e.style!==xe.ButtonStyle.Link}function Px(e){return e.type===xe.InteractionType.MessageComponent}function Dx(e){return e.data.component_type===xe.ComponentType.Button}function kx(e){return[xe.ComponentType.StringSelect,xe.ComponentType.UserSelect,xe.ComponentType.RoleSelect,xe.ComponentType.MentionableSelect,xe.ComponentType.ChannelSelect].includes(e.data.component_type)}function Lx(e){return e.data.type===xe.ApplicationCommandType.ChatInput}function Ex(e){return e.data.type===xe.ApplicationCommandType.Message||e.data.type===xe.ApplicationCommandType.User}const Ox=G.isApplicationCommandDMInteraction,Rx=G.isApplicationCommandGuildInteraction,Cx=G.isChatInputApplicationCommandInteraction,Ux=G.isContextMenuApplicationCommandInteraction,Fx=G.isDMInteraction,Sx=G.isGuildInteraction,Nx=G.isInteractionButton,Bx=G.isLinkButton,jx=G.isMessageComponentButtonInteraction,Vx=G.isMessageComponentDMInteraction,Gx=G.isMessageComponentGuildInteraction,Hx=G.isMessageComponentInteraction,qx=G.isMessageComponentSelectMenuInteraction,Wx=nt(Object.freeze(Object.defineProperty({__proto__:null,default:G,isApplicationCommandDMInteraction:Ox,isApplicationCommandGuildInteraction:Rx,isChatInputApplicationCommandInteraction:Cx,isContextMenuApplicationCommandInteraction:Ux,isDMInteraction:Fx,isGuildInteraction:Sx,isInteractionButton:Nx,isLinkButton:Bx,isMessageComponentButtonInteraction:jx,isMessageComponentDMInteraction:Vx,isMessageComponentGuildInteraction:Gx,isMessageComponentInteraction:Hx,isMessageComponentSelectMenuInteraction:qx},Symbol.toStringTag,{value:"Module"})));(function(e){var t=S&&S.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),n=S&&S.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&t(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0,n(Cg,e),n(Fg,e),n(wc,e),n(xx,e),n(_x,e),e.Utils=Wx})(Ts);const y=re(Ts);y.APIApplicationCommandPermissionsConstant;const zx=y.APIVersion;y.ActivityFlags,y.ActivityPlatform,y.ActivityType,y.AllowedMentionsTypes,y.ApplicationCommandOptionType,y.ApplicationCommandPermissionType,y.ApplicationCommandType,y.ApplicationFlags,y.ApplicationIntegrationType,y.ApplicationRoleConnectionMetadataType,y.AttachmentFlags,y.AuditLogEvent,y.AuditLogOptionsType,y.AutoModerationActionType,y.AutoModerationRuleEventType,y.AutoModerationRuleKeywordPresetType,y.AutoModerationRuleTriggerType,y.ButtonStyle,y.CDNRoutes,y.ChannelFlags,y.ChannelType,y.ComponentType,y.ConnectionService,y.ConnectionVisibility,y.EmbedType,y.EntitlementOwnerType,y.EntitlementType,y.FormattingPatterns,y.ForumLayoutType,y.GatewayCloseCodes,y.GatewayDispatchEvents,y.GatewayIntentBits,y.GatewayOpcodes,y.GatewayVersion,y.GuildDefaultMessageNotifications,y.GuildExplicitContentFilter,y.GuildFeature,y.GuildHubType,y.GuildMFALevel,y.GuildMemberFlags,y.GuildNSFWLevel,y.GuildOnboardingMode,y.GuildOnboardingPromptType,y.GuildPremiumTier,y.GuildScheduledEventEntityType,y.GuildScheduledEventPrivacyLevel,y.GuildScheduledEventRecurrenceRuleFrequency,y.GuildScheduledEventRecurrenceRuleMonth,y.GuildScheduledEventRecurrenceRuleWeekday,y.GuildScheduledEventStatus,y.GuildSystemChannelFlags,y.GuildVerificationLevel,y.GuildWidgetStyle,y.ImageFormat,y.IntegrationExpireBehavior,y.InteractionContextType,y.InteractionResponseType,y.InteractionType,y.InviteTargetType,y.InviteType,y.Locale,y.MembershipScreeningFieldType,y.MessageActivityType,y.MessageFlags,y.MessageReferenceType,y.MessageType,y.OAuth2Routes,y.OAuth2Scopes,y.OverwriteType,y.PermissionFlagsBits,y.PollLayoutType,y.PresenceUpdateStatus,y.RESTJSONErrorCodes,y.RPCCloseEventCodes,y.RPCErrorCodes,y.ReactionType,y.RoleFlags,y.RouteBases,y.Routes,y.SKUFlags,y.SKUType,y.SelectMenuDefaultValueType,y.SortOrderType,y.StageInstancePrivacyLevel,y.StickerFormatType,y.StickerPackApplicationId,y.StickerType,y.TeamMemberMembershipState,y.TeamMemberRole,y.TextInputStyle,y.ThreadAutoArchiveDuration,y.ThreadMemberFlags,y.UserFlags,y.UserPremiumType,y.Utils,y.VideoQualityMode,y.WebhookType;var Kx=Object.defineProperty,Yx=(e,t)=>Kx(e,"name",{value:t,configurable:!0}),Wn=(ke=class extends Map{ensure(t,n){if(this.has(t))return this.get(t);if(typeof n!="function")throw new TypeError(`${n} is not a function`);const i=n(t,this);return this.set(t,i),i}hasAll(...t){return t.every(n=>super.has(n))}hasAny(...t){return t.some(n=>super.has(n))}first(t){if(t===void 0)return this.values().next().value;if(t<0)return this.last(t*-1);t=Math.min(this.size,t);const n=this.values();return Array.from({length:t},()=>n.next().value)}firstKey(t){if(t===void 0)return this.keys().next().value;if(t<0)return this.lastKey(t*-1);t=Math.min(this.size,t);const n=this.keys();return Array.from({length:t},()=>n.next().value)}last(t){const n=[...this.values()];return t===void 0?n[n.length-1]:t<0?this.first(t*-1):t?n.slice(-t):[]}lastKey(t){const n=[...this.keys()];return t===void 0?n[n.length-1]:t<0?this.firstKey(t*-1):t?n.slice(-t):[]}at(t){return t=Math.floor(t),[...this.values()].at(t)}keyAt(t){return t=Math.floor(t),[...this.keys()].at(t)}random(t){const n=[...this.values()];return t===void 0?n[Math.floor(Math.random()*n.length)]:!n.length||!t?[]:Array.from({length:Math.min(t,n.length)},()=>n.splice(Math.floor(Math.random()*n.length),1)[0])}randomKey(t){const n=[...this.keys()];return t===void 0?n[Math.floor(Math.random()*n.length)]:!n.length||!t?[]:Array.from({length:Math.min(t,n.length)},()=>n.splice(Math.floor(Math.random()*n.length),1)[0])}reverse(){const t=[...this.entries()].reverse();this.clear();for(const[n,i]of t)this.set(n,i);return this}find(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(t(r,i,this))return r}findKey(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(t(r,i,this))return i}findLast(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=[...this.entries()];for(let r=i.length-1;r>=0;r--){const a=i[r][1],s=i[r][0];if(t(a,s,this))return a}}findLastKey(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=[...this.entries()];for(let r=i.length-1;r>=0;r--){const a=i[r][0],s=i[r][1];if(t(s,a,this))return a}}sweep(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=this.size;for(const[r,a]of this)t(a,r,this)&&this.delete(r);return i-this.size}filter(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=new this.constructor[Symbol.species];for(const[r,a]of this)t(a,r,this)&&i.set(r,a);return i}partition(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=[new this.constructor[Symbol.species],new this.constructor[Symbol.species]];for(const[r,a]of this)t(a,r,this)?i[0].set(r,a):i[1].set(r,a);return i}flatMap(t,n){const i=this.map(t,n);return new this.constructor[Symbol.species]().concat(...i)}map(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=this.entries();return Array.from({length:this.size},()=>{const[r,a]=i.next().value;return t(a,r,this)})}mapValues(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));const i=new this.constructor[Symbol.species];for(const[r,a]of this)i.set(r,t(a,r,this));return i}some(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(t(r,i,this))return!0;return!1}every(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)if(!t(r,i,this))return!1;return!0}reduce(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);let i;const r=this.entries();if(n===void 0){if(this.size===0)throw new TypeError("Reduce of empty collection with no initial value");i=r.next().value[1]}else i=n;for(const[a,s]of r)i=t(i,s,a,this);return i}reduceRight(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);const i=[...this.entries()];let r,a;if(n===void 0){if(i.length===0)throw new TypeError("Reduce of empty collection with no initial value");r=i[i.length-1][1],a=i.length-1}else r=n,a=i.length;for(;--a>=0;){const s=i[a][0],o=i[a][1];r=t(r,o,s,this)}return r}each(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);n!==void 0&&(t=t.bind(n));for(const[i,r]of this)t(r,i,this);return this}tap(t,n){if(typeof t!="function")throw new TypeError(`${t} is not a function`);return n!==void 0&&(t=t.bind(n)),t(this),this}clone(){return new this.constructor[Symbol.species](this)}concat(...t){const n=this.clone();for(const i of t)for(const[r,a]of i)n.set(r,a);return n}equals(t){if(!t)return!1;if(this===t)return!0;if(this.size!==t.size)return!1;for(const[n,i]of this)if(!t.has(n)||i!==t.get(n))return!1;return!0}sort(t=ke.defaultSort){const n=[...this.entries()];n.sort((i,r)=>t(i[1],r[1],i[0],r[0])),super.clear();for(const[i,r]of n)super.set(i,r);return this}intersection(t){const n=new this.constructor[Symbol.species];for(const[i,r]of this)t.has(i)&&n.set(i,r);return n}union(t){const n=new this.constructor[Symbol.species](this);for(const[i,r]of t)n.has(i)||n.set(i,r);return n}difference(t){const n=new this.constructor[Symbol.species];for(const[i,r]of this)t.has(i)||n.set(i,r);return n}symmetricDifference(t){const n=new this.constructor[Symbol.species];for(const[i,r]of this)t.has(i)||n.set(i,r);for(const[i,r]of t)this.has(i)||n.set(i,r);return n}merge(t,n,i,r){const a=new this.constructor[Symbol.species],s=new Set([...this.keys(),...t.keys()]);for(const o of s){const c=this.has(o),l=t.has(o);if(c&&l){const u=r(this.get(o),t.get(o),o);u.keep&&a.set(o,u.value)}else if(c){const u=n(this.get(o),o);u.keep&&a.set(o,u.value)}else if(l){const u=i(t.get(o),o);u.keep&&a.set(o,u.value)}}return a}toReversed(){return new this.constructor[Symbol.species](this).reverse()}toSorted(t=ke.defaultSort){return new this.constructor[Symbol.species](this).sort((n,i,r,a)=>t(n,i,r,a))}toJSON(){return[...this.entries()]}static defaultSort(t,n){return+(t>n)||+(t===n)-1}static combineEntries(t,n){const i=new ke;for(const[r,a]of t)i.has(r)?i.set(r,n(i.get(r),a,r)):i.set(r,a);return i}},Yx(ke,"Collection"),ke),Zc=Object.defineProperty,Xx=(e,t,n)=>t in e?Zc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dr=(e,t)=>Zc(e,"name",{value:t,configurable:!0}),Yt=(e,t,n)=>(Xx(e,typeof t!="symbol"?t+"":t,n),n),fr=Symbol("@sapphire/snowflake.increment"),_t=Symbol("@sapphire/snowflake.epoch"),zn=Symbol("@sapphire/snowflake.processId"),Kn=Symbol("@sapphire/snowflake.workerId"),hr=0b11111n,mr=0b11111n,pr=0b111111111111n,Jc,el,tl,nl,il=class{constructor(t){Yt(this,"decode",this.deconstruct),Yt(this,Jc),Yt(this,el,0n),Yt(this,tl,1n),Yt(this,nl,0n),this[_t]=BigInt(t instanceof Date?t.getTime():t)}get epoch(){return this[_t]}get processId(){return this[zn]}set processId(t){this[zn]=BigInt(t)&mr}get workerId(){return this[Kn]}set workerId(t){this[Kn]=BigInt(t)&hr}generate({increment:t,timestamp:n=Date.now(),workerId:i=this[Kn],processId:r=this[zn]}={}){if(n instanceof Date)n=BigInt(n.getTime());else if(typeof n=="number")n=BigInt(n);else if(typeof n!="bigint")throw new TypeError(`"timestamp" argument must be a number, bigint, or Date (received ${typeof n})`);return typeof t!="bigint"&&(t=this[fr],this[fr]=t+1n&pr),n-this[_t]<<22n|(i&hr)<<17n|(r&mr)<<12n|t&pr}deconstruct(t){const n=BigInt(t),i=this[_t];return{id:n,timestamp:(n>>22n)+i,workerId:n>>17n&hr,processId:n>>12n&mr,increment:n&pr,epoch:i}}timestampFrom(t){return Number((BigInt(t)>>22n)+this[_t])}static compare(t,n){const i=typeof t;return i===typeof n?i==="string"?al(t,n):gr(t,n):gr(BigInt(t),BigInt(n))}};Jc=_t,el=fr,tl=zn,nl=Kn,dr(il,"Snowflake");var rl=il;function gr(e,t){return e===t?0:e<t?-1:1}dr(gr,"cmpBigInt");function al(e,t){return e===t?0:e.length<t.length?-1:e.length>t.length?1:e<t?-1:1}dr(al,"cmpString");var Qx=new rl(1420070400000n);new rl(1288834974657n);var Zx=Object.defineProperty,ee=(e,t)=>Zx(e,"name",{value:t,configurable:!0});function $t(e){if(typeof e!="function")throw new TypeError(`The listener argument must be a function. Received ${typeof e}`)}ee($t,"validateListener");function vr(e){if(e&&!(e instanceof AbortSignal))throw new TypeError(`The signal option must be an AbortSignal. Received ${e}`)}ee(vr,"validateAbortSignal");function sl(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}ee(sl,"spliceOne");function Yn(e){switch(e.length){case 2:return[e[0],e[1]];case 3:return[e[0],e[1],e[2]];case 4:return[e[0],e[1],e[2],e[3]];case 5:return[e[0],e[1],e[2],e[3],e[4]];case 6:return[e[0],e[1],e[2],e[3],e[4],e[5]]}return e.slice()}ee(Yn,"arrayClone");function ol(e,t){for(let n=0;n<e.length-3;n++){const i=t.indexOf(e[n]);if(i!==-1){const r=t.length-i;if(r>3){let a=1;const s=Math.min(e.length-n,r);for(;s>a&&e[n+a]===t[i+a];)a++;if(a>3)return[a,n]}}}return[0,0]}ee(ol,"identicalSequenceRange");function cl(e,t){let n="";try{const{name:c}=this.constructor;c!=="AsyncEventEmitter"&&(n=` on ${c} instance`)}catch{}const i=`
Emitted 'error' event${n} at:
`,r=e.stack.split(`
`).slice(1),a=t.stack.split(`
`).slice(1),{0:s,1:o}=ol(a,r);return s>0&&a.splice(o+1,s-2,"    [... lines matching original stack trace ...]"),e.stack+i+a.join(`
`)}ee(cl,"enhanceStackTrace");var ll=class Yu{constructor(){this._events={__proto__:null},this._eventCount=0,this._maxListeners=10,this._internalPromiseMap=new Map,this._wrapperId=0n}addListener(t,n){$t(n);const i=this._wrapListener(t,n,!1);return this._addListener(t,i,!1),this}on(t,n){return this.addListener(t,n)}once(t,n){$t(n);const i=this._wrapListener(t,n,!0);return this._addListener(t,i,!1),this}removeListener(t,n){$t(n);const i=this._events,r=i[t];if(r===void 0)return this;if(r===n||r.listener===n)--this._eventCount===0?this._events={__proto__:null}:(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener??r));else if(typeof r!="function"){let a=-1;for(let s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=s;break}if(a<0)return this;a===0?r.shift():sl(r,a),r.length===0&&(delete i[t],--this._eventCount),i.removeListener!==void 0&&this.emit("removeListener",t,n)}return this}off(t,n){return this.removeListener(t,n)}removeAllListeners(t){const n=this._events;if(n.removeListener===void 0)return t?n[t]!==void 0&&(--this._eventCount===0?this._events={__proto__:null}:delete n[t]):(this._events={__proto__:null},this._eventCount=0),this;if(!t){for(const r of Reflect.ownKeys(n))r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={__proto__:null},this._eventCount=0,this}const i=n[t];if(typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(let r=i.length-1;r>=0;r--)this.removeListener(t,i[r]);return this}setMaxListeners(t){if(typeof t!="number"||t<0||Number.isNaN(t))throw new RangeError(`Expected to get a non-negative number for "setMaxListeners", got ${t} instead`);return this._maxListeners=t,this}getMaxListeners(){return this._maxListeners}listeners(t){const n=this._events[t];if(n===void 0)return[];if(typeof n=="function")return[n.listener??n];const i=Yn(n);for(let r=0;r<i.length;++r){const a=i[r].listener;typeof a=="function"&&(i[r]=a)}return i}rawListeners(t){const n=this._events[t];return n===void 0?[]:typeof n=="function"?[n]:Yn(n)}emit(t,...n){let i=t==="error";const r=this._events;if(r!==void 0)i=i&&r.error===void 0;else if(!i)return!1;if(i){let s;if(n.length>0&&(s=n[0]),s instanceof Error){try{const l={};Error.captureStackTrace(l,Yu.prototype.emit),Object.defineProperty(s,"stack",{value:cl.call(this,s,l),configurable:!0})}catch{}throw s}const o=String(s),c=new Error(`Unhandled 'error' event emitted, received ${o}`);throw c.context=s,c}const a=r[t];if(a===void 0)return!1;if(typeof a=="function"){const s=a.apply(this,n);s!=null&&br(this,s)}else{const s=a.length,o=Yn(a);for(let c=0;c<s;++c){const l=o[c].apply(this,n);l!=null&&br(this,l)}}return!0}listenerCount(t){const n=this._events;if(n===void 0)return 0;const i=n[t];return typeof i=="function"?1:(i==null?void 0:i.length)??0}prependListener(t,n){$t(n);const i=this._wrapListener(t,n,!1);return this._addListener(t,i,!0),this}prependOnceListener(t,n){$t(n);const i=this._wrapListener(t,n,!0);return this._addListener(t,i,!0),this}eventNames(){return this._eventCount>0?Reflect.ownKeys(this._events):[]}async waitForAllListenersToComplete(){const t=[...this._internalPromiseMap.values()];return t.length===0?!1:(await Promise.all(t),!0)}_addListener(t,n,i){this._events.newListener!==void 0&&this.emit("newListener",t,n.listener??n);let r=this._events[t];r===void 0?(r=this._events[t]=n,++this._eventCount):typeof r=="function"?r=this._events[t]=i?[n,r]:[r,n]:i?r.unshift(n):r.push(n);const a=Reflect.get(r,"_hasWarnedAboutMaxListeners");if(this._maxListeners>0&&r.length>this._maxListeners&&!a){Reflect.set(r,"_hasWarnedAboutMaxListeners",!0);const s=[`Possible AsyncEventEmitter memory leak detected. ${r.length} ${String(t)} listeners added to ${this.constructor.name}.`,"Use emitter.setMaxListeners() to increase the limit."].join(" ");console.warn(s)}}_wrapListener(t,n,i){if(!i)return n;const r={fired:!1,wrapFn:void 0,eventEmitter:this,eventName:t,listener:n},s=ul.bind(r);return s.listener=n,r.wrapFn=s,s}static listenerCount(t,n){return t.listenerCount(n)}static async once(t,n,i={}){const r=i==null?void 0:i.signal;if(vr(r),r!=null&&r.aborted)throw new Xn(void 0,{cause:Xt(r)});return new Promise((a,s)=>{const o=ee(u=>{t.removeListener(n,c),r&&It(t,n,l),s(u)},"errorListener"),c=ee((...u)=>{t.removeListener("error",o),r&&It(r,"abort",l),a(u)},"resolver");t.once(n,c),n!=="error"&&t.once("error",o);const l=ee(()=>{It(t,n,c),It(t,"error",o),s(new Xn(void 0,{cause:Xt(r)}))},"abortListener");r&&xr(r,"abort",l,{once:!0})})}static on(t,n,i={}){const r=i==null?void 0:i.signal;if(vr(r),r!=null&&r.aborted)throw new Xn(void 0,{cause:Xt(r)});const a=[],s=[];let o=null,c=!1;const l=ee(()=>{d(new Xn(void 0,{cause:Xt(r)}))},"abortListener"),u=ee((...p)=>{const f=s.shift();f?f.resolve(Qt(p,!1)):a.push(p)},"eventHandler"),d=ee(p=>{c=!0;const f=s.shift();f?f.reject(p):o=p,m.return()},"errorHandler"),m=Object.setPrototypeOf({next(){const p=a.shift();if(p)return Promise.resolve(Qt(p,!1));if(o){const f=Promise.reject(o);return o=null,f}return c?Promise.resolve(Qt(void 0,!0)):new Promise((f,v)=>{s.push({resolve:f,reject:v})})},return(){t.off(n,u),t.off("error",d),r&&It(r,"abort",l),c=!0;const p=Qt(void 0,!0);for(const f of s)f.resolve(p);return Promise.resolve(p)},throw(p){if(!p||!(p instanceof Error))throw new TypeError(`Expected Error instance to be thrown in AsyncEventEmitter.AsyncIterator. Got ${p}`);o=p,t.off(n,u),t.off("error",d)},[Symbol.asyncIterator](){return this}},eb);return t.on(n,u),n!=="error"&&t.on("error",d),r&&xr(r,"abort",l),m}};ee(ll,"AsyncEventEmitter");var Jx=ll;function ul(){if(!this.fired)return this.eventEmitter.removeListener(this.eventName,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.eventEmitter):this.listener.apply(this.eventEmitter,arguments)}ee(ul,"onceWrapper");function Xt(e){return e==null?void 0:e.reason}ee(Xt,"getReason");function It(e,t,n,i){typeof e.off=="function"?e.off(t,n):typeof e.removeEventListener=="function"&&e.removeEventListener(t,n,i)}ee(It,"eventTargetAgnosticRemoveListener");function xr(e,t,n,i){typeof e.on=="function"?i!=null&&i.once?e.once(t,n):e.on(t,n):typeof e.addEventListener=="function"&&e.addEventListener(t,n,i)}ee(xr,"eventTargetAgnosticAddListener");var eb=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function Qt(e,t){return{value:e,done:t}}ee(Qt,"createIterResult");var dl=class extends Error{constructor(t="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new TypeError("Failed to create AbortError: options is not an object or undefined");super(t,n),this.code="ABORT_ERR",this.name="AbortError"}};ee(dl,"AbortError");var Xn=dl;function br(e,t){try{const n=t.then,i=t.finally;if(typeof n=="function"&&n.call(t,void 0,r=>{setTimeout(()=>{e.emit("error",r)},0)}),typeof i=="function"){const r=String(++e._wrapperId);e._internalPromiseMap.set(r,t),i.call(t,ee(function(){e._internalPromiseMap.delete(r)},"final"))}}catch(n){e.emit("error",n)}}ee(br,"handleMaybeAsync");var fl={},yr={},qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.fromHex=qe.toHex=void 0;const _r=e=>new Number(e).toString(16).toLowerCase(),tb=e=>`0x${_r(e).length===1?"0"+_r(e):_r(e)}`;qe.toHex=tb;const nb=e=>new Number(e);qe.fromHex=nb;var hl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const t=c=>({typename:c.typename,mime:c.info.mime,extension:c.info.extension}),n=(c,l)=>c&&l.length===0,i=c=>c[0],r=c=>c.slice(1,c.length),a=(c,l)=>{if(c.bytes.length===0)return l;const u=i(c.bytes),d=r(c.bytes),m=l.bytes[u];if(n(m,d)){const p=l.bytes[u];return l.bytes[u]={...p,matches:[...p.matches?p.matches:[],t(c)]},l}return l.bytes[u]?(l.bytes[u]=e.merge(e.createNode(c.typename,d,c.info),l.bytes[u]),l):(l.bytes[u]||(l.bytes[u]={...l.bytes[u],...e.createComplexNode(c.typename,d,c.info)}),l)};e.merge=a;const s=(c,l,u)=>({typename:c,bytes:l,info:u||{}});e.createNode=s;const o=(c,l,u)=>{let d={bytes:{},matches:void 0};const m=i(l),p=r(l);return l.length===0?{matches:[t({typename:c,info:u?{extension:u.extension,mime:u.mime}:{}})],bytes:{}}:(d.bytes[m]=e.createComplexNode(c,p,u),d)};e.createComplexNode=o})(hl),Object.defineProperty(yr,"__esModule",{value:!0});const $r=qe,wt=hl;let Ue={noOffset:null,offset:{}};const h=(e,t,n,i)=>{if(i){const r=Ue.offset[$r.toHex(i)];if(!r)Ue.offset[$r.toHex(i)]=wt.createComplexNode(e,t.map(a=>a.toLowerCase()),n);else{const a=wt.merge(wt.createNode(e,t.map(s=>s.toLowerCase()),n),{...r});Ue.offset[$r.toHex(i)]=a}}else Ue.noOffset===null?Ue.noOffset=wt.createComplexNode(e,t.map(r=>r.toLowerCase()),n):Ue.noOffset=wt.merge(wt.createNode(e,t.map(r=>r.toLowerCase()),n),Ue.noOffset)};h("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),h("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),h("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),h("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),h("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),h("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),h("rpm",["0xed","0xab","0xee","0xdb"]),h("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),h("pic",["0x00"]),h("pif",["0x00"]),h("sea",["0x00"]),h("ytr",["0x00"]),h("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),h("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),h("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),h("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),h("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),h("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),h("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),h("dba",["0xBE","0xBA","0xFE","0xCA"]),h("dba2",["0x00","0x01","0x42","0x44"]),h("tda",["0x00","0x01","0x44","0x54"]),h("tda2",["0x00","0x01","0x00","0x00"]),h("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),h("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),h("z",["0x1F","0x9D"]),h("tar.z",["0x1F","0xA0"]),h("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),h("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),h("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),h("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),h("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),h("cin",["0x80","0x2A","0x5F","0xD7"]),h("cin1",["0x52","0x4E","0x43","0x01"]),h("cin2",["0x52","0x4E","0x43","0x02"]),h("dpx",["0x53","0x44","0x50","0x58"]),h("dpx2",["0x58","0x50","0x44","0x53"]),h("exr",["0x76","0x2F","0x31","0x01"]),h("bpg",["0x42","0x50","0x47","0xFB"]),h("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),h("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),h("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),h("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),h("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),h("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),h("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),h("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),h("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),h("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),h("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),h("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),h("idx",["0x49","0x4E","0x44","0x58"]),h("lz",["0x4C","0x5A","0x49","0x50"]),h("exe",["0x4D","0x5A"]),h("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),h("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),h("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),h("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),h("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),h("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),h("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),h("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),h("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),h("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),h("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),h("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),h("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),h("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),h("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),h("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),h("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),h("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),h("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),h("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),h("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),h("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),h("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),h("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),h("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),h("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),h("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),h("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),h("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),h("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),h("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),h("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),h("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),h("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),h("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),h("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),h("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),h("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),h("class",["0xCA","0xFE","0xBA","0xBE"]),h("class",["0xEF","0xBB","0xBF"]),h("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),h("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),h("class",["0xCE","0xFA","0xed","0xFE"]),h("class",["0xCF","0xFA","0xed","0xFE"]),h("class",["0xFF","0xFE"]),h("class",["0xFF","0xFE"]),h("class",["0xFF","0xFE","0x00","0x00"]),h("ps",["0x25","0x21","0x50","0x53"],{mime:"application/postscript",extension:".ps"}),h("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),h("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),h("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),h("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),h("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),h("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),h("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),h("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),h("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),h("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),h("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),h("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),h("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),h("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),h("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),h("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),h("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),h("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),h("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),h("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),h("iso",["0x43","0x44","0x30","0x30","0x31"]),h("flac",["0x66","0x4C","0x61","0x43"]),h("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),h("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),h("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),h("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),h("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),h("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),h("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),h("vmdk",["0x4B","0x44","0x4D"]),h("crx",["0x43","0x72","0x32","0x34"]),h("fh8",["0x41","0x47","0x44","0x33"]),h("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),h("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),h("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),h("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),h("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),h("xar",["0x78","0x61","0x72","0x21"]),h("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),h("nes",["0x4E","0x45","0x53","0x1A"]),h("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],{mime:"application/x-tar",extension:"tar"},257),h("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],{mime:"application/x-tar",extension:"tar"},257),h("tox",["0x74","0x6F","0x78","0x33"]),h("mlv",["0x4D","0x4C","0x56","0x49"]),h("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),h("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),h("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),h("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),h("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),h("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),h("lz2",["0x04","0x22","0x4D","0x18"]),h("cab",["0x4D","0x53","0x43","0x46"]),h("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),h("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),h("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),h("mk3d",["0x1A","0x45","0xDF","0xA3"]),h("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),h("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),h("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),h("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),h("lep",["0xCF","0x84","0x01"]),h("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),h("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),h("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),h("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),h("m2p",["0x00","0x00","0x01","0xBA"]),h("vob",["0x00","0x00","0x01","0xBA"]),h("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),h("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),h("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),h("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),h("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),h("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),h("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),h("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),h("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),h("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),h("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),h("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),h("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),h("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),h("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),h("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),h("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),h("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),h("Json",["0x7B"],{mime:"application/json",extension:".json"}),h("Json",["0x5B"],{mime:"application/json",extension:".json"}),h("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),h("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),h("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),h("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),h("SVG",["0x3c","0x73","0x76","0x67"],{mime:"image/svg+xml",extension:"svg"}),yr.default=()=>Ue,function(e){var t=S&&S.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const n=t(yr),i=qe,r=n.default(),a=u=>{let d=r;for(const m of Object.keys(d.offset)){const p=i.fromHex(m);if(p>=u.length)continue;const v=r.offset[m],g=s(p,u,v);if(g.length>0)return g}return d.noOffset===null?[]:s(0,u,d.noOffset)};e.filetypeinfo=a;const s=(u,d,m)=>{let p=m,f=[];for(;;){const v=i.toHex(d[u]);if(p.bytes["?"]&&!p.bytes[v]?p=p.bytes["?"]:p=p.bytes[v],!p)return f;p&&p.matches&&(f=p.matches.slice(0)),u+=1}};e.default=e.filetypeinfo;const o=u=>e.filetypeinfo(u).map(d=>d.typename);e.filetypename=o;const c=u=>e.filetypeinfo(u).map(d=>d.mime?d.mime:null).filter(d=>d!==null);e.filetypemime=c;const l=u=>e.filetypeinfo(u).map(d=>d.extension?d.extension:null).filter(d=>d!==null);e.filetypeextension=l}(fl);var ml=Object.defineProperty,ib=(e,t,n)=>t in e?ml(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pl=(e,t)=>ml(e,"name",{value:t,configurable:!0}),We=(e,t,n)=>ib(e,typeof t!="symbol"?t+"":t,n),gl=class{constructor(t){We(this,"promise"),We(this,"resolve"),We(this,"reject"),We(this,"queue"),We(this,"signal",null),We(this,"signalListener",null),this.queue=t,this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}setSignal(t){return t.aborted?this:(this.signal=t,this.signalListener=()=>{const n=this.queue.promises.indexOf(this);n!==-1&&this.queue.promises.splice(n,1),this.reject(new Error("Request aborted manually"))},this.signal.addEventListener("abort",this.signalListener),this)}use(){return this.dispose(),this.resolve(),this}abort(){return this.dispose(),this.reject(new Error("Request aborted manually")),this}dispose(){this.signal&&(this.signal.removeEventListener("abort",this.signalListener),this.signal=null,this.signalListener=null)}};pl(gl,"AsyncQueueEntry");var rb=gl,vl=class{constructor(){We(this,"promises",[])}get remaining(){return this.promises.length}get queued(){return this.remaining===0?0:this.remaining-1}wait(t){const n=new rb(this);return this.promises.length===0?(this.promises.push(n),Promise.resolve()):(this.promises.push(n),t!=null&&t.signal&&n.setSignal(t.signal),n.promise)}shift(){if(this.promises.length!==0){if(this.promises.length===1){this.promises.shift();return}this.promises.shift(),this.promises[0].use()}}abortAll(){if(this.queued!==0){for(let t=1;t<this.promises.length;++t)this.promises[t].abort();this.promises.length=1}}};pl(vl,"AsyncQueue");var xl=vl,ab=Object.defineProperty,W=(e,t)=>ab(e,"name",{value:t,configurable:!0}),bl;function yl(e){bl=e}W(yl,"setDefaultStrategy");function _l(){return bl}W(_l,"getDefaultStrategy");var sb="DiscordBot (https://discord.js.org, 2.4.0)",ob=As(),Zt={agent:null,api:"https://discord.com/api",authPrefix:"Bot",cdn:"https://cdn.discordapp.com",headers:{},invalidRequestWarningInterval:0,globalRequestsPerSecond:50,offset:50,rejectOnRateLimit:null,retries:3,timeout:15e3,userAgentAppendix:ob,version:zx,hashSweepInterval:144e5,hashLifetime:864e5,handlerSweepInterval:36e5,async makeRequest(...e){return _l()(...e)},mediaProxy:"https://media.discordapp.net"},cb=["webp","png","jpg","jpeg","gif"],lb=["png","json","gif"],$l=[16,32,64,128,256,512,1024,2048,4096],ub={"image/apng":"image/png"},Il="burst",wl="DeprecationWarning",db=(ze=class extends Error{constructor({timeToReset:n,limit:i,method:r,hash:a,url:s,route:o,majorParameter:c,global:l,retryAfter:u,sublimitTimeout:d,scope:m}){super();M(this,"timeToReset");M(this,"limit");M(this,"method");M(this,"hash");M(this,"url");M(this,"route");M(this,"majorParameter");M(this,"global");M(this,"retryAfter");M(this,"sublimitTimeout");M(this,"scope");this.timeToReset=n,this.limit=i,this.method=r,this.hash=a,this.url=s,this.route=o,this.majorParameter=c,this.global=l,this.retryAfter=u,this.sublimitTimeout=d,this.scope=m}get name(){return`${ze.name}[${this.route}]`}},W(ze,"RateLimitError"),ze);function Al(e){switch(typeof e){case"string":return e;case"number":case"bigint":case"boolean":return e.toString();case"object":return e===null?null:e instanceof Date?Number.isNaN(e.getTime())?null:e.toISOString():typeof e.toString=="function"&&e.toString!==Object.prototype.toString?e.toString():null;default:return null}}W(Al,"serializeSearchParam");function fb(e){const t=new URLSearchParams;if(!e)return t;for(const[n,i]of Object.entries(e)){const r=Al(i);r!==null&&t.append(n,r)}return t}W(fb,"makeURLSearchParams");async function Ir(e){var t;return(t=e.headers.get("Content-Type"))!=null&&t.startsWith("application/json")?e.json():e.arrayBuffer()}W(Ir,"parseResponse");function wr(e,t,n){if(e==="/channels/:id"){if(typeof t!="object"||t===null||n!=="PATCH")return!1;const i=t;return["name","topic"].some(r=>Reflect.has(i,r))}return!0}W(wr,"hasSublimit");function Tl(e){return e.name==="AbortError"?!0:"code"in e&&e.code==="ECONNRESET"||e.message.includes("ECONNRESET")}W(Tl,"shouldRetry");async function Qn(e,t){const{options:n}=e;if(!n.rejectOnRateLimit)return;if(typeof n.rejectOnRateLimit=="function"?await n.rejectOnRateLimit(t):n.rejectOnRateLimit.some(r=>t.route.startsWith(r.toLowerCase())))throw new db(t)}W(Qn,"onRateLimit");function hb(e){return Number(BigInt(e)>>22n)%6}W(hb,"calculateUserDefaultAvatarIndex");async function Jt(e){return new Promise(t=>{setTimeout(()=>t(),e)})}W(Jt,"sleep");function Ml(e){return e instanceof ArrayBuffer||e instanceof Uint8Array||e instanceof Uint8ClampedArray}W(Ml,"isBufferLike");function Pl(e){typeof globalThis.process>"u"?console.warn(`${wl}: ${e}`):process.emitWarning(e,wl)}W(Pl,"deprecationWarning");function At(e,t){if(typeof e=="number")return Math.max(0,e);const n=e(t);return Math.max(0,n)}W(At,"normalizeRateLimitOffset");var Dl=!1,mb=(Et=class{constructor(t=Zt.cdn,n=Zt.mediaProxy){this.cdn=t,this.mediaProxy=n}appAsset(t,n,i){return this.makeURL(`/app-assets/${t}/${n}`,i)}appIcon(t,n,i){return this.makeURL(`/app-icons/${t}/${n}`,i)}avatar(t,n,i){return this.dynamicMakeURL(`/avatars/${t}/${n}`,n,i)}avatarDecoration(t,n,i){return n?this.makeURL(`/avatar-decorations/${t}/${n}`,i):this.makeURL(`/avatar-decoration-presets/${t}`,{extension:"png"})}banner(t,n,i){return this.dynamicMakeURL(`/banners/${t}/${n}`,n,i)}channelIcon(t,n,i){return this.makeURL(`/channel-icons/${t}/${n}`,i)}defaultAvatar(t){return this.makeURL(`/embed/avatars/${t}`,{extension:"png"})}discoverySplash(t,n,i){return this.makeURL(`/discovery-splashes/${t}/${n}`,i)}emoji(t,n){let i;return typeof n=="string"?(Dl||(Pl("Passing a string for the second parameter of CDN#emoji() is deprecated. Use an object instead."),Dl=!0),i={extension:n}):i=n,this.makeURL(`/emojis/${t}`,i)}guildMemberAvatar(t,n,i,r){return this.dynamicMakeURL(`/guilds/${t}/users/${n}/avatars/${i}`,i,r)}guildMemberBanner(t,n,i,r){return this.dynamicMakeURL(`/guilds/${t}/users/${n}/banner`,i,r)}icon(t,n,i){return this.dynamicMakeURL(`/icons/${t}/${n}`,n,i)}roleIcon(t,n,i){return this.makeURL(`/role-icons/${t}/${n}`,i)}splash(t,n,i){return this.makeURL(`/splashes/${t}/${n}`,i)}sticker(t,n="png"){return this.makeURL(`/stickers/${t}`,{allowedExtensions:lb,base:n==="gif"?this.mediaProxy:this.cdn,extension:n})}stickerPackBanner(t,n){return this.makeURL(`/app-assets/710982414301790216/store/${t}`,n)}teamIcon(t,n,i){return this.makeURL(`/team-icons/${t}/${n}`,i)}guildScheduledEventCover(t,n,i){return this.makeURL(`/guild-events/${t}/${n}`,i)}dynamicMakeURL(t,n,{forceStatic:i=!1,...r}={}){return this.makeURL(t,!i&&n.startsWith("a_")?{...r,extension:"gif"}:r)}makeURL(t,{allowedExtensions:n=cb,base:i=this.cdn,extension:r="webp",size:a}={}){if(r=String(r).toLowerCase(),!n.includes(r))throw new RangeError(`Invalid extension provided: ${r}
Must be one of: ${n.join(", ")}`);if(a&&!$l.includes(a))throw new RangeError(`Invalid size provided: ${a}
Must be one of: ${$l.join(", ")}`);const s=new URL(`${i}${t}.${r}`);return a&&s.searchParams.set("size",String(a)),s.toString()}},W(Et,"CDN"),Et);function kl(e){return Reflect.has(e,"_errors")}W(kl,"isErrorGroupWrapper");function Ll(e){return typeof Reflect.get(e,"message")=="string"}W(Ll,"isErrorResponse");var El=(Fe=class extends Error{constructor(n,i,r,a,s,o){super(Fe.getMessage(n));M(this,"requestBody");this.rawError=n,this.code=i,this.status=r,this.method=a,this.url=s,this.requestBody={files:o.files,json:o.body}}get name(){return`${Fe.name}[${this.code}]`}static getMessage(n){let i="";return"code"in n?(n.errors&&(i=[...this.flattenDiscordError(n.errors)].join(`
`)),n.message&&i?`${n.message}
${i}`:n.message||i||"Unknown Error"):n.error_description??"No Description"}static*flattenDiscordError(n,i=""){if(Ll(n))return yield`${i.length?`${i}[${n.code}]`:`${n.code}`}: ${n.message}`.trim();for(const[r,a]of Object.entries(n)){const s=r.startsWith("_")?i:i?Number.isNaN(Number(r))?`${i}.${r}`:`${i}[${r}]`:r;if(typeof a=="string")yield a;else if(kl(a))for(const o of a._errors)yield*this.flattenDiscordError(o,s);else yield*this.flattenDiscordError(a,s)}}},W(Fe,"DiscordAPIError"),Fe),pb=(Ke=class extends Error{constructor(n,i,r,a,s){super(i);M(this,"requestBody");M(this,"name",Ke.name);this.status=n,this.method=r,this.url=a,this.requestBody={files:s.files,json:s.body}}},W(Ke,"HTTPError"),Ke),Zn=0,Jn=null;function Ar(e){(!Jn||Jn<Date.now())&&(Jn=Date.now()+6e5,Zn=0),Zn++,e.options.invalidRequestWarningInterval>0&&Zn%e.options.invalidRequestWarningInterval===0&&e.emit("invalidRequestWarning",{count:Zn,remainingTime:Jn-Date.now()})}W(Ar,"incrementInvalidCount");async function Tr(e,t,n,i,r,a){const s=new AbortController,o=setTimeout(()=>s.abort(),e.options.timeout);r.signal&&(r.signal.aborted?s.abort():r.signal.addEventListener("abort",()=>s.abort()));let c;try{c=await e.options.makeRequest(n,{...i,signal:s.signal})}catch(l){if(!(l instanceof Error))throw l;if(Tl(l)&&a!==e.options.retries)return null;throw l}finally{clearTimeout(o)}return e.listenerCount("response")&&e.emit("response",{method:i.method??"get",path:t.original,route:t.bucketRoute,options:i,data:r,retries:a},c instanceof Response?c.clone():{...c}),c}W(Tr,"makeNetworkRequest");async function Mr(e,t,n,i,r,a){const s=t.status;if(s>=500&&s<600){if(a!==e.options.retries)return null;throw new pb(s,t.statusText,n,i,r)}else{if(s>=400&&s<500){s===401&&r.auth&&e.setToken(null);const o=await Ir(t);throw new El(o,"code"in o?o.code:o.error,s,n,i,r)}return t}}W(Mr,"handleErrors");var gb=(Ot=class{constructor(t,n,i){M(this,"id");M(this,"inactive",!1);this.manager=t,this.hash=n,this.majorParameter=i,this.id=`${n}:${i}`}debug(t){this.manager.emit("restDebug",`[REST ${this.id}] ${t}`)}async queueRequest(t,n,i,r){return this.runRequest(t,n,i,r)}async runRequest(t,n,i,r,a=0){const s=i.method??"get",o=await Tr(this.manager,t,n,i,r,a);if(o===null)return this.runRequest(t,n,i,r,++a);const c=o.status;let l=0;const u=o.headers.get("Retry-After"),d=At(this.manager.options.offset,t.bucketRoute);if(u&&(l=Number(u)*1e3+d),(c===401||c===403||c===429)&&Ar(this.manager),c>=200&&c<300)return o;if(c===429){const m=o.headers.has("X-RateLimit-Global"),p=o.headers.get("X-RateLimit-Scope")??"user";return await Qn(this.manager,{global:m,method:s,url:n,route:t.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:Number.POSITIVE_INFINITY,timeToReset:l,retryAfter:l,sublimitTimeout:0,scope:p}),this.debug(["Encountered unexpected 429 rate limit",`  Global         : ${m}`,`  Method         : ${s}`,`  URL            : ${n}`,`  Bucket         : ${t.bucketRoute}`,`  Major parameter: ${t.majorParameter}`,`  Hash           : ${this.hash}`,`  Limit          : ${Number.POSITIVE_INFINITY}`,`  Retry After    : ${l}ms`,"  Sublimit       : None",`  Scope          : ${p}`].join(`
`)),await Jt(l),this.runRequest(t,n,i,r,a)}else{const m=await Mr(this.manager,o,s,n,r,a);return m===null?this.runRequest(t,n,i,r,++a):m}}},W(Ot,"BurstHandler"),Ot),vb=(Ct=class{constructor(t,n,i){M(this,"id");M(this,"reset",-1);M(this,"remaining",1);M(this,"limit",Number.POSITIVE_INFINITY);pe(this,Se,new xl);pe(this,ce,null);pe(this,Le,null);pe(this,Rt,!1);this.manager=t,this.hash=n,this.majorParameter=i,this.id=`${n}:${i}`}get inactive(){return j(this,Se).remaining===0&&(j(this,ce)===null||j(this,ce).remaining===0)&&!this.limited}get globalLimited(){return this.manager.globalRemaining<=0&&Date.now()<this.manager.globalReset}get localLimited(){return this.remaining<=0&&Date.now()<this.reset}get limited(){return this.globalLimited||this.localLimited}getTimeToReset(t){const n=At(this.manager.options.offset,t.bucketRoute);return this.reset+n-Date.now()}debug(t){this.manager.emit("restDebug",`[REST ${this.id}] ${t}`)}async globalDelayFor(t){await Jt(t),this.manager.globalDelay=null}async queueRequest(t,n,i,r){var o,c,l;let a=j(this,Se),s=0;if(j(this,ce)&&wr(t.bucketRoute,r.body,i.method)&&(a=j(this,ce),s=1),await a.wait({signal:r.signal}),s===0)if(j(this,ce)&&wr(t.bucketRoute,r.body,i.method)){a=j(this,ce);const u=a.wait();j(this,Se).shift(),await u}else j(this,Le)&&await j(this,Le).promise;try{return await this.runRequest(t,n,i,r)}finally{a.shift(),j(this,Rt)&&(se(this,Rt,!1),(o=j(this,ce))==null||o.shift()),((c=j(this,ce))==null?void 0:c.remaining)===0&&((l=j(this,Le))==null||l.resolve(),se(this,ce,null))}}async runRequest(t,n,i,r,a=0){var T;for(;this.limited;){const _=this.globalLimited;let C,L,X;if(_){const he=At(this.manager.options.offset,t.bucketRoute);C=this.manager.options.globalRequestsPerSecond,L=this.manager.globalReset+he-Date.now(),this.manager.globalDelay||(this.manager.globalDelay=this.globalDelayFor(L)),X=this.manager.globalDelay}else C=this.limit,L=this.getTimeToReset(t),X=Jt(L);const K={global:_,method:i.method??"get",url:n,route:t.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:C,timeToReset:L,retryAfter:L,sublimitTimeout:0,scope:"user"};this.manager.emit("rateLimited",K),await Qn(this.manager,K),_?this.debug(`Global rate limit hit, blocking all requests for ${L}ms`):this.debug(`Waiting ${L}ms for rate limit to pass`),await X}(!this.manager.globalReset||this.manager.globalReset<Date.now())&&(this.manager.globalReset=Date.now()+1e3,this.manager.globalRemaining=this.manager.options.globalRequestsPerSecond),this.manager.globalRemaining--;const s=i.method??"get",o=await Tr(this.manager,t,n,i,r,a);if(o===null)return this.runRequest(t,n,i,r,++a);const c=o.status;let l=0;const u=o.headers.get("X-RateLimit-Limit"),d=o.headers.get("X-RateLimit-Remaining"),m=o.headers.get("X-RateLimit-Reset-After"),p=o.headers.get("X-RateLimit-Bucket"),f=o.headers.get("Retry-After"),v=o.headers.get("X-RateLimit-Scope")??"user",g=At(this.manager.options.offset,t.bucketRoute);if(this.limit=u?Number(u):Number.POSITIVE_INFINITY,this.remaining=d?Number(d):1,this.reset=m?Number(m)*1e3+Date.now()+g:Date.now(),f&&(l=Number(f)*1e3+g),p&&p!==this.hash)this.debug(["Received bucket hash update",`  Old Hash  : ${this.hash}`,`  New Hash  : ${p}`].join(`
`)),this.manager.hashes.set(`${s}:${t.bucketRoute}`,{value:p,lastAccess:Date.now()});else if(p){const _=this.manager.hashes.get(`${s}:${t.bucketRoute}`);_&&(_.lastAccess=Date.now())}let x=null;if(l>0&&(o.headers.has("X-RateLimit-Global")?(this.manager.globalRemaining=0,this.manager.globalReset=Date.now()+l):this.localLimited||(x=l)),(c===401||c===403||c===429)&&Ar(this.manager),o.ok)return o;if(c===429){const _=this.globalLimited;let C,L;if(_){const X=At(this.manager.options.offset,t.bucketRoute);C=this.manager.options.globalRequestsPerSecond,L=this.manager.globalReset+X-Date.now()}else C=this.limit,L=this.getTimeToReset(t);if(await Qn(this.manager,{global:_,method:s,url:n,route:t.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:C,timeToReset:L,retryAfter:l,sublimitTimeout:x??0,scope:v}),this.debug(["Encountered unexpected 429 rate limit",`  Global         : ${_.toString()}`,`  Method         : ${s}`,`  URL            : ${n}`,`  Bucket         : ${t.bucketRoute}`,`  Major parameter: ${t.majorParameter}`,`  Hash           : ${this.hash}`,`  Limit          : ${C}`,`  Retry After    : ${l}ms`,`  Sublimit       : ${x?`${x}ms`:"None"}`,`  Scope          : ${v}`].join(`
`)),x){const X=!j(this,ce);X&&(se(this,ce,new xl),j(this,ce).wait(),j(this,Se).shift()),(T=j(this,Le))==null||T.resolve(),se(this,Le,null),await Jt(x);let K;const he=new Promise(Z=>K=Z);se(this,Le,{promise:he,resolve:K}),X&&(await j(this,Se).wait(),se(this,Rt,!0))}return this.runRequest(t,n,i,r,a)}else{const _=await Mr(this.manager,o,s,n,r,a);return _===null?this.runRequest(t,n,i,r,++a):_}}},Se=new WeakMap,ce=new WeakMap,Le=new WeakMap,Rt=new WeakMap,W(Ct,"SequentialHandler"),Ct),xb=(Ye=class extends Jx{constructor(n={}){super();M(this,"agent",null);M(this,"cdn");M(this,"globalRemaining");M(this,"globalDelay",null);M(this,"globalReset",-1);M(this,"hashes",new Wn);M(this,"handlers",new Wn);pe(this,Ut,null);M(this,"hashTimer");M(this,"handlerTimer");M(this,"options");this.cdn=new mb(n.cdn??Zt.cdn,n.mediaProxy??Zt.mediaProxy),this.options={...Zt,...n},this.globalRemaining=Math.max(1,this.options.globalRequestsPerSecond),this.agent=n.agent??null,this.setupSweepers()}setupSweepers(){var i,r,a,s;const n=W(o=>{if(o>144e5)throw new Error("Cannot set an interval greater than 4 hours")},"validateMaxInterval");this.options.hashSweepInterval!==0&&this.options.hashSweepInterval!==Number.POSITIVE_INFINITY&&(n(this.options.hashSweepInterval),this.hashTimer=setInterval(()=>{const o=new Wn,c=Date.now();this.hashes.sweep((l,u)=>{if(l.lastAccess===-1)return!1;const d=Math.floor(c-l.lastAccess)>this.options.hashLifetime;return d&&(o.set(u,l),this.emit("restDebug",`Hash ${l.value} for ${u} swept due to lifetime being exceeded`)),d}),this.emit("hashSweep",o)},this.options.hashSweepInterval),(r=(i=this.hashTimer).unref)==null||r.call(i)),this.options.handlerSweepInterval!==0&&this.options.handlerSweepInterval!==Number.POSITIVE_INFINITY&&(n(this.options.handlerSweepInterval),this.handlerTimer=setInterval(()=>{const o=new Wn;this.handlers.sweep((c,l)=>{const{inactive:u}=c;return u&&(o.set(l,c),this.emit("restDebug",`Handler ${c.id} for ${l} swept due to being inactive`)),u}),this.emit("handlerSweep",o)},this.options.handlerSweepInterval),(s=(a=this.handlerTimer).unref)==null||s.call(a))}async get(n,i={}){return this.request({...i,fullRoute:n,method:"GET"})}async delete(n,i={}){return this.request({...i,fullRoute:n,method:"DELETE"})}async post(n,i={}){return this.request({...i,fullRoute:n,method:"POST"})}async put(n,i={}){return this.request({...i,fullRoute:n,method:"PUT"})}async patch(n,i={}){return this.request({...i,fullRoute:n,method:"PATCH"})}async request(n){const i=await this.queueRequest(n);return Ir(i)}setAgent(n){return this.agent=n,this}setToken(n){return se(this,Ut,n),this}async queueRequest(n){const i=Ye.generateRouteData(n.fullRoute,n.method),r=this.hashes.get(`${n.method}:${i.bucketRoute}`)??{value:`Global(${n.method}:${i.bucketRoute})`,lastAccess:-1},a=this.handlers.get(`${r.value}:${i.majorParameter}`)??this.createHandler(r.value,i.majorParameter),{url:s,fetchOptions:o}=await this.resolveRequest(n);return a.queueRequest(i,s,o,{body:n.body,files:n.files,auth:n.auth!==!1,signal:n.signal})}createHandler(n,i){const r=i===Il?new gb(this,n,i):new vb(this,n,i);return this.handlers.set(r.id,r),r}async resolveRequest(n){var d,m;const{options:i}=this;let r="";if(n.query){const p=n.query.toString();p!==""&&(r=`?${p}`)}const a={...this.options.headers,"User-Agent":`${sb} ${i.userAgentAppendix}`.trim()};if(n.auth!==!1){if(!j(this,Ut))throw new Error("Expected token to be set for this request, but none was present");a.Authorization=`${n.authPrefix??this.options.authPrefix} ${j(this,Ut)}`}(d=n.reason)!=null&&d.length&&(a["X-Audit-Log-Reason"]=encodeURIComponent(n.reason));const s=`${i.api}${n.versioned===!1?"":`/v${i.version}`}${n.fullRoute}${r}`;let o,c={};if((m=n.files)!=null&&m.length){const p=new FormData;for(const[f,v]of n.files.entries()){const g=v.key??`files[${f}]`;if(Ml(v.data)){let x=v.contentType;if(!x){const[T]=fl.filetypeinfo(v.data);T&&(x=ub[T.mime]??T.mime??"application/octet-stream")}p.append(g,new Blob([v.data],{type:x}),v.name)}else p.append(g,new Blob([`${v.data}`],{type:v.contentType}),v.name)}if(n.body!=null)if(n.appendToFormData)for(const[f,v]of Object.entries(n.body))p.append(f,v);else p.append("payload_json",JSON.stringify(n.body));o=p}else n.body!=null&&(n.passThroughBody?o=n.body:(o=JSON.stringify(n.body),c={"Content-Type":"application/json"}));const l=n.method.toUpperCase(),u={body:["GET","HEAD"].includes(l)?null:o,headers:{...n.headers,...c,...a},method:l,dispatcher:n.dispatcher??this.agent??void 0};return{url:s,fetchOptions:u}}clearHashSweeper(){clearInterval(this.hashTimer)}clearHandlerSweeper(){clearInterval(this.handlerTimer)}static generateRouteData(n,i){if(n.startsWith("/interactions/")&&n.endsWith("/callback"))return{majorParameter:Il,bucketRoute:"/interactions/:id/:token/callback",original:n};const r=/(?:^\/webhooks\/(\d{17,19}\/[^/?]+))|(?:^\/(?:channels|guilds|webhooks)\/(\d{17,19}))/.exec(n),a=(r==null?void 0:r[2])??(r==null?void 0:r[1])??"global",s=n.replaceAll(/\d{17,19}/g,":id").replace(/\/reactions\/(.*)/,"/reactions/:reaction").replace(/\/webhooks\/:id\/[^/?]+/,"/webhooks/:id/:token");let o="";if(i==="DELETE"&&s==="/channels/:id/messages/:id"){const c=/\d{17,19}$/.exec(n)[0],l=Qx.timestampFrom(c);Date.now()-l>1e3*60*60*24*14&&(o+="/Delete Old Message")}return{majorParameter:a,bucketRoute:s+o,original:n}}},Ut=new WeakMap,W(Ye,"REST"),Ye);yl(fetch);var Ol={};function be(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var bb=be;be.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},be.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},be.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},n),this._options.unref&&this._timer.unref(),!0},be.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},be.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},be.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},be.prototype.start=be.prototype.try,be.prototype.errors=function(){return this._errors},be.prototype.attempts=function(){return this._attempts},be.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var r=this._errors[i],a=r.message,s=(e[a]||0)+1;e[a]=s,s>=n&&(t=r,n=s)}return t},function(e){var t=bb;e.operation=function(n){var i=e.timeouts(n);return new t(i,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var i={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in n)i[r]=n[r];if(i.minTimeout>i.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<i.retries;s++)a.push(this.createTimeout(s,i));return n&&n.forever&&!a.length&&a.push(this.createTimeout(s,i)),a.sort(function(o,c){return o-c}),a},e.createTimeout=function(n,i){var r=i.randomize?Math.random()+1:1,a=Math.round(r*Math.max(i.minTimeout,1)*Math.pow(i.factor,n));return a=Math.min(a,i.maxTimeout),a},e.wrap=function(n,i,r){if(i instanceof Array&&(r=i,i=null),!r){r=[];for(var a in n)typeof n[a]=="function"&&r.push(a)}for(var s=0;s<r.length;s++){var o=r[s],c=n[o];n[o]=(function(u){var d=e.operation(i),m=Array.prototype.slice.call(arguments,1),p=m.pop();m.push(function(f){d.retry(f)||(f&&(arguments[0]=d.mainError()),p.apply(this,arguments))}),d.attempt(function(){u.apply(n,m)})}).bind(n,c),n[o].options=i}}}(Ol);var yb=Ol;const _b=re(yb),$b=Object.prototype.toString,Ib=e=>$b.call(e)==="[object Error]",wb=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function Ab(e){return e&&Ib(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:wb.has(e.message):!1}class ei extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Rl=(e,t,n)=>{const i=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=i,e};async function Tb(e,t){return new Promise((n,i)=>{t={onFailedAttempt(){},retries:10,shouldRetry:()=>!0,...t};const r=_b.operation(t),a=()=>{var o;r.stop(),i((o=t.signal)==null?void 0:o.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",a,{once:!0});const s=()=>{var o;(o=t.signal)==null||o.removeEventListener("abort",a),r.stop()};r.attempt(async o=>{try{const c=await e(o);s(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof ei)throw c.originalError;if(c instanceof TypeError&&!Ab(c))throw c;if(Rl(c,o,t),await t.shouldRetry(c)||(r.stop(),i(c)),await t.onFailedAttempt(c),!r.retry(c))throw r.mainError()}catch(l){Rl(l,o,t),s(),i(l)}}})})}const Cl=`https://${Q}`;class Mb{constructor(t){M(this,"log",rn.extend("OAuthManager"));M(this,"clientId","503557087041683458");M(this,"redirectUri","https://login.premid.app");M(this,"refreshAlarm");M(this,"rest",new xb({authPrefix:"Bearer",version:"10"}));this.pmd=t,jt.watch(n=>{n&&this.setDiscordUser(n),Ri()}),this.init()}async openOAuth2Window(){const t=Ul(32),{codeVerifier:n,codeChallenge:i}=await kb(),r=new URL("https://discord.com/oauth2/authorize");await de.setValue({state:t,verifier:n}),r.searchParams.set("client_id",this.clientId),r.searchParams.set("redirect_uri",this.redirectUri),r.searchParams.set("response_type","code"),r.searchParams.set("scope","identify activities.write"),r.searchParams.set("state",t),r.searchParams.set("code_challenge",i),r.searchParams.set("code_challenge_method","S256"),await w.tabs.create({url:r.toString()}),this.log("Opened OAuth2 window")}async init(){var i,r;const t=await de.getValue(),n=await tt();t&&"token"in t&&(this.rest=this.rest.setToken(t.token),(i=this.pmd.websocketManager)==null||i.send({type:"token",token:t.token,expires:t.expires}),(r=this.pmd.sessionKeepAlive)==null||r.setToken(t.token),n&&this.createRefreshTokenAlarm()),n&&(le.watch((a,s)=>{(s==null?void 0:s.usePlayingStatus)!==(a==null?void 0:a.usePlayingStatus)&&this.createHeadlessSession()}),w.tabs.onUpdated.addListener(async(a,s,o)=>{var f,v;if(s.status!=="complete"||!((f=o.url)!=null&&f.startsWith("https://login.premid.app")))return;await w.tabs.remove(a).catch(()=>{});const{searchParams:c}=new URL(((v=o.url)==null?void 0:v.toString())??""),l=c.get("code"),u=c.get("state"),d=c.get("error"),m=c.get("error_description");if(d){this.log(d,m);return}if(!l||!u)return this.log("No code or state");const p=await de.getValue();if(!p)return this.log("No oauth2");if(!("state"in p))return this.log("No state in oauth2");if(u!==p.state)return this.log("State doesn't match");this.getAuthorizationCode(l)}),await Promise.allSettled([this.deleteHeadlessSession(),this.fetchUser()]),w.alarms.onAlarm.addListener(async a=>{a.name==="headlessSessionRefresh"&&(this.log("Refreshing headless session due to expiration"),await this.createHeadlessSession()),a.name==="requestRefreshToken"&&(this.log("Requesting refresh token"),await this.refreshToken())}),this.log("Initialized"))}async getAuthorizationCode(t){var a,s;const n=await de.getValue();if(!n||!("verifier"in n))return this.log("No verifier in oauth2");const i=await fetch("https://discord.com/api/oauth2/token",{body:new URLSearchParams({client_id:this.clientId,code:t,code_verifier:n.verifier,grant_type:"authorization_code",redirect_uri:this.redirectUri}),method:"POST"});if(!i.ok)return this.openOAuth2Window();const r=await i.json();this.rest=this.rest.setToken(r.access_token),(a=this.pmd.websocketManager)==null||a.send({type:"token",token:r.access_token,expires:Date.now()+r.expires_in*1e3}),(s=this.pmd.sessionKeepAlive)==null||s.setToken(r.access_token),await de.setValue({expires:Date.now()+r.expires_in*1e3,refreshToken:r.refresh_token,scope:r.scope,token:r.access_token}),await this.fetchUser(),this.log("Got authorization code")}async createHeadlessSession(){var c,l,u,d,m;if(!this.pmd.tabPriority)return this.log("Not in background");this.refreshAlarm||(w.alarms.create("headlessSessionRefresh",{delayInMinutes:15}),this.refreshAlarm=await w.alarms.get("headlessSessionRefresh"));const t=await de.getValue();if(!t||!("token"in t))return this.log("No token in oauth2");const{usePlayingStatus:n}=await le.getValue(),i=(c=this.pmd.tabPriority.activityManager.currentPresence)==null?void 0:c.presenceData,r=(i==null?void 0:i.largeImageKey)||(i==null?void 0:i.smallImageKey)||(i==null?void 0:i.smallImageText),a=n?0:(i==null?void 0:i.type)??0,s={application_id:((l=this.pmd.tabPriority.activityManager.currentPresence)==null?void 0:l.clientId)??this.clientId,name:(i==null?void 0:i.name)??((u=this.pmd.tabPriority.currentTabPresence)==null?void 0:u.service),platform:"desktop",type:a};i!=null&&i.details&&(s.details=i.details),i!=null&&i.state&&(s.state=i.state),r&&(s.assets={}),i!=null&&i.largeImageText&&(s.assets.large_text=i.largeImageText),i!=null&&i.largeImageKey&&(s.assets.large_image=i.largeImageKey),i!=null&&i.smallImageKey&&(s.assets.small_image=i.smallImageKey),i!=null&&i.smallImageText&&(s.assets.small_text=i.smallImageText),(i!=null&&i.startTimestamp||i!=null&&i.endTimestamp)&&(s.timestamps={}),i!=null&&i.startTimestamp&&(s.timestamps.start=typeof i.startTimestamp=="number"?i.startTimestamp:i.startTimestamp.getTime()),i!=null&&i.endTimestamp&&(s.timestamps.end=typeof i.endTimestamp=="number"?i.endTimestamp:i.endTimestamp.getTime()),i!=null&&i.buttons&&(s.buttons=i.buttons);const o=await Bt.getValue();try{const p=await this.rest.post("/users/@me/headless-sessions",{body:{...(o==null?void 0:o.token)&&{token:o.token},activities:[s]}});await Bt.setValue({expires:Date.now()+12e5,token:p.token}),(d=this.pmd.websocketManager)==null||d.send({type:"session",token:p.token}),(m=this.pmd.sessionKeepAlive)==null||m.setSession(p.token)}catch(p){typeof p=="object"&&p&&!Array.isArray(p)&&"code"in p&&p.code===zc.InvalidToken&&Bt.removeValue()}}async deleteHeadlessSession(){await w.alarms.clear("headlessSessionRefresh"),this.refreshAlarm=void 0;const t=await de.getValue(),n=await Bt.getValue();if(!(!t||!("token"in t)||!(n!=null&&n.token))){try{await this.rest.post("/users/@me/headless-sessions/delete",{body:{token:n.token}})}finally{await Bt.removeValue()}this.log("Deleted headless session")}}async fetchUser(){const t=await de.getValue();if(!(!t||!("token"in t)))try{const n=await this.rest.get(Kc.user());return this.setDiscordUser(n),this.log("Fetched user %s",n.global_name),n}catch(n){n instanceof El&&n.status===401&&(this.log("Token expired"),await this.refreshToken())}}async refreshToken(){const t=await de.getValue();if(!(!t||!("refreshToken"in t)))try{await Tb(async()=>{var s,o;const n=new URLSearchParams;n.append("refresh_token",t.refreshToken);const i=await fetch(`${Cl}/oauth2/refreshtoken?${n.toString()}`,{method:"POST"}),r=await i.json();if("error"in r)throw this.log("Error refreshing token",r.error),i.status===400&&this.pmd.oAuthManager.logout(),new ei("Error refreshing token");if(!("access_token"in r))throw new ei("No access token in response");this.rest=this.rest.setToken(r.access_token),(s=this.pmd.websocketManager)==null||s.send({type:"token",token:r.access_token,expires:Date.now()+r.expires_in*1e3}),(o=this.pmd.sessionKeepAlive)==null||o.setToken(r.access_token);const a=r;await de.setValue({expires:Date.now()+r.expires_in*1e3,refreshToken:a.refresh_token,scope:a.scope,token:a.access_token}),this.createRefreshTokenAlarm(),this.log("Refreshed token")})}catch(n){n instanceof ei&&await this.logout()}}async createRefreshTokenAlarm(){const t=await de.getValue();!t||!("token"in t)||w.alarms.create("requestRefreshToken",{delayInMinutes:Math.floor((t.expires-Date.now())/1e3/60)-15})}async logout(){await this.deleteHeadlessSession();const t=await de.getValue();if(t&&"token"in t)try{const n=new URLSearchParams({token:t.token});await fetch(`${Cl}/oauth2/revoke?${n.toString()}`,{method:"POST"}),this.log("Revoked token")}catch(n){this.log("Error revoking token",n)}await de.removeValue(),await jt.removeValue(),w.alarms.clear("requestRefreshToken"),this.log("Logged out")}async setDiscordUser(t){if(await Jh.setValue(!0),!t){await jt.removeValue(),this.log("Removed discord user");return}await jt.setValue(t),this.log("Updated discord user %s",t.global_name)}}function Ul(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}async function Pb(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n);return Db(i)}function Db(e){const t=String.fromCodePoint(...new Uint8Array(e));return btoa(t).replace("+","-").replace("/","_").replace(/=+$/,"")}async function kb(){const e=Ul(128);return{codeChallenge:await Pb(e),codeVerifier:e}}function Lb(){this.__data__=[],this.size=0}var Eb=Lb;function Ob(e,t){return e===t||e!==e&&t!==t}var en=Ob,Rb=en;function Cb(e,t){for(var n=e.length;n--;)if(Rb(e[n][0],t))return n;return-1}var ti=Cb,Ub=ti,Fb=Array.prototype,Sb=Fb.splice;function Nb(e){var t=this.__data__,n=Ub(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Sb.call(t,n,1),--this.size,!0}var Bb=Nb,jb=ti;function Vb(e){var t=this.__data__,n=jb(t,e);return n<0?void 0:t[n][1]}var Gb=Vb,Hb=ti;function qb(e){return Hb(this.__data__,e)>-1}var Wb=qb,zb=ti;function Kb(e,t){var n=this.__data__,i=zb(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var Yb=Kb,Xb=Eb,Qb=Bb,Zb=Gb,Jb=Wb,ey=Yb;function Tt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Tt.prototype.clear=Xb,Tt.prototype.delete=Qb,Tt.prototype.get=Zb,Tt.prototype.has=Jb,Tt.prototype.set=ey;var ni=Tt,ty=ni;function ny(){this.__data__=new ty,this.size=0}var iy=ny;function ry(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ay=ry;function sy(e){return this.__data__.get(e)}var oy=sy;function cy(e){return this.__data__.has(e)}var ly=cy,uy=Be,dy=uy(Object,"create"),ii=dy,Fl=ii;function fy(){this.__data__=Fl?Fl(null):{},this.size=0}var hy=fy;function my(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var py=my,gy=ii,vy="__lodash_hash_undefined__",xy=Object.prototype,by=xy.hasOwnProperty;function yy(e){var t=this.__data__;if(gy){var n=t[e];return n===vy?void 0:n}return by.call(t,e)?t[e]:void 0}var _y=yy,$y=ii,Iy=Object.prototype,wy=Iy.hasOwnProperty;function Ay(e){var t=this.__data__;return $y?t[e]!==void 0:wy.call(t,e)}var Ty=Ay,My=ii,Py="__lodash_hash_undefined__";function Dy(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=My&&t===void 0?Py:t,this}var ky=Dy,Ly=hy,Ey=py,Oy=_y,Ry=Ty,Cy=ky;function Mt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Mt.prototype.clear=Ly,Mt.prototype.delete=Ey,Mt.prototype.get=Oy,Mt.prototype.has=Ry,Mt.prototype.set=Cy;var Uy=Mt,Sl=Uy,Fy=ni,Sy=$i;function Ny(){this.size=0,this.__data__={hash:new Sl,map:new(Sy||Fy),string:new Sl}}var By=Ny;function jy(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vy=jy,Gy=Vy;function Hy(e,t){var n=e.__data__;return Gy(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ri=Hy,qy=ri;function Wy(e){var t=qy(this,e).delete(e);return this.size-=t?1:0,t}var zy=Wy,Ky=ri;function Yy(e){return Ky(this,e).get(e)}var Xy=Yy,Qy=ri;function Zy(e){return Qy(this,e).has(e)}var Jy=Zy,e_=ri;function t_(e,t){var n=e_(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var n_=t_,i_=By,r_=zy,a_=Xy,s_=Jy,o_=n_;function Pt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Pt.prototype.clear=i_,Pt.prototype.delete=r_,Pt.prototype.get=a_,Pt.prototype.has=s_,Pt.prototype.set=o_;var Pr=Pt,c_=ni,l_=$i,u_=Pr,d_=200;function f_(e,t){var n=this.__data__;if(n instanceof c_){var i=n.__data__;if(!l_||i.length<d_-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new u_(i)}return n.set(e,t),this.size=n.size,this}var h_=f_,m_=ni,p_=iy,g_=ay,v_=oy,x_=ly,b_=h_;function Dt(e){var t=this.__data__=new m_(e);this.size=t.size}Dt.prototype.clear=p_,Dt.prototype.delete=g_,Dt.prototype.get=v_,Dt.prototype.has=x_,Dt.prototype.set=b_;var Dr=Dt;function y_(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}var __=y_,$_=Be,I_=function(){try{var e=$_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Nl=I_,Bl=Nl;function w_(e,t,n){t=="__proto__"&&Bl?Bl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var kr=w_,A_=kr,T_=en,M_=Object.prototype,P_=M_.hasOwnProperty;function D_(e,t,n){var i=e[t];(!(P_.call(e,t)&&T_(i,n))||n===void 0&&!(t in e))&&A_(e,t,n)}var Lr=D_,k_=Lr,L_=kr;function E_(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],c=i?i(n[o],e[o],o,n,e):void 0;c===void 0&&(c=e[o]),r?L_(n,o,c):k_(n,o,c)}return n}var tn=E_;function O_(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var R_=O_,C_=9007199254740991,U_=/^(?:0|[1-9]\d*)$/;function F_(e,t){var n=typeof e;return t=t??C_,!!t&&(n=="number"||n!="symbol"&&U_.test(e))&&e>-1&&e%1==0&&e<t}var ai=F_,S_=R_,N_=cn,B_=ge,j_=un,V_=ai,G_=ki,H_=Object.prototype,q_=H_.hasOwnProperty;function W_(e,t){var n=B_(e),i=!n&&N_(e),r=!n&&!i&&j_(e),a=!n&&!i&&!r&&G_(e),s=n||i||r||a,o=s?S_(e.length,String):[],c=o.length;for(var l in e)(t||q_.call(e,l))&&!(s&&(l=="length"||r&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||V_(l,c)))&&o.push(l);return o}var jl=W_,z_=jl,K_=Jr,Y_=st;function X_(e){return Y_(e)?z_(e):K_(e)}var nn=X_,Q_=tn,Z_=nn;function J_(e,t){return e&&Q_(t,Z_(t),e)}var e1=J_;function t1(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var n1=t1,i1=Oe,r1=on,a1=n1,s1=Object.prototype,o1=s1.hasOwnProperty;function c1(e){if(!i1(e))return a1(e);var t=r1(e),n=[];for(var i in e)i=="constructor"&&(t||!o1.call(e,i))||n.push(i);return n}var l1=c1,u1=jl,d1=l1,f1=st;function h1(e){return f1(e)?u1(e,!0):d1(e)}var si=h1,m1=tn,p1=si;function g1(e,t){return e&&m1(t,p1(t),e)}var v1=g1,oi={exports:{}};oi.exports,function(e,t){var n=we,i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===i,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var d=l.length,m=o?o(d):new l.constructor(d);return l.copy(m),m}e.exports=c}(oi,oi.exports);var x1=oi.exports;function b1(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var y1=b1;function _1(e,t){for(var n=-1,i=e==null?0:e.length,r=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[r++]=s)}return a}var $1=_1;function I1(){return[]}var Vl=I1,w1=$1,A1=Vl,T1=Object.prototype,M1=T1.propertyIsEnumerable,Gl=Object.getOwnPropertySymbols,P1=Gl?function(e){return e==null?[]:(e=Object(e),w1(Gl(e),function(t){return M1.call(e,t)}))}:A1,Er=P1,D1=tn,k1=Er;function L1(e,t){return D1(e,k1(e),t)}var E1=L1;function O1(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var Or=O1,R1=Zr,C1=R1(Object.getPrototypeOf,Object),Rr=C1,U1=Or,F1=Rr,S1=Er,N1=Vl,B1=Object.getOwnPropertySymbols,j1=B1?function(e){for(var t=[];e;)U1(t,S1(e)),e=F1(e);return t}:N1,Hl=j1,V1=tn,G1=Hl;function H1(e,t){return V1(e,G1(e),t)}var q1=H1,W1=Or,z1=ge;function K1(e,t,n){var i=t(e);return z1(e)?i:W1(i,n(e))}var ql=K1,Y1=ql,X1=Er,Q1=nn;function Z1(e){return Y1(e,Q1,X1)}var Wl=Z1,J1=ql,e$=Hl,t$=si;function n$(e){return J1(e,t$,e$)}var Cr=n$,i$=Object.prototype,r$=i$.hasOwnProperty;function a$(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&r$.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var s$=a$,o$=we,c$=o$.Uint8Array,zl=c$,Kl=zl;function l$(e){var t=new e.constructor(e.byteLength);return new Kl(t).set(new Kl(e)),t}var Ur=l$,u$=Ur;function d$(e,t){var n=t?u$(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var f$=d$,h$=/\w*$/;function m$(e){var t=new e.constructor(e.source,h$.exec(e));return t.lastIndex=e.lastIndex,t}var p$=m$,Yl=it,Xl=Yl?Yl.prototype:void 0,Ql=Xl?Xl.valueOf:void 0;function g$(e){return Ql?Object(Ql.call(e)):{}}var v$=g$,x$=Ur;function b$(e,t){var n=t?x$(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var y$=b$,_$=Ur,$$=f$,I$=p$,w$=v$,A$=y$,T$="[object Boolean]",M$="[object Date]",P$="[object Map]",D$="[object Number]",k$="[object RegExp]",L$="[object Set]",E$="[object String]",O$="[object Symbol]",R$="[object ArrayBuffer]",C$="[object DataView]",U$="[object Float32Array]",F$="[object Float64Array]",S$="[object Int8Array]",N$="[object Int16Array]",B$="[object Int32Array]",j$="[object Uint8Array]",V$="[object Uint8ClampedArray]",G$="[object Uint16Array]",H$="[object Uint32Array]";function q$(e,t,n){var i=e.constructor;switch(t){case R$:return _$(e);case T$:case M$:return new i(+e);case C$:return $$(e,n);case U$:case F$:case S$:case N$:case B$:case j$:case V$:case G$:case H$:return A$(e,n);case P$:return new i;case D$:case E$:return new i(e);case k$:return I$(e);case L$:return new i;case O$:return w$(e)}}var W$=q$,z$=Oe,Zl=Object.create,K$=function(){function e(){}return function(t){if(!z$(t))return{};if(Zl)return Zl(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Y$=K$,X$=Y$,Q$=Rr,Z$=on;function J$(e){return typeof e.constructor=="function"&&!Z$(e)?X$(Q$(e)):{}}var eI=J$,tI=Nt,nI=De,iI="[object Map]";function rI(e){return nI(e)&&tI(e)==iI}var aI=rI,sI=aI,oI=dn,Jl=Di,eu=Jl&&Jl.isMap,cI=eu?oI(eu):sI,lI=cI,uI=Nt,dI=De,fI="[object Set]";function hI(e){return dI(e)&&uI(e)==fI}var mI=hI,pI=mI,gI=dn,tu=Di,nu=tu&&tu.isSet,vI=nu?gI(nu):pI,xI=vI,bI=Dr,yI=__,_I=Lr,$I=e1,II=v1,wI=x1,AI=y1,TI=E1,MI=q1,PI=Wl,DI=Cr,kI=Nt,LI=s$,EI=W$,OI=eI,RI=ge,CI=un,UI=lI,FI=Oe,SI=xI,NI=nn,BI=si,jI=1,VI=2,GI=4,iu="[object Arguments]",HI="[object Array]",qI="[object Boolean]",WI="[object Date]",zI="[object Error]",ru="[object Function]",KI="[object GeneratorFunction]",YI="[object Map]",XI="[object Number]",au="[object Object]",QI="[object RegExp]",ZI="[object Set]",JI="[object String]",ew="[object Symbol]",tw="[object WeakMap]",nw="[object ArrayBuffer]",iw="[object DataView]",rw="[object Float32Array]",aw="[object Float64Array]",sw="[object Int8Array]",ow="[object Int16Array]",cw="[object Int32Array]",lw="[object Uint8Array]",uw="[object Uint8ClampedArray]",dw="[object Uint16Array]",fw="[object Uint32Array]",z={};z[iu]=z[HI]=z[nw]=z[iw]=z[qI]=z[WI]=z[rw]=z[aw]=z[sw]=z[ow]=z[cw]=z[YI]=z[XI]=z[au]=z[QI]=z[ZI]=z[JI]=z[ew]=z[lw]=z[uw]=z[dw]=z[fw]=!0,z[zI]=z[ru]=z[tw]=!1;function ci(e,t,n,i,r,a){var s,o=t&jI,c=t&VI,l=t&GI;if(n&&(s=r?n(e,i,r,a):n(e)),s!==void 0)return s;if(!FI(e))return e;var u=RI(e);if(u){if(s=LI(e),!o)return AI(e,s)}else{var d=kI(e),m=d==ru||d==KI;if(CI(e))return wI(e,o);if(d==au||d==iu||m&&!r){if(s=c||m?{}:OI(e),!o)return c?MI(e,II(s,e)):TI(e,$I(s,e))}else{if(!z[d])return r?e:{};s=EI(e,d,o)}}a||(a=new bI);var p=a.get(e);if(p)return p;a.set(e,s),SI(e)?e.forEach(function(g){s.add(ci(g,t,n,g,e,a))}):UI(e)&&e.forEach(function(g,x){s.set(x,ci(g,t,n,x,e,a))});var f=l?c?DI:PI:c?BI:NI,v=u?void 0:f(e);return yI(v||e,function(g,x){v&&(x=g,g=e[x]),_I(s,x,ci(g,t,n,x,e,a))}),s}var su=ci,hw=su,mw=1,pw=4;function gw(e){return hw(e,mw|pw)}var vw=gw;const xw=re(vw);function bw(e){return e}var Fr=bw;function yw(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _w=yw,$w=_w,ou=Math.max;function Iw(e,t,n){return t=ou(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,a=ou(i.length-t,0),s=Array(a);++r<a;)s[r]=i[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=i[r];return o[t]=n(s),$w(e,this,o)}}var cu=Iw;function ww(e){return function(){return e}}var Aw=ww,Tw=Aw,lu=Nl,Mw=Fr,Pw=lu?function(e,t){return lu(e,"toString",{configurable:!0,enumerable:!1,value:Tw(t),writable:!0})}:Mw,Dw=Pw,kw=800,Lw=16,Ew=Date.now;function Ow(e){var t=0,n=0;return function(){var i=Ew(),r=Lw-(i-n);if(n=i,r>0){if(++t>=kw)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Rw=Ow,Cw=Dw,Uw=Rw,Fw=Uw(Cw),uu=Fw,Sw=Fr,Nw=cu,Bw=uu;function jw(e,t){return Bw(Nw(e,t,Sw),e+"")}var du=jw,Vw=en,Gw=st,Hw=ai,qw=Oe;function Ww(e,t,n){if(!qw(n))return!1;var i=typeof t;return(i=="number"?Gw(n)&&Hw(t,n.length):i=="string"&&t in n)?Vw(n[t],e):!1}var zw=Ww,Kw=du,Yw=en,Xw=zw,Qw=si,fu=Object.prototype,Zw=fu.hasOwnProperty,Jw=Kw(function(e,t){e=Object(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&Xw(t[0],t[1],r)&&(i=1);++n<i;)for(var a=t[n],s=Qw(a),o=-1,c=s.length;++o<c;){var l=s[o],u=e[l];(u===void 0||Yw(u,fu[l])&&!Zw.call(e,l))&&(e[l]=a[l])}return e}),eA=Jw;const tA=re(eA);var nA="__lodash_hash_undefined__";function iA(e){return this.__data__.set(e,nA),this}var rA=iA;function aA(e){return this.__data__.has(e)}var sA=aA,oA=Pr,cA=rA,lA=sA;function li(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new oA;++t<n;)this.add(e[t])}li.prototype.add=li.prototype.push=cA,li.prototype.has=lA;var hu=li;function uA(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var dA=uA;function fA(e,t){return e.has(t)}var mu=fA,hA=hu,mA=dA,pA=mu,gA=1,vA=2;function xA(e,t,n,i,r,a){var s=n&gA,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var d=-1,m=!0,p=n&vA?new hA:void 0;for(a.set(e,t),a.set(t,e);++d<o;){var f=e[d],v=t[d];if(i)var g=s?i(v,f,d,t,e,a):i(f,v,d,e,t,a);if(g!==void 0){if(g)continue;m=!1;break}if(p){if(!mA(t,function(x,T){if(!pA(p,T)&&(f===x||r(f,x,n,i,a)))return p.push(T)})){m=!1;break}}else if(!(f===v||r(f,v,n,i,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var pu=xA;function bA(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}var yA=bA;function _A(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var $A=_A,gu=it,vu=zl,IA=en,wA=pu,AA=yA,TA=$A,MA=1,PA=2,DA="[object Boolean]",kA="[object Date]",LA="[object Error]",EA="[object Map]",OA="[object Number]",RA="[object RegExp]",CA="[object Set]",UA="[object String]",FA="[object Symbol]",SA="[object ArrayBuffer]",NA="[object DataView]",xu=gu?gu.prototype:void 0,Sr=xu?xu.valueOf:void 0;function BA(e,t,n,i,r,a,s){switch(n){case NA:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case SA:return!(e.byteLength!=t.byteLength||!a(new vu(e),new vu(t)));case DA:case kA:case OA:return IA(+e,+t);case LA:return e.name==t.name&&e.message==t.message;case RA:case UA:return e==t+"";case EA:var o=AA;case CA:var c=i&MA;if(o||(o=TA),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;i|=PA,s.set(e,t);var u=wA(o(e),o(t),i,r,a,s);return s.delete(e),u;case FA:if(Sr)return Sr.call(e)==Sr.call(t)}return!1}var jA=BA,bu=Wl,VA=1,GA=Object.prototype,HA=GA.hasOwnProperty;function qA(e,t,n,i,r,a){var s=n&VA,o=bu(e),c=o.length,l=bu(t),u=l.length;if(c!=u&&!s)return!1;for(var d=c;d--;){var m=o[d];if(!(s?m in t:HA.call(t,m)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var v=!0;a.set(e,t),a.set(t,e);for(var g=s;++d<c;){m=o[d];var x=e[m],T=t[m];if(i)var _=s?i(T,x,m,t,e,a):i(x,T,m,e,t,a);if(!(_===void 0?x===T||r(x,T,n,i,a):_)){v=!1;break}g||(g=m=="constructor")}if(v&&!g){var C=e.constructor,L=t.constructor;C!=L&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof L=="function"&&L instanceof L)&&(v=!1)}return a.delete(e),a.delete(t),v}var WA=qA,Nr=Dr,zA=pu,KA=jA,YA=WA,yu=Nt,_u=ge,$u=un,XA=ki,QA=1,Iu="[object Arguments]",wu="[object Array]",ui="[object Object]",ZA=Object.prototype,Au=ZA.hasOwnProperty;function JA(e,t,n,i,r,a){var s=_u(e),o=_u(t),c=s?wu:yu(e),l=o?wu:yu(t);c=c==Iu?ui:c,l=l==Iu?ui:l;var u=c==ui,d=l==ui,m=c==l;if(m&&$u(e)){if(!$u(t))return!1;s=!0,u=!1}if(m&&!u)return a||(a=new Nr),s||XA(e)?zA(e,t,n,i,r,a):KA(e,t,c,n,i,r,a);if(!(n&QA)){var p=u&&Au.call(e,"__wrapped__"),f=d&&Au.call(t,"__wrapped__");if(p||f){var v=p?e.value():e,g=f?t.value():t;return a||(a=new Nr),r(v,g,n,i,a)}}return m?(a||(a=new Nr),YA(e,t,n,i,r,a)):!1}var eT=JA,tT=eT,Tu=De;function Mu(e,t,n,i,r){return e===t?!0:e==null||t==null||!Tu(e)&&!Tu(t)?e!==e&&t!==t:tT(e,t,n,i,Mu,r)}var Br=Mu,nT=Br;function iT(e,t){return nT(e,t)}var rT=iT;const Pu=re(rT);function aT(e){return e==null}var sT=aT;const di=re(sT);function oT(e,t,n,i){for(var r=-1,a=e==null?0:e.length;++r<a;){var s=e[r];t(i,s,n(s),e)}return i}var cT=oT;function lT(e){return function(t,n,i){for(var r=-1,a=Object(t),s=i(t),o=s.length;o--;){var c=s[e?o:++r];if(n(a[c],c,a)===!1)break}return t}}var uT=lT,dT=uT,fT=dT(),hT=fT,mT=hT,pT=nn;function gT(e,t){return e&&mT(e,t,pT)}var vT=gT,xT=st;function bT(e,t){return function(n,i){if(n==null)return n;if(!xT(n))return e(n,i);for(var r=n.length,a=t?r:-1,s=Object(n);(t?a--:++a<r)&&i(s[a],a,s)!==!1;);return n}}var yT=bT,_T=vT,$T=yT,IT=$T(_T),wT=IT,AT=wT;function TT(e,t,n,i){return AT(e,function(r,a,s){t(i,r,n(r),s)}),i}var MT=TT,PT=Dr,DT=Br,kT=1,LT=2;function ET(e,t,n,i){var r=n.length,a=r,s=!i;if(e==null)return!a;for(e=Object(e);r--;){var o=n[r];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<a;){o=n[r];var c=o[0],l=e[c],u=o[1];if(s&&o[2]){if(l===void 0&&!(c in e))return!1}else{var d=new PT;if(i)var m=i(l,u,c,e,t,d);if(!(m===void 0?DT(u,l,kT|LT,i,d):m))return!1}}return!0}var OT=ET,RT=Oe;function CT(e){return e===e&&!RT(e)}var Du=CT,UT=Du,FT=nn;function ST(e){for(var t=FT(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,UT(r)]}return t}var NT=ST;function BT(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var ku=BT,jT=OT,VT=NT,GT=ku;function HT(e){var t=VT(e);return t.length==1&&t[0][2]?GT(t[0][0],t[0][1]):function(n){return n===e||jT(n,e,t)}}var qT=HT,WT=rt,zT=De,KT="[object Symbol]";function YT(e){return typeof e=="symbol"||zT(e)&&WT(e)==KT}var jr=YT,XT=ge,QT=jr,ZT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JT=/^\w*$/;function eM(e,t){if(XT(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||QT(e)?!0:JT.test(e)||!ZT.test(e)||t!=null&&e in Object(t)}var Vr=eM,Lu=Pr,tM="Expected a function";function Gr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tM);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,i);return n.cache=a.set(r,s)||a,s};return n.cache=new(Gr.Cache||Lu),n}Gr.Cache=Lu;var nM=Gr,iM=nM,rM=500;function aM(e){var t=iM(e,function(i){return n.size===rM&&n.clear(),i}),n=t.cache;return t}var sM=aM,oM=sM,cM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lM=/\\(\\)?/g,uM=oM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cM,function(n,i,r,a){t.push(r?a.replace(lM,"$1"):i||n)}),t}),dM=uM;function fM(e,t){for(var n=-1,i=e==null?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var fi=fM,Eu=it,hM=fi,mM=ge,pM=jr,gM=1/0,Ou=Eu?Eu.prototype:void 0,Ru=Ou?Ou.toString:void 0;function Cu(e){if(typeof e=="string")return e;if(mM(e))return hM(e,Cu)+"";if(pM(e))return Ru?Ru.call(e):"";var t=e+"";return t=="0"&&1/e==-gM?"-0":t}var vM=Cu,xM=vM;function bM(e){return e==null?"":xM(e)}var yM=bM,_M=ge,$M=Vr,IM=dM,wM=yM;function AM(e,t){return _M(e)?e:$M(e,t)?[e]:IM(wM(e))}var kt=AM,TM=jr,MM=1/0;function PM(e){if(typeof e=="string"||TM(e))return e;var t=e+"";return t=="0"&&1/e==-MM?"-0":t}var Lt=PM,DM=kt,kM=Lt;function LM(e,t){t=DM(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[kM(t[n++])];return n&&n==i?e:void 0}var hi=LM,EM=hi;function OM(e,t,n){var i=e==null?void 0:EM(e,t);return i===void 0?n:i}var RM=OM;function CM(e,t){return e!=null&&t in Object(e)}var UM=CM,FM=kt,SM=cn,NM=ge,BM=ai,jM=Pi,VM=Lt;function GM(e,t,n){t=FM(t,e);for(var i=-1,r=t.length,a=!1;++i<r;){var s=VM(t[i]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++i!=r?a:(r=e==null?0:e.length,!!r&&jM(r)&&BM(s,r)&&(NM(e)||SM(e)))}var HM=GM,qM=UM,WM=HM;function zM(e,t){return e!=null&&WM(e,t,qM)}var KM=zM,YM=Br,XM=RM,QM=KM,ZM=Vr,JM=Du,eP=ku,tP=Lt,nP=1,iP=2;function rP(e,t){return ZM(e)&&JM(t)?eP(tP(e),t):function(n){var i=XM(n,e);return i===void 0&&i===t?QM(n,e):YM(t,i,nP|iP)}}var aP=rP;function sP(e){return function(t){return t==null?void 0:t[e]}}var oP=sP,cP=hi;function lP(e){return function(t){return cP(t,e)}}var uP=lP,dP=oP,fP=uP,hP=Vr,mP=Lt;function pP(e){return hP(e)?dP(mP(e)):fP(e)}var gP=pP,vP=qT,xP=aP,bP=Fr,yP=ge,_P=gP;function $P(e){return typeof e=="function"?e:e==null?bP:typeof e=="object"?yP(e)?xP(e[0],e[1]):vP(e):_P(e)}var Hr=$P,IP=cT,wP=MT,AP=Hr,TP=ge;function MP(e,t){return function(n,i){var r=TP(n)?IP:wP,a=t?t():{};return r(n,e,AP(i),a)}}var PP=MP,DP=kr,kP=PP,LP=kP(function(e,t,n){DP(e,n,t)}),EP=LP;const OP=re(EP);function RP(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var CP=RP;function UP(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}var FP=UP,SP=hi,NP=FP;function BP(e,t){return t.length<2?e:SP(e,NP(t,0,-1))}var jP=BP,VP=kt,GP=CP,HP=jP,qP=Lt;function WP(e,t){return t=VP(t,e),e=HP(e,t),e==null||delete e[qP(GP(t))]}var zP=WP,KP=rt,YP=Rr,XP=De,QP="[object Object]",ZP=Function.prototype,JP=Object.prototype,Uu=ZP.toString,eD=JP.hasOwnProperty,tD=Uu.call(Object);function nD(e){if(!XP(e)||KP(e)!=QP)return!1;var t=YP(e);if(t===null)return!0;var n=eD.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Uu.call(n)==tD}var iD=nD,rD=iD;function aD(e){return rD(e)?void 0:e}var sD=aD,Fu=it,oD=cn,cD=ge,Su=Fu?Fu.isConcatSpreadable:void 0;function lD(e){return cD(e)||oD(e)||!!(Su&&e&&e[Su])}var uD=lD,dD=Or,fD=uD;function Nu(e,t,n,i,r){var a=-1,s=e.length;for(n||(n=fD),r||(r=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?Nu(o,t-1,n,i,r):dD(r,o):i||(r[r.length]=o)}return r}var Bu=Nu,hD=Bu;function mD(e){var t=e==null?0:e.length;return t?hD(e,1):[]}var pD=mD,gD=pD,vD=cu,xD=uu;function bD(e){return xD(vD(e,void 0,gD),e+"")}var yD=bD,_D=fi,$D=su,ID=zP,wD=kt,AD=tn,TD=sD,MD=yD,PD=Cr,DD=1,kD=2,LD=4,ED=MD(function(e,t){var n={};if(e==null)return n;var i=!1;t=_D(t,function(a){return a=wD(a,e),i||(i=a.length>1),a}),AD(e,PD(e),n),i&&(n=$D(n,DD|kD|LD,TD));for(var r=t.length;r--;)ID(n,t[r]);return n}),OD=ED;const ju=re(OD);var RD="Expected a function";function CD(e){if(typeof e!="function")throw new TypeError(RD);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var UD=CD,FD=Lr,SD=kt,ND=ai,Vu=Oe,BD=Lt;function jD(e,t,n,i){if(!Vu(e))return e;t=SD(t,e);for(var r=-1,a=t.length,s=a-1,o=e;o!=null&&++r<a;){var c=BD(t[r]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(r!=s){var u=o[c];l=i?i(u,c,o):void 0,l===void 0&&(l=Vu(u)?u:ND(t[r+1])?[]:{})}FD(o,c,l),o=o[c]}return e}var VD=jD,GD=hi,HD=VD,qD=kt;function WD(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var s=t[i],o=GD(e,s);n(o,s)&&HD(a,qD(s,e),o)}return a}var zD=WD,KD=fi,YD=Hr,XD=zD,QD=Cr;function ZD(e,t){if(e==null)return{};var n=KD(QD(e),function(i){return[i]});return t=YD(t),XD(e,n,function(i,r){return t(i,r[0])})}var JD=ZD,ek=Hr,tk=UD,nk=JD;function ik(e,t){return nk(e,tk(ek(t)))}var rk=ik;const mi=re(rk);class ak{constructor(t){M(this,"value");M(this,"next");this.value=t}}class sk{constructor(){pe(this,ye);pe(this,Xe);pe(this,Qe);this.clear()}enqueue(t){const n=new ak(t);j(this,ye)?(j(this,Xe).next=n,se(this,Xe,n)):(se(this,ye,n),se(this,Xe,n)),Xr(this,Qe)._++}dequeue(){const t=j(this,ye);if(t)return se(this,ye,j(this,ye).next),Xr(this,Qe)._--,t.value}peek(){if(j(this,ye))return j(this,ye).value}clear(){se(this,ye,void 0),se(this,Xe,void 0),se(this,Qe,0)}get size(){return j(this,Qe)}*[Symbol.iterator](){let t=j(this,ye);for(;t;)yield t.value,t=t.next}}ye=new WeakMap,Xe=new WeakMap,Qe=new WeakMap;function ok(e){Gu(e);const t=new sk;let n=0;const i=()=>{n<e&&t.size>0&&(t.dequeue()(),n++)},r=()=>{n--,i()},a=async(c,l,u)=>{const d=(async()=>c(...u))();l(d);try{await d}catch{}r()},s=(c,l,u)=>{new Promise(d=>{t.enqueue(d)}).then(a.bind(void 0,c,l,u)),(async()=>(await Promise.resolve(),n<e&&i()))()},o=(c,...l)=>new Promise(u=>{s(c,u,l)});return Object.defineProperties(o,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}},concurrency:{get:()=>e,set(c){Gu(c),e=c,queueMicrotask(()=>{for(;n<e&&t.size>0;)i()})}}}),o}function Gu(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}class ck extends or{constructor(n,i){super();M(this,"log",rn.extend("PresenceManager"));M(this,"oldSettingsKey","");M(this,"oldSettings",{});M(this,"getSettingLimit",ok(1));this.languageManager=n,this.storageManager=i,this.storageManager.on("presenceSettingUpdate",async()=>{this.oldSettings={},this.oldSettingsKey=""})}async init(){await this.updatePresence();const n=await Ge.getValue();n&&await this.verifySettingsIntegrity(...n),n===null&&await this.add(...yi)}async verifySettingsIntegrity(...n){const i=Object.values(await this.getLocalMetadata(...n)).filter(s=>s.settings);await this.languageManager.fetchPresenceAvailableLanguages(...i.filter(s=>{var o;return!!((o=s.settings)!=null&&o.some(c=>c.multiLanguage))}).map(s=>s.service));const r=[],a=await this.storageManager.get("local",...i.map(s=>`${s.service}_settings`));for(const s of i){let o=a[`${s.service}_settings`];const c=xw(o);o=tA(o,OP(s.settings,l=>l.id));for(const[l,u]of Object.entries(o)){if(l==="lang"){o[l]=await this.initMultiLanguage(u,s.service);continue}const d=ju(u,"value","hidden");if(s.settings&&!Pu(d,ju(s.settings.find(m=>m.id===l),"value","hidden"))){const m=s.settings.find(p=>p.id===l);if(!m)continue;o[l]=m,this.log(`Updated outdated setting ${l} for presence ${s.service}`)}}for(const l of Object.keys(o))s.settings&&(s.settings.some(u=>u.id===l)||(delete o[l],this.log(`Removed old setting ${l} for presence ${s.service}`)));Pu(o,c)||(await this.storageManager.set("local",{[`${s.service}_settings`]:o}),r.push(s.service))}this.log("Saved settings for %o",r)}async getLocalMetadata(...n){return(await Promise.all(n.map(async r=>await fetch(w.runtime.getURL(`/presences/${r}/metadata.json`)).then(a=>a.json()).catch(()=>{this.log("Failed to fetch metadata for %s",r)})))).filter(r=>r!==void 0)}async add(...n){const i=await Ge.getValue(),r=await Ve.getValue();let a=await this.getLocalMetadata(...n);a=a.map(c=>(c=mi(c,di),c.settings&&(c.settings=c.settings.map(l=>(l=mi(l,di),l.if&&(l.if=mi(l.if,di),Object.keys(l.if).length===0&&delete l.if),l))),c=mi(c,di),c));const s=n.filter(c=>!a.some(l=>l.service===c));s.length>0&&this.log("Not found Presences: %o",s);const o=[...r||[],...a.filter(c=>!(i!=null&&i.includes(c.service))).map(c=>c.service)];this.storageManager.set("local",Object.assign({addedPresences:[...new Set([...i||[],...a.map(c=>c.service)])],enabledPresences:o},...a.map(c=>({[`presence_${c.service}`]:{...c},[`${c.service}_changedLanguage`]:!1})))),await this.verifySettingsIntegrity(...a.map(c=>c.service))}async remove(n){const i=await this.storageManager.get("local",`presence_${n}`);let r=await Ve.getValue(),a=await Ge.getValue();if(!a)return;a=a.filter(o=>o!==n),r=r==null?void 0:r.filter(o=>o!==n),await Ve.setValue(r),await Ge.setValue(a),await e0(n);const s=i[`presence_${n}`];s&&this.emit("remove",s)}async setEnabled(n,i){const r=await Ve.getValue(),a=await Ge.getValue();let s=r;if(!(a!=null&&a.includes(n)))return this.log("Presence not added");s||(s=[]),i?s.includes(n)||s.push(n):s=s.filter(o=>o!==n),await Ve.setValue(s)}async updatePresence(...n){this.log("Checking for updates...");const i=await this.get(...n);if(i.length===0||Date.now()>0)return this.log("No presences to update");const r=await this.getLocalMetadata(...n),a=i.filter(s=>{var c;const o=(c=r==null?void 0:r.find(l=>l.service===s.service))==null?void 0:c.version;return An.valid(o)&&An.valid(s.version)?An.gt(o||"",s.version):!0});if(a.length===0)return this.log("No presences to update");await this.add(...a.map(s=>s.service)),this.log("Updated: %o",a.map(s=>s.service))}async get(...n){const i=await Ge.getValue(),r=await this.storageManager.get("local",...(n.length>0?n:i||[]).map(o=>`presence_${o}`)),a=Object.values(r),s=await Ve.getValue();return a.map(o=>({...o,enabled:s.includes(o.service)}))}async getFullSettingsObject(n){const i=await this.storageManager.get("local",`${n}_settings`);return i==null?void 0:i[`${n}_settings`]}async getSettingObject(n,i){var a;const r=await this.storageManager.get("local",`${n}_settings`);return(a=r==null?void 0:r[`${n}_settings`])==null?void 0:a[i]}async hideSetting(n,i){const r=await this.storageManager.get("local",`${n}_settings`),a=r==null?void 0:r[`${n}_settings`];if(a){if(Array.isArray(i))for(const s of i){const o=a[s];o&&(o.hidden=!0)}else{const s=a[i];s&&(s.hidden=!0)}await this.storageManager.set("local",{[`${n}_settings`]:a})}}async showSetting(n,i){const r=await this.storageManager.get("local",`${n}_settings`),a=r==null?void 0:r[`${n}_settings`];if(a){if(Array.isArray(i))for(const s of i){const o=a[s];o&&(o.hidden=!1)}else{const s=a[i];s&&delete s.hidden}await this.storageManager.set("local",{[`${n}_settings`]:a})}}async getSetting(n,i){return this.getSettingLimit(async()=>{var r,a;if(this.oldSettingsKey!==n){const s=await this.storageManager.get("local",`${n}_settings`);this.oldSettings=(s==null?void 0:s[`${n}_settings`])||{}}return this.oldSettingsKey=n,(a=(r=this.oldSettings)==null?void 0:r[i])==null?void 0:a.value})}async setSetting(n,i,r){const a=await this.storageManager.get("local",`${n}_settings`),s=a==null?void 0:a[`${n}_settings`];if(s){if(s[i]===void 0)throw new Error("Setting not found");return s[i].value=r,await this.storageManager.set("local",{[`${n}_settings`]:s}),i==="lang"&&await this.languageManager.fetchPresenceStrings(n),r}}async initMultiLanguage(n,i){await this.languageManager.fetchPresenceStrings(i);const r=await this.storageManager.get("local",`${i}_availableLanguages`,`${i}_changedLanguage`),a=((r==null?void 0:r[`${i}_availableLanguages`])||[Kt]).map(l=>({title:l.nativeName,value:l.lang})),s=await le.getValue();let o=Kt.lang;n.value&&a.map(l=>l.value).includes(n.value)&&(r!=null&&r[`${i}_changedLanguage`])?{value:o}=n:s!=null&&s.presencesLanguage&&a.map(l=>l.value).includes(s.presencesLanguage)&&(o=s.presencesLanguage);const c=await this.languageManager.getStrings({language:"general.language"});return n.title=c.language,n.icon="fad fa-language",n.values=a,n.value=o,n}async setPresencesLanguage(n){const i=await Ge.getValue();i&&await Promise.all(i.map(async r=>{const a=await this.storageManager.get("local",`${r}_settings`,`${r}_changedLanguage`,`${r}_availableLanguages`),s=a==null?void 0:a[`${r}_settings`],o=a==null?void 0:a[`${r}_availableLanguages`];if(!s||!o||a!=null&&a[`${r}_changedLanguage`])return;let c=Kt.lang;o.map(l=>l.lang).includes(n)&&(c=n),await Promise.all(Object.entries(s).map(async([l,u])=>{u.id!=="lang"||!u.multiLanguage||u.value===c||await this.setSetting(r,l,c)}))}))}}function lk(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}var uk=lk;function dk(e){return e!==e}var fk=dk;function hk(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}var mk=hk,pk=uk,gk=fk,vk=mk;function xk(e,t,n){return t===t?vk(e,t,n):pk(e,gk,n)}var bk=xk,yk=bk;function _k(e,t){var n=e==null?0:e.length;return!!n&&yk(e,t,0)>-1}var $k=_k;function Ik(e,t,n){for(var i=-1,r=e==null?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}var wk=Ik,Ak=hu,Tk=$k,Mk=wk,Pk=fi,Dk=dn,kk=mu,Lk=200;function Ek(e,t,n,i){var r=-1,a=Tk,s=!0,o=e.length,c=[],l=t.length;if(!o)return c;n&&(t=Pk(t,Dk(n))),i?(a=Mk,s=!1):t.length>=Lk&&(a=kk,s=!1,t=new Ak(t));e:for(;++r<o;){var u=e[r],d=n==null?u:n(u);if(u=i||u!==0?u:0,s&&d===d){for(var m=l;m--;)if(t[m]===d)continue e;c.push(u)}else a(t,d,i)||c.push(u)}return c}var Ok=Ek,Rk=st,Ck=De;function Uk(e){return Ck(e)&&Rk(e)}var Fk=Uk,Sk=Ok,Nk=Bu,Bk=du,Hu=Fk,jk=Bk(function(e,t){return Hu(e)?Sk(e,Nk(t,1,Hu,!0)):[]}),Vk=jk;const qr=re(Vk);class Gk extends or{constructor(){super();M(this,"log",rn.extend("StorageManager"));M(this,"logGet",this.log.extend("get"));M(this,"logSet",this.log.extend("set"));Ve.watch((n,i)=>{if(i===void 0)return;const r=qr(i,n)[0]||qr(n,i)[0],a=qr(i,n).length===0;this.emit("presenceEnableDisable",r,a)}),w.storage.onChanged.addListener(n=>{var r;const i=Object.keys(n)[0];i!=null&&i.endsWith("_settings")&&this.emit("presenceSettingUpdate",i.split("_")[0],(r=n[i])==null?void 0:r.newValue)})}async get(n,...i){return this.logGet("%s %s",n,i),await w.storage[n].get(i)}async set(n,i){return this.logSet("%s %O",n,i),w.storage[n].set(i)}}const rn=Ia("PreMiD");Ia.enable("PreMiD*");class Hk{constructor(t,n){M(this,"storageManager",new Gk);M(this,"languageManager",new _g(this));M(this,"presenceManager",new ck(this.languageManager,this.storageManager));M(this,"tabPriority");M(this,"oAuthManager",new Mb(this));M(this,"installedDetails");var i;this.websocketManager=t,this.sessionKeepAlive=n,(i=w==null?void 0:w.runtime)!=null&&i.onInstalled&&w.runtime.onInstalled.addListener(r=>{this.installedDetails=r}),this.init()}async initBackground(t){await tt()&&(await n0(this),le.watch(Ri),await this.languageManager.initialized,this.tabPriority=t,this.presenceManager.init())}async init(){var r;const{name:t,version:n,version_name:i}=w.runtime.getManifest();if(await this.languageManager.initialized,await tt()){switch((r=this.installedDetails)==null?void 0:r.reason){case"install":w.tabs.create({active:!0,url:w.runtime.getURL("/installed.html")}),await Oi.setValue(n);break;case"update":{const a=await Oi.getValue();if(a&&(!An.gt(n,a)||et===n))break;w.tabs.create({url:w.runtime.getURL("/updated.html")}),await Oi.setValue(n);break}}console.log(`%c${t}%c v${i||n}
%cUse %cpmd%c to access PreMiD.

%cAnalytics Id: %c${await t0()}

%cMade with %c❤️%c by Recodive`,"color: #7289da; font-size: 2rem; font-weight: bold;","color: unset","color: #7289da; font-size: 1rem;","color: #7289da; font-size: 1rem; font-weight: bold;","color: #7289da; font-size: 1rem;","color: unset; font-size: 1rem;","color: gray;","color: unset; font-size: 1rem;","color: red; font-size: 1rem;","color: unset; font-size: 1rem;"),Ri()}}async reset(){await Promise.allSettled([w.storage.local.clear(),w.storage.sync.clear()]),w.runtime.reload()}reload(){w.runtime.reload()}formatDiscordUser(t){return t?t.discriminator==="0"&&"global_name"in t?`${t.global_name} (@${t.username})`:`${t.username}#${t.discriminator}`:""}}const qk={main(){const e=new Hk;setInterval(()=>{var n;document.querySelector("#app")&&((n=document.querySelector("#app"))==null||n.setAttribute("extension-ready","true"))},500),window.addEventListener("PreMiD_AddPresence",async n=>{await e.presenceManager.add(n.detail)}),window.addEventListener("PreMiD_RemovePresence",async n=>{await e.presenceManager.remove(n.detail)}),window.addEventListener("PreMiD_GetPresenceList",t),w.storage.local.onChanged.addListener(n=>{Object.keys(n).some(r=>r.startsWith("presence_"))&&t()});async function t(){const n=await e.presenceManager.get();window.dispatchEvent(new CustomEvent("PreMiD_GetWebisteFallback",{detail:n.map(i=>i.service)}))}},matches:["https://premid.app/*","https://beta.premid.app/*"],runAt:"document_start"},Wk={BASE_URL:"/",BROWSER:"chrome",CHROME:!0,COMMAND:"build",DEV:!1,EDGE:!1,ENTRYPOINT:"premid",FIREFOX:!1,MANIFEST_VERSION:3,MODE:"production",OPERA:!1,PROD:!0,SAFARI:!1,SSR:!1,VITE_CJS_IGNORE_WARNING:"true"},gi=class gi extends Event{constructor(t,n){super(gi.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=n}};M(gi,"EVENT_NAME",qu("wxt:locationchange"));let Wr=gi;function qu(e){var n;const t=typeof Wk>"u"?"build":"premid";return`${(n=w==null?void 0:w.runtime)==null?void 0:n.id}:${t}:${e}`}function zk(e){let t,n;return{run(){t==null&&(n=new URL(location.href),t=e.setInterval(()=>{let i=new URL(location.href);i.href!==n.href&&(window.dispatchEvent(new Wr(i,n)),n=i)},1e3))}}}const an=class an{constructor(t,n){pe(this,Ze);pe(this,vi,window.self===window.top);pe(this,Ft);pe(this,xi,zk(this));this.contentScriptName=t,this.options=n,se(this,Ft,new AbortController),j(this,vi)?(bi(this,Ze,Qr).call(this,{ignoreFirstEvent:!0}),bi(this,Ze,Xu).call(this)):bi(this,Ze,Qr).call(this)}get signal(){return j(this,Ft).signal}abort(t){return j(this,Ft).abort(t)}get isInvalid(){return w.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,n){const i=setInterval(()=>{this.isValid&&t()},n);return this.onInvalidated(()=>clearInterval(i)),i}setTimeout(t,n){const i=setTimeout(()=>{this.isValid&&t()},n);return this.onInvalidated(()=>clearTimeout(i)),i}requestAnimationFrame(t){const n=requestAnimationFrame((...i)=>{this.isValid&&t(...i)});return this.onInvalidated(()=>cancelAnimationFrame(n)),n}requestIdleCallback(t,n){const i=requestIdleCallback((...r)=>{this.signal.aborted||t(...r)},n);return this.onInvalidated(()=>cancelIdleCallback(i)),i}addEventListener(t,n,i,r){var a;n==="wxt:locationchange"&&this.isValid&&j(this,xi).run(),(a=t.addEventListener)==null||a.call(t,n.startsWith("wxt:")?qu(n):n,i,{...r,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),mn.debug(`Content script "${this.contentScriptName}" context invalidated`)}};vi=new WeakMap,Ft=new WeakMap,xi=new WeakMap,Ze=new WeakSet,Xu=function(){window.postMessage({type:an.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")},Qr=function(t){let n=!0;const i=r=>{var a,s;if(((a=r.data)==null?void 0:a.type)===an.SCRIPT_STARTED_MESSAGE_TYPE&&((s=r.data)==null?void 0:s.contentScriptName)===this.contentScriptName){const o=n;if(n=!1,o&&(t!=null&&t.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",i),this.onInvalidated(()=>removeEventListener("message",i))},M(an,"SCRIPT_STARTED_MESSAGE_TYPE","wxt:content-script-started");let zr=an;function iE(){}function pi(e,...t){}const Kk={debug:(...e)=>pi(console.debug,...e),log:(...e)=>pi(console.log,...e),warn:(...e)=>pi(console.warn,...e),error:(...e)=>pi(console.error,...e)};return(async()=>{try{const{main:e,...t}=qk,n=new zr("premid",t);return await e(n)}catch(e){throw Kk.error('The content script "premid" crashed on startup!',e),e}})()}();
premid;
//# sourceMappingURL=premid.js.map
