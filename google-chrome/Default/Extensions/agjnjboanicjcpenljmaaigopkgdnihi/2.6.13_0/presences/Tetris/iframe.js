var __webpack_exports__={};function iframeInject(){let e={};function t(n,r=new Set){for(const c in n)if(Object.hasOwnProperty.call(n,c)){if(r.has(n[c]))continue;r.add(n[c]),new Set(["mLinesValueView","mScoreValueView","mLevelValueView"]).has(c)&&(e[c]=n[c]),n[c]&&"object"==typeof n[c]&&t(n[c],r)}}let n=!1;setInterval((()=>{const r=window.mBPSApp.mSceneMgr.getCurrentScene().mSceneName;n||"game"!==r?"mainMenu"!==r&&"gameOver"!==r||(n=!1):(e={},t(window.mBPSApp),3===Object.keys(e).length&&(n=!0));try{document.querySelector("#PreMiD-tetris-presence-output").value=JSON.stringify({lines:e.mLinesValueView.mText,score:e.mScoreValueView.mText,level:e.mLevelValueView.mText})}catch(e){}}),2e3)}const template=document.createElement("template"),script=document.createElement("script"),output=document.createElement("textarea");output.id="PreMiD-tetris-presence-output",output.style.display="none",script.id="PreMiD-tetris-presence-script",script.textContent=`{(${iframeInject.toString()})();}`,template.append(script,output),document.head.append(template.cloneNode(!0));const iframe=new iFrame;iframe.on("UpdateData",(()=>{try{const e=JSON.parse(document.querySelector("#PreMiD-tetris-presence-output").value);iframe.send(e)}catch{}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWZyYW1lLmpzIiwibWFwcGluZ3MiOiIyQkFBQSxTQUFTQSxlQUNMLElBQUlDLEVBQVMsQ0FBQyxFQUNkLFNBQVNDLEVBQWdCQyxFQUFLQyxFQUFjLElBQUlDLEtBQzVDLElBQUssTUFBTUMsS0FBT0gsRUFDZCxHQUFJSSxPQUFPQyxlQUFlQyxLQUFLTixFQUFLRyxHQUFNLENBQ3RDLEdBQUlGLEVBQVlNLElBQUlQLEVBQUlHLElBQ3BCLFNBQ0pGLEVBQVlPLElBQUlSLEVBQUlHLElBQ2hCLElBQUlELElBQUksQ0FDUixrQkFDQSxrQkFDQSxvQkFDREssSUFBSUosS0FDSEwsRUFBT0ssR0FBT0gsRUFBSUcsSUFDbEJILEVBQUlHLElBQTRCLGlCQUFiSCxFQUFJRyxJQUN2QkosRUFBZ0JDLEVBQUlHLEdBQU1GLEVBQ2xDLENBRVIsQ0FDQSxJQUFJUSxHQUFRLEVBQ1pDLGFBQVksS0FDUixNQUFNQyxFQUFlQyxPQUFPQyxRQUFRQyxVQUFVQyxrQkFBa0JDLFdBQzNEUCxHQUEwQixTQUFqQkUsRUFNWSxhQUFqQkEsR0FBZ0QsYUFBakJBLElBQ3BDRixHQUFRLElBTlJYLEVBQVMsQ0FBQyxFQUNWQyxFQUFnQmEsT0FBT0MsU0FDWSxJQUEvQlQsT0FBT2EsS0FBS25CLEdBQVFvQixTQUNwQlQsR0FBUSxJQUloQixJQUNJVSxTQUFTQyxjQUFjLGtDQUFrQ0MsTUFBUUMsS0FBS0MsVUFBVSxDQUM1RUMsTUFBTzFCLEVBQU8yQixnQkFBZ0JDLE1BQzlCQyxNQUFPN0IsRUFBTzhCLGdCQUFnQkYsTUFDOUJHLE1BQU8vQixFQUFPZ0MsZ0JBQWdCSixPQUl0QyxDQURBLE1BQU9LLEdBQ1AsSUFDRCxJQUNQLENBQ0EsTUFBTUMsU0FBV2IsU0FBU2MsY0FBYyxZQUFhQyxPQUFTZixTQUFTYyxjQUFjLFVBQVdFLE9BQVNoQixTQUFTYyxjQUFjLFlBQ2hJRSxPQUFPQyxHQUFLLGdDQUNaRCxPQUFPRSxNQUFNQyxRQUFVLE9BQ3ZCSixPQUFPRSxHQUFLLGdDQUNaRixPQUFPSyxZQUFjLEtBQUsxQyxhQUFhMkMsa0JBQ3ZDUixTQUFTUyxPQUFPUCxPQUFRQyxRQUN4QmhCLFNBQVN1QixLQUFLRCxPQUFPVCxTQUFTVyxXQUFVLElBQ3hDLE1BQU1DLE9BQVMsSUFBSUMsT0FDbkJELE9BQU9FLEdBQUcsY0FBYyxLQUNwQixJQUNJLE1BQU1DLEVBQU96QixLQUFLMEIsTUFBTTdCLFNBQVNDLGNBQWMsa0NBQWtDQyxPQUNqRnVCLE9BQU9LLEtBQUtGLEVBR2hCLENBREEsTUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2lmcmFtZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpZnJhbWVJbmplY3QoKSB7XG4gICAgbGV0IHZhbHVlcyA9IHt9O1xuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZVNlYXJjaChvYmosIHNlZW5BbHJlYWR5ID0gbmV3IFNldCgpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWVuQWxyZWFkeS5oYXMob2JqW2tleV0pKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBzZWVuQWxyZWFkeS5hZGQob2JqW2tleV0pO1xuICAgICAgICAgICAgICAgIGlmIChuZXcgU2V0KFtcbiAgICAgICAgICAgICAgICAgICAgXCJtTGluZXNWYWx1ZVZpZXdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJtU2NvcmVWYWx1ZVZpZXdcIixcbiAgICAgICAgICAgICAgICAgICAgXCJtTGV2ZWxWYWx1ZVZpZXdcIixcbiAgICAgICAgICAgICAgICBdKS5oYXMoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2tleV0gJiYgdHlwZW9mIG9ialtrZXldID09PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVTZWFyY2gob2JqW2tleV0sIHNlZW5BbHJlYWR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTY2VuZSA9IHdpbmRvdy5tQlBTQXBwLm1TY2VuZU1nci5nZXRDdXJyZW50U2NlbmUoKS5tU2NlbmVOYW1lO1xuICAgICAgICBpZiAoIWZvdW5kICYmIGN1cnJlbnRTY2VuZSA9PT0gXCJnYW1lXCIpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgcmVjdXJzaXZlU2VhcmNoKHdpbmRvdy5tQlBTQXBwKTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZXMpLmxlbmd0aCA9PT0gMylcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFNjZW5lID09PSBcIm1haW5NZW51XCIgfHwgY3VycmVudFNjZW5lID09PSBcImdhbWVPdmVyXCIpXG4gICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNQcmVNaUQtdGV0cmlzLXByZXNlbmNlLW91dHB1dFwiKS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBsaW5lczogdmFsdWVzLm1MaW5lc1ZhbHVlVmlldy5tVGV4dCxcbiAgICAgICAgICAgICAgICBzY29yZTogdmFsdWVzLm1TY29yZVZhbHVlVmlldy5tVGV4dCxcbiAgICAgICAgICAgICAgICBsZXZlbDogdmFsdWVzLm1MZXZlbFZhbHVlVmlldy5tVGV4dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICB9LCAyMDAwKTtcbn1cbmNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpLCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLCBvdXRwdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG5vdXRwdXQuaWQgPSBcIlByZU1pRC10ZXRyaXMtcHJlc2VuY2Utb3V0cHV0XCI7XG5vdXRwdXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuc2NyaXB0LmlkID0gXCJQcmVNaUQtdGV0cmlzLXByZXNlbmNlLXNjcmlwdFwiO1xuc2NyaXB0LnRleHRDb250ZW50ID0gYHsoJHtpZnJhbWVJbmplY3QudG9TdHJpbmcoKX0pKCk7fWA7XG50ZW1wbGF0ZS5hcHBlbmQoc2NyaXB0LCBvdXRwdXQpO1xuZG9jdW1lbnQuaGVhZC5hcHBlbmQodGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpKTtcbmNvbnN0IGlmcmFtZSA9IG5ldyBpRnJhbWUoKTtcbmlmcmFtZS5vbihcIlVwZGF0ZURhdGFcIiwgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjUHJlTWlELXRldHJpcy1wcmVzZW5jZS1vdXRwdXRcIikudmFsdWUpO1xuICAgICAgICBpZnJhbWUuc2VuZChkYXRhKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYVdaeVlXMWxMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaWFXWnlZVzFsTG5SeklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFVMUJMRk5CUVZNc1dVRkJXVHRKUVdGd1FpeEpRVUZKTEUxQlFVMHNSMEZMVGl4RlFVRkZMRU5CUVVNN1NVRkZVQ3hUUVVGVExHVkJRV1VzUTBGRGRrSXNSMEZCTkVJc1JVRkROVUlzVjBGQlZ5eEhRVUZITEVsQlFVa3NSMEZCUnl4RlFVRkZPMUZCUlhaQ0xFdEJRVXNzVFVGQlRTeEhRVUZITEVsQlFVa3NSMEZCUnl4RlFVRkZPMWxCUTNSQ0xFbEJRVWtzVFVGQlRTeERRVUZETEdOQlFXTXNRMEZCUXl4SlFVRkpMRU5CUVVNc1IwRkJSeXhGUVVGRkxFZEJRVWNzUTBGQlF5eEZRVUZGTzJkQ1FVTjZReXhKUVVGSkxGZEJRVmNzUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRE8yOUNRVUZGTEZOQlFWTTdaMEpCUTNoRExGZEJRVmNzUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU03WjBKQlF6RkNMRWxCUTBNc1NVRkJTU3hIUVVGSExFTkJRVU03YjBKQlExQXNhVUpCUVdsQ08yOUNRVU5xUWl4cFFrRkJhVUk3YjBKQlEycENMR2xDUVVGcFFqdHBRa0ZEYWtJc1EwRkJReXhEUVVGRExFZEJRVWNzUTBGQlF5eEhRVUZITEVOQlFVTTdiMEpCUlZnc1RVRkJUU3hEUVVGRExFZEJRVWNzUTBGQlF5eEhRVUZITEVkQlFVY3NRMEZCUXl4SFFVRkhMRU5CUVhOQ0xFTkJRVU03WjBKQlJUZERMRWxCUVVrc1IwRkJSeXhEUVVGRExFZEJRVWNzUTBGQlF5eEpRVUZKTEU5QlFVOHNSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhMUVVGTExGRkJRVkU3YjBKQlF6TkRMR1ZCUVdVc1EwRkJReXhIUVVGSExFTkJRVU1zUjBGQlJ5eERRVUUwUWl4RlFVRkZMRmRCUVZjc1EwRkJReXhEUVVGRE8yRkJRMjVGTzFOQlEwUTdTVUZEUml4RFFVRkRPMGxCUlVRc1NVRkJTU3hMUVVGTExFZEJRVWNzUzBGQlN5eERRVUZETzBsQlEyeENMRmRCUVZjc1EwRkJReXhIUVVGSExFVkJRVVU3VVVGRGFFSXNUVUZCVFN4WlFVRlpMRWRCUTJwQ0xFMUJRMEVzUTBGQlF5eFBRVUZQTEVOQlFVTXNVMEZCVXl4RFFVRkRMR1ZCUVdVc1JVRkJSU3hEUVVGRExGVkJRVlVzUTBGQlF6dFJRVU5xUkN4SlFVRkpMRU5CUVVNc1MwRkJTeXhKUVVGSkxGbEJRVmtzUzBGQlN5eE5RVUZOTEVWQlFVVTdXVUZEZEVNc1RVRkJUU3hIUVVGSExFVkJRVVVzUTBGQlF6dFpRVU5hTEdWQlFXVXNRMEZCUlN4TlFVRTBRaXhEUVVGRExFOUJRVThzUTBGQlF5eERRVUZETzFsQlEzWkVMRWxCUVVrc1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNRMEZCUXl4TlFVRk5MRXRCUVVzc1EwRkJRenRuUWtGQlJTeExRVUZMTEVkQlFVY3NTVUZCU1N4RFFVRkRPMU5CUTI1RU8yRkJRVTBzU1VGQlNTeFpRVUZaTEV0QlFVc3NWVUZCVlN4SlFVRkpMRmxCUVZrc1MwRkJTeXhWUVVGVk8xbEJRM0JGTEV0QlFVc3NSMEZCUnl4TFFVRkxMRU5CUVVNN1VVRkZaaXhKUVVGSk8xbEJRMGdzVVVGQlVTeERRVUZETEdGQlFXRXNRMEZEY2tJc1owTkJRV2RETEVOQlEyaERMRU5CUVVNc1MwRkJTeXhIUVVGSExFbEJRVWtzUTBGQlF5eFRRVUZUTEVOQlFVTTdaMEpCUTNoQ0xFdEJRVXNzUlVGQlJTeE5RVUZOTEVOQlFVTXNaVUZCWlN4RFFVRkRMRXRCUVVzN1owSkJRMjVETEV0QlFVc3NSVUZCUlN4TlFVRk5MRU5CUVVNc1pVRkJaU3hEUVVGRExFdEJRVXM3WjBKQlEyNURMRXRCUVVzc1JVRkJSU3hOUVVGTkxFTkJRVU1zWlVGQlpTeERRVUZETEV0QlFVczdZVUZEYmtNc1EwRkJReXhEUVVGRE8xTkJRMGc3VVVGQlF5eFBRVUZQTEVOQlFVTXNSVUZCUlR0VFFVVllPMGxCUTBZc1EwRkJReXhGUVVGRkxFbEJRVWtzUTBGQlF5eERRVUZETzBGQlExWXNRMEZCUXp0QlFVVkVMRTFCUVUwc1VVRkJVU3hIUVVGSExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFVTXNWVUZCVlN4RFFVRkRMRVZCUTJ4RUxFMUJRVTBzUjBGQlJ5eFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRkRMRkZCUVZFc1EwRkJReXhGUVVONlF5eE5RVUZOTEVkQlFVY3NVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkJReXhWUVVGVkxFTkJRVU1zUTBGQlF6dEJRVVUzUXl4TlFVRk5MRU5CUVVNc1JVRkJSU3hIUVVGSExDdENRVUVyUWl4RFFVRkRPMEZCUXpWRExFMUJRVTBzUTBGQlF5eExRVUZMTEVOQlFVTXNUMEZCVHl4SFFVRkhMRTFCUVUwc1EwRkJRenRCUVVNNVFpeE5RVUZOTEVOQlFVTXNSVUZCUlN4SFFVRkhMQ3RDUVVFclFpeERRVUZETzBGQlF6VkRMRTFCUVUwc1EwRkJReXhYUVVGWExFZEJRVWNzUzBGQlN5eFpRVUZaTEVOQlFVTXNVVUZCVVN4RlFVRkZMRTlCUVU4c1EwRkJRenRCUVVONlJDeFJRVUZSTEVOQlFVTXNUVUZCVFN4RFFVRkRMRTFCUVUwc1JVRkJSU3hOUVVGTkxFTkJRVU1zUTBGQlF6dEJRVU5vUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFJRVUZSTEVOQlFVTXNVMEZCVXl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRExFTkJRVU03UVVGRkwwTXNUVUZCVFN4TlFVRk5MRWRCUVVjc1NVRkJTU3hOUVVGTkxFVkJRVVVzUTBGQlF6dEJRVVUxUWl4TlFVRk5MRU5CUVVNc1JVRkJSU3hEUVVGRExGbEJRVmtzUlVGQlJTeEhRVUZITEVWQlFVVTdTVUZETlVJc1NVRkJTVHRSUVVOSUxFMUJRVTBzU1VGQlNTeEhRVUZITEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUTNSQ0xGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlEzSkNMR2REUVVGblF5eERRVU5vUXl4RFFVRkRMRXRCUVVzc1EwRkRVQ3hEUVVGRE8xRkJRMFlzVFVGQlRTeERRVUZETEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRMUVVOc1FqdEpRVUZETEUxQlFVMDdTMEZGVUR0QlFVTkdMRU5CUVVNc1EwRkJReXhEUVVGREluMD0iXSwibmFtZXMiOlsiaWZyYW1lSW5qZWN0IiwidmFsdWVzIiwicmVjdXJzaXZlU2VhcmNoIiwib2JqIiwic2VlbkFscmVhZHkiLCJTZXQiLCJrZXkiLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJoYXMiLCJhZGQiLCJmb3VuZCIsInNldEludGVydmFsIiwiY3VycmVudFNjZW5lIiwid2luZG93IiwibUJQU0FwcCIsIm1TY2VuZU1nciIsImdldEN1cnJlbnRTY2VuZSIsIm1TY2VuZU5hbWUiLCJrZXlzIiwibGVuZ3RoIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwibGluZXMiLCJtTGluZXNWYWx1ZVZpZXciLCJtVGV4dCIsInNjb3JlIiwibVNjb3JlVmFsdWVWaWV3IiwibGV2ZWwiLCJtTGV2ZWxWYWx1ZVZpZXciLCJlIiwidGVtcGxhdGUiLCJjcmVhdGVFbGVtZW50Iiwic2NyaXB0Iiwib3V0cHV0IiwiaWQiLCJzdHlsZSIsImRpc3BsYXkiLCJ0ZXh0Q29udGVudCIsInRvU3RyaW5nIiwiYXBwZW5kIiwiaGVhZCIsImNsb25lTm9kZSIsImlmcmFtZSIsImlGcmFtZSIsIm9uIiwiZGF0YSIsInBhcnNlIiwic2VuZCJdLCJzb3VyY2VSb290IjoiIn0=
undefined;