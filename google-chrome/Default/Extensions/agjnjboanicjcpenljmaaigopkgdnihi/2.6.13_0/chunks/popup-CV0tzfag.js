import{r as M,d as H,a as ae,c as $,f as o,l as p,b as m,s as C,x as N,T as ie,F as Q,q as k,p as ee,g as be,y as Te,e as d,t as x,w as _e,_ as De,o as le,z as Oe,h as oe,A as ke,B as ue,C as Pe,D as je,E as V,u as fe,j as W,k as ze,G as We,m as qe,n as Ge}from"./__uno-i2UvGda1.js";import{i as Ye}from"./initSentry-BeWilyCh.js";import{b as Z,l as Je,n as Xe,q as Ke,u as se,x as Ze,B as Qe,C as et,D as tt,d as nt,F as at,h as it,o as he,G as ge,y as st,H as rt,I as Me}from"./_virtual_wxt-plugins-DckzYsD-.js";import{u as ye}from"./useDiscordUser-D-5zxTsQ.js";import{_ as ot}from"./_baseRandom-C4i3oSs_.js";import{o as lt}from"./index-COkz_t04.js";function Ue(){const e=M({appVersion:null,connected:!1,discordUser:null,enabled:!1,initialized:!1,presence:null,supported:null});async function n(){const t=await Je.getValue(),i=await Xe.getValue();e.value={appVersion:t,connected:i,discordUser:i?await Ke.getValue()??null:null,enabled:(await se.getValue()).enabled,initialized:!0,presence:await Ze.getValue(),supported:t===null?null:t>=Qe}}return n(),Z.storage.onChanged.addListener(t=>{!t.connected&&!t.appVersion&&!t.discordUser&&!t.settings&&!t.currentPresence||n()}),e}const ut=["textContent"],dt=["innerHTML"],ct=H({__name:"InformationIcon",setup(e){const n=M(!1),t=Ue(),{discordUser:i}=ye(),s=ae({extensionDisabled:"popup.info.extensionDisabled",extensionDisabledMessage:"popup.info.extensionDisabled.message",noInternet:"popup.info.noInternet",noInternetMessage:"popup.info.noInternet.message",notLinked:"popup.informationIcon.notLinked.heading",notLinkedMessage:"popup.informationIcon.notLinked.description"}),a=M(navigator.onLine),l=$(()=>{var r,g,b;return t.value.enabled?a.value?(b=s.value)==null?void 0:b.notLinked:(g=s.value)==null?void 0:g.noInternet:(r=s.value)==null?void 0:r.extensionDisabled}),u=$(()=>{var r,g,b;return t.value.enabled?a.value?(b=s.value)==null?void 0:b.notLinkedMessage:(g=s.value)==null?void 0:g.noInternetMessage:(r=s.value)==null?void 0:r.extensionDisabledMessage});return(r,g)=>o(t).initialized?(p(),m(Q,{key:0},[C(ie,{name:"pop"},{default:N(()=>[o(t).enabled===!1||o(t).supported===!1||!o(i)?(p(),m("span",{key:0,id:"info",class:ee({warning:!a.value||!o(t).enabled,error:!o(i)}),onMouseenter:g[0]||(g[0]=b=>n.value=!0),onMouseleave:g[1]||(g[1]=b=>n.value=!1)},"!",34)):k("",!0)]),_:1}),C(ie,{name:"slideDown"},{default:N(()=>[be(d("div",{id:"infoPopup",onMouseenter:g[2]||(g[2]=b=>n.value=!0),onMouseleave:g[3]||(g[3]=b=>n.value=!1)},[d("h1",{textContent:x(l.value)},null,8,ut),d("p",{innerHTML:u.value},null,8,dt)],544),[[Te,n.value]])]),_:1})],64)):k("",!0)}}),B=(e,n)=>{const t=e.__vccOpts||e;for(const[i,s]of n)t[i]=s;return t},ft=B(ct,[["__scopeId","data-v-e59bc3d8"]]);var pt=/\s/;function gt(e){for(var n=e.length;n--&&pt.test(e.charAt(n)););return n}var ht=gt,vt=ht,mt=/^\s+/;function bt(e){return e&&e.slice(0,vt(e)+1).replace(mt,"")}var _t=bt,yt=_t,Se=et,xt=tt,we=NaN,kt=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,St=/^0o[0-7]+$/i,wt=parseInt;function Ct(e){if(typeof e=="number")return e;if(xt(e))return we;if(Se(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Se(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=yt(e);var t=Mt.test(e);return t||St.test(e)?wt(e.slice(2),t?2:8):kt.test(e)?we:+e}var $t=Ct,At=$t,Ce=1/0,Vt=17976931348623157e292;function Ht(e){if(!e)return e===0?e:0;if(e=At(e),e===Ce||e===-Ce){var n=e<0?-1:1;return n*Vt}return e===e?e:0}var It=Ht,Lt=ot,Rt=at,$e=It,Tt=parseFloat,Pt=Math.min,Ut=Math.random;function Ft(e,n,t){if(t&&typeof t!="boolean"&&Rt(e,n,t)&&(n=t=void 0),t===void 0&&(typeof n=="boolean"?(t=n,n=void 0):typeof e=="boolean"&&(t=e,e=void 0)),e===void 0&&n===void 0?(e=0,n=1):(e=$e(e),n===void 0?(n=e,e=0):n=$e(n)),e>n){var i=e;e=n,n=i}if(t||e%1||n%1){var s=Ut();return Pt(e+s*(n-e+Tt("1e-"+((s+"").length-1))),n)}return Lt(e,n)}var Nt=Ft;const Bt=nt(Nt),Et={class:"mr-[5px] rounded-full h-[40px] w-[40px] overflow-hidden"},Dt=["src"],Ot=H({__name:"UserWrapper",setup(e){const{discordUser:n}=ye(),t=$(()=>{var s;const i="https://cdn.discordapp.com";return(s=n.value)!=null&&s.id?n.value.avatar?`${i}/avatars/${n.value.id}/${n.value.avatar}.${n.value.avatar.startsWith("a_")?"gif":"webp"}`:`${i}/embed/avatars/${Number.parseInt(n.value.discriminator||"")%5}.png`:`${i}/embed/avatars/${Bt(0,5)}.png`});return(i,s)=>(p(),m("div",Et,[d("img",{class:"w-full h-full object-cover",draggable:"false",src:t.value,alt:"User Avatar"},null,8,Dt)]))}}),jt=B(Ot,[["__scopeId","data-v-ed241147"]]);function xe(){const e=M(),n=async()=>{e.value=await se.getValue()};return _e(e,async()=>{e.value!==void 0&&(it(e.value,await se.getValue())||await se.setValue({...o(e.value)}))},{deep:!0}),se.watch(n),n(),e}const de=M(!1),zt={class:"py-2 flex items-center justify-between bg-[#5865F2] px-2 text-white h-[50px] relative z-100 w-full select-none"},Wt={class:"flex items-center"},qt=H({__name:"Header",setup(e){return(n,t)=>(p(),m("header",zt,[t[2]||(t[2]=d("div",{class:"flex items-center"},[d("img",{class:"h-[35px] w-[35px] mr-[5px] ml-[10px]",draggable:"false",src:De,alt:"PreMiD Logo"}),d("h1",{class:"text-[25px] font-['Discord_Font'] mt-[5px]"}," PreMiD ")],-1)),d("div",Wt,[C(ft),d("button",{class:"flex items-center rounded-full duration-200 cursor-pointer border-none color-white w-[30px] h-[30px] justify-center hover:bg-white/20 transition-all ease-out mr-2 bg-transparent","aria-label":"Toggle settings",onClick:t[0]||(t[0]=i=>de.value=!o(de))},t[1]||(t[1]=[d("i",{class:"transition-all duration-200 ease-out fas fa-cog text-[22px] hover:rotate-45","aria-hidden":"true"},null,-1)])),C(jt)])]))}}),Gt=B(qt,[["__scopeId","data-v-bef9d333"]]),Yt=H({__name:"Chip",props:{icon:{},text:{},active:{type:Boolean}},setup(e){const n=e;return(t,i)=>(p(),m("span",{id:"chip",class:ee(t.active?"active":"")},[d("i",{class:ee(n.icon)},null,2),d("h1",null,x(n.text),1)],2))}}),Jt=B(Yt,[["__scopeId","data-v-e1b69a8d"]]),Xt={id:"titleWrapper"},Kt=["textContent"],Zt={key:0,id:"actions"},Qt=["onClick"],en={id:"content"},tn=H({__name:"ContentWrapper",props:{title:{},buttons:{},buttonsVisible:{type:Boolean}},setup(e){const n=e,t=M(),i=M(!1);le(()=>{s(),t.value=window.setInterval(s,100)});function s(){const a=document.querySelector('[datatype="scrollable"]');i.value=((a==null?void 0:a.scrollHeight)??0)>((a==null?void 0:a.clientHeight)??0)}return Oe(()=>{window.clearInterval(t.value)}),(a,l)=>(p(),m("div",{id:"contentWrapper",style:ue({"--minus-width":i.value?"8px":"0px"})},[d("div",Xt,[d("h1",{id:"title",textContent:x(n.title)},null,8,Kt),C(ie,{name:"slideRight",mode:"out-in"},{default:N(()=>[n.buttonsVisible?(p(),m("div",Zt,[(p(!0),m(Q,null,oe(n.buttons,(u,r)=>(p(),m("i",{key:r,class:ee(u.icon+(u.active?" active":"")),onClick:u.click},null,10,Qt))),128))])):ke(a.$slots,"actions",{key:1},void 0,!0)]),_:3})]),d("div",en,[ke(a.$slots,"default",{},void 0)])],4))}}),ne=B(tn,[["__scopeId","data-v-995056d3"]]),nn={class:"text-2xl font-bold"},an={class:"text-sm"},sn={key:0,class:"absolute right-2 text-sm bottom-2"},rn=H({__name:"Card",props:{dismissable:{type:Boolean,default:!0},title:{},description:{},buttonLabel:{},color:{},version:{}},emits:["button-click","dismiss"],setup(e,{emit:n}){const t=n,i=M();return Pe(()=>{var a,l;if(!i.value)return;const s="computedStyleMap"in i.value?(a=i.value)==null?void 0:a.computedStyleMap().get("background-color"):window.getComputedStyle(i.value).backgroundColor;(l=i.value)==null||l.style.setProperty("--box-shadow-color",(s==null?void 0:s.toString())||"rgb(0, 0, 0, 0)")}),(s,a)=>(p(),m("div",{ref_key:"card",ref:i,class:ee(`pulseInfo ${s.color} p-2 m3 rd shadow-md text-white text-center space-y-2 relative`)},[be(d("a",{href:"#",class:"color-white absolute top-2 right-2",onClick:a[0]||(a[0]=je(l=>t("dismiss"),["prevent"]))},a[2]||(a[2]=[d("i",{class:"fas fa-times font-size-5"},null,-1)]),512),[[Te,s.dismissable]]),d("h1",nn,x(s.title),1),d("p",an,x(s.description),1),d("button",{class:"font-bold text-sm py-2 rounded-full border-none duration-200 cursor-pointer bg-white px-4 hover:opacity-90 transition-opacity",onClick:a[1]||(a[1]=l=>t("button-click"))},x(s.buttonLabel),1),s.version?(p(),m("p",sn," v"+x(s.version),1)):k("",!0)],2))}}),Fe=B(rn,[["__scopeId","data-v-310a3a1b"]]),on=H({__name:"DiscordLinkBox",setup(e){const{isLinked:n}=i(),t=ae({button:"popup.discordUnlinked.button",description:"popup.discordUnlinked.description",title:"popup.discordUnlinked.title"});function i(){const a=M(!1);async function l(){const u=await he.getValue();if(he.watch(l),!u){a.value=!1;return}a.value="token"in u}return l(),{isLinked:a}}function s(){window.pmd.oAuthManager.openOAuth2Window()}return(a,l)=>o(t)&&!o(n)?(p(),V(Fe,{key:0,title:o(t).title,description:o(t).description,"button-label":o(t).button,color:"bg-red-500",dismissable:!1,onButtonClick:s},null,8,["title","description","button-label"])):k("",!0)}}),ln=["href","textContent"],un=["textContent"],dn=H({__name:"Button",props:{href:{default:"",required:!1,type:String},text:{required:!0,type:String}},emits:["click"],setup(e,{emit:n}){const t=e,i=n;return(s,a)=>t.href?(p(),m("a",{key:0,class:"button",href:t.href,target:"_blank",draggable:"false",textContent:x(t.text)},null,8,ln)):(p(),m("div",{key:1,class:"button",role:"button",onClick:a[0]||(a[0]=()=>i("click")),textContent:x(t.text)},null,8,un))}}),cn=B(dn,[["__scopeId","data-v-86cfeee3"]]);function ce(e){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ce(e)}var fn=/^\s+/,pn=/\s+$/;function f(e,n){if(e=e||"",n=n||{},e instanceof f)return e;if(!(this instanceof f))return new f(e,n);var t=gn(e);this._originalInput=e,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||t.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),t,i,s,a,l,u;return t=n.r/255,i=n.g/255,s=n.b/255,t<=.03928?a=t/12.92:a=Math.pow((t+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),s<=.03928?u=s/12.92:u=Math.pow((s+.055)/1.055,2.4),.2126*a+.7152*l+.0722*u},setAlpha:function(n){return this._a=Ne(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=Ve(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=Ve(this._r,this._g,this._b),t=Math.round(n.h*360),i=Math.round(n.s*100),s=Math.round(n.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+s+"%)":"hsva("+t+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var n=Ae(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=Ae(this._r,this._g,this._b),t=Math.round(n.h*360),i=Math.round(n.s*100),s=Math.round(n.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+s+"%)":"hsla("+t+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(n){return He(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return bn(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(w(this._r,255)*100)+"%",g:Math.round(w(this._g,255)*100)+"%",b:Math.round(w(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(w(this._r,255)*100)+"%, "+Math.round(w(this._g,255)*100)+"%, "+Math.round(w(this._b,255)*100)+"%)":"rgba("+Math.round(w(this._r,255)*100)+"%, "+Math.round(w(this._g,255)*100)+"%, "+Math.round(w(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Hn[He(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var t="#"+Ie(this._r,this._g,this._b,this._a),i=t,s=this._gradientType?"GradientType = 1, ":"";if(n){var a=f(n);i="#"+Ie(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+t+",endColorstr="+i+")"},toString:function(n){var t=!!n;n=n||this._format;var i=!1,s=this._a<1&&this._a>=0,a=!t&&s&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return a?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(n,t){var i=n.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(kn,arguments)},brighten:function(){return this._applyModification(Mn,arguments)},darken:function(){return this._applyModification(Sn,arguments)},desaturate:function(){return this._applyModification(_n,arguments)},saturate:function(){return this._applyModification(yn,arguments)},greyscale:function(){return this._applyModification(xn,arguments)},spin:function(){return this._applyModification(wn,arguments)},_applyCombination:function(n,t){return n.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(An,arguments)},complement:function(){return this._applyCombination(Cn,arguments)},monochromatic:function(){return this._applyCombination(Vn,arguments)},splitcomplement:function(){return this._applyCombination($n,arguments)},triad:function(){return this._applyCombination(Le,[3])},tetrad:function(){return this._applyCombination(Le,[4])}};f.fromRatio=function(e,n){if(ce(e)=="object"){var t={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?t[i]=e[i]:t[i]=re(e[i]));e=t}return f(e,n)};function gn(e){var n={r:0,g:0,b:0},t=1,i=null,s=null,a=null,l=!1,u=!1;return typeof e=="string"&&(e=Tn(e)),ce(e)=="object"&&(G(e.r)&&G(e.g)&&G(e.b)?(n=hn(e.r,e.g,e.b),l=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(i=re(e.s),s=re(e.v),n=mn(e.h,i,s),l=!0,u="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(i=re(e.s),a=re(e.l),n=vn(e.h,i,a),l=!0,u="hsl"),e.hasOwnProperty("a")&&(t=e.a)),t=Ne(t),{ok:l,format:e.format||u,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:t}}function hn(e,n,t){return{r:w(e,255)*255,g:w(n,255)*255,b:w(t,255)*255}}function Ae(e,n,t){e=w(e,255),n=w(n,255),t=w(t,255);var i=Math.max(e,n,t),s=Math.min(e,n,t),a,l,u=(i+s)/2;if(i==s)a=l=0;else{var r=i-s;switch(l=u>.5?r/(2-i-s):r/(i+s),i){case e:a=(n-t)/r+(n<t?6:0);break;case n:a=(t-e)/r+2;break;case t:a=(e-n)/r+4;break}a/=6}return{h:a,s:l,l:u}}function vn(e,n,t){var i,s,a;e=w(e,360),n=w(n,100),t=w(t,100);function l(g,b,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+(b-g)*6*y:y<1/2?b:y<2/3?g+(b-g)*(2/3-y)*6:g}if(n===0)i=s=a=t;else{var u=t<.5?t*(1+n):t+n-t*n,r=2*t-u;i=l(r,u,e+1/3),s=l(r,u,e),a=l(r,u,e-1/3)}return{r:i*255,g:s*255,b:a*255}}function Ve(e,n,t){e=w(e,255),n=w(n,255),t=w(t,255);var i=Math.max(e,n,t),s=Math.min(e,n,t),a,l,u=i,r=i-s;if(l=i===0?0:r/i,i==s)a=0;else{switch(i){case e:a=(n-t)/r+(n<t?6:0);break;case n:a=(t-e)/r+2;break;case t:a=(e-n)/r+4;break}a/=6}return{h:a,s:l,v:u}}function mn(e,n,t){e=w(e,360)*6,n=w(n,100),t=w(t,100);var i=Math.floor(e),s=e-i,a=t*(1-n),l=t*(1-s*n),u=t*(1-(1-s)*n),r=i%6,g=[t,l,a,a,u,t][r],b=[u,t,t,l,a,a][r],y=[a,a,u,t,t,l][r];return{r:g*255,g:b*255,b:y*255}}function He(e,n,t,i){var s=[j(Math.round(e).toString(16)),j(Math.round(n).toString(16)),j(Math.round(t).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function bn(e,n,t,i,s){var a=[j(Math.round(e).toString(16)),j(Math.round(n).toString(16)),j(Math.round(t).toString(16)),j(Be(i))];return s&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Ie(e,n,t,i){var s=[j(Be(i)),j(Math.round(e).toString(16)),j(Math.round(n).toString(16)),j(Math.round(t).toString(16))];return s.join("")}f.equals=function(e,n){return!e||!n?!1:f(e).toRgbString()==f(n).toRgbString()};f.random=function(){return f.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _n(e,n){n=n===0?0:n||10;var t=f(e).toHsl();return t.s-=n/100,t.s=pe(t.s),f(t)}function yn(e,n){n=n===0?0:n||10;var t=f(e).toHsl();return t.s+=n/100,t.s=pe(t.s),f(t)}function xn(e){return f(e).desaturate(100)}function kn(e,n){n=n===0?0:n||10;var t=f(e).toHsl();return t.l+=n/100,t.l=pe(t.l),f(t)}function Mn(e,n){n=n===0?0:n||10;var t=f(e).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(n/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(n/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(n/100)))),f(t)}function Sn(e,n){n=n===0?0:n||10;var t=f(e).toHsl();return t.l-=n/100,t.l=pe(t.l),f(t)}function wn(e,n){var t=f(e).toHsl(),i=(t.h+n)%360;return t.h=i<0?360+i:i,f(t)}function Cn(e){var n=f(e).toHsl();return n.h=(n.h+180)%360,f(n)}function Le(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var t=f(e).toHsl(),i=[f(e)],s=360/n,a=1;a<n;a++)i.push(f({h:(t.h+a*s)%360,s:t.s,l:t.l}));return i}function $n(e){var n=f(e).toHsl(),t=n.h;return[f(e),f({h:(t+72)%360,s:n.s,l:n.l}),f({h:(t+216)%360,s:n.s,l:n.l})]}function An(e,n,t){n=n||6,t=t||30;var i=f(e).toHsl(),s=360/t,a=[f(e)];for(i.h=(i.h-(s*n>>1)+720)%360;--n;)i.h=(i.h+s)%360,a.push(f(i));return a}function Vn(e,n){n=n||6;for(var t=f(e).toHsv(),i=t.h,s=t.s,a=t.v,l=[],u=1/n;n--;)l.push(f({h:i,s,v:a})),a=(a+u)%1;return l}f.mix=function(e,n,t){t=t===0?0:t||50;var i=f(e).toRgb(),s=f(n).toRgb(),a=t/100,l={r:(s.r-i.r)*a+i.r,g:(s.g-i.g)*a+i.g,b:(s.b-i.b)*a+i.b,a:(s.a-i.a)*a+i.a};return f(l)};f.readability=function(e,n){var t=f(e),i=f(n);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};f.isReadable=function(e,n,t){var i=f.readability(e,n),s,a;switch(a=!1,s=Pn(t),s.level+s.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};f.mostReadable=function(e,n,t){var i=null,s=0,a,l,u,r;t=t||{},l=t.includeFallbackColors,u=t.level,r=t.size;for(var g=0;g<n.length;g++)a=f.readability(e,n[g]),a>s&&(s=a,i=f(n[g]));return f.isReadable(e,i,{level:u,size:r})||!l?i:(t.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],t))};var ve=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Hn=f.hexNames=In(ve);function In(e){var n={};for(var t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ne(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function w(e,n){Ln(e)&&(e="100%");var t=Rn(e);return e=Math.min(n,Math.max(0,parseFloat(e))),t&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function pe(e){return Math.min(1,Math.max(0,e))}function F(e){return parseInt(e,16)}function Ln(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Rn(e){return typeof e=="string"&&e.indexOf("%")!=-1}function j(e){return e.length==1?"0"+e:""+e}function re(e){return e<=1&&(e=e*100+"%"),e}function Be(e){return Math.round(parseFloat(e)*255).toString(16)}function Re(e){return F(e)/255}var O=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",t="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",s="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(e){return!!O.CSS_UNIT.exec(e)}function Tn(e){e=e.replace(fn,"").replace(pn,"").toLowerCase();var n=!1;if(ve[e])e=ve[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=O.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=O.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=O.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=O.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=O.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=O.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=O.hex8.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),a:Re(t[4]),format:n?"name":"hex8"}:(t=O.hex6.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),format:n?"name":"hex"}:(t=O.hex4.exec(e))?{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),a:Re(t[4]+""+t[4]),format:n?"name":"hex8"}:(t=O.hex3.exec(e))?{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),format:n?"name":"hex"}:!1}function Pn(e){var n,t;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),t=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:n,size:t}}const Un={id:"checkbox"},Fn=["checked"],Nn=H({__name:"Checkbox",props:{color:{default:"#7289da",type:String},modelValue:{default:!1,type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,i=n,s=M(t.modelValue),a=$(()=>t.color?f(t.color).getBrightness()<=50?f(t.color).brighten(25).toString():t.color:"#fff"),l=$(()=>t.color?f(t.color).darken(25).toString():"#7289da");function u(r){r.target&&(s.value=r.target.checked,i("update:modelValue",s))}return(r,g)=>(p(),m("label",Un,[d("input",{type:"checkbox",checked:s.value,onChange:u},null,40,Fn),d("span",{id:"checkmark",style:ue({backgroundColor:s.value?l.value:"rgb(87, 107, 120)"})},[d("span",{style:ue({backgroundColor:s.value?a.value:"#fff"})},null,4)],4)]))}}),te=B(Nn,[["__scopeId","data-v-0ded8131"]]),Bn={id:"presence"},En=["src","title"],Dn=["title"],On={key:1,id:"presenceActions"},jn=H({__name:"PresenceCard",props:{metadata:{},enabled:{type:Boolean},editing:{type:Boolean}},emits:["remove","settings","enabled"],setup(e,{emit:n}){const t=e,i=n,s=$(()=>t.metadata),a=$(()=>t.enabled);return(l,u)=>(p(),m("div",Bn,[d("img",{src:s.value.logo,draggable:"false",title:s.value.service},null,8,En),d("h1",{title:s.value.service},x(s.value.service),9,Dn),C(ie,{name:"slideRight",mode:"out-in"},{default:N(()=>{var r;return[l.editing?(p(),m("i",{key:0,class:"fas fa-trash-alt action",onClick:u[0]||(u[0]=g=>i("remove"))})):(p(),m("div",On,[(r=s.value.settings)!=null&&r.length?(p(),m("i",{key:0,id:"settings",class:"fas action fa-cog",onClick:u[1]||(u[1]=g=>i("settings"))})):k("",!0),C(te,{modelValue:a.value,"onUpdate:modelValue":u[2]||(u[2]=g=>a.value=g),color:s.value.color,onChange:u[3]||(u[3]=g=>i("enabled",g.target.checked))},null,8,["modelValue","color"])]))]}),_:1})]))}}),zn=B(jn,[["__scopeId","data-v-402778f3"]]),Wn=["textContent"],qn=["onClick","textContent"],Gn=H({__name:"Select",props:{options:{},selected:{}},emits:["update:selected"],setup(e,{emit:n}){const t=e,i=n,s=M(!1),a=M(),l=M(),u=$(()=>typeof t.options[0]=="string"?t.options.map((b,y)=>({title:b,value:y})):t.options),r=$(()=>u.value.find(b=>b.value===t.selected)||u.value[0]),g=$(()=>{var y;const b=(y=a.value)==null?void 0:y.getBoundingClientRect();return Math.max(85,window.innerHeight-((b==null?void 0:b.y)??0)-15)});return lt(l,()=>s.value=!1),(b,y)=>(p(),m("div",{id:"select",ref_key:"element",ref:l,class:ee({active:s.value}),onClick:y[0]||(y[0]=P=>s.value=!s.value)},[d("div",{id:"wrapper",ref_key:"wrapper",ref:a,style:ue({maxHeight:`${g.value}px`})},[d("p",{id:"show",textContent:x(r.value.title)},null,8,Wn),(p(!0),m(Q,null,oe(u.value,(P,Y)=>(p(),m(Q,null,[P.value!==r.value.value?(p(),m("span",{key:Y,onClick:_=>i("update:selected",P.value),textContent:x(P.title)},null,8,qn)):k("",!0)],64))),256))],4)],2))}}),me=B(Gn,[["__scopeId","data-v-856e16e3"]]);function Yn(e){const n=fe(),{presenceManager:t,languageManager:i,storageManager:s}=n,a=M(),l=M(),u=async()=>{const r=await t.getFullSettingsObject(e);r&&(l.value=ge(r),a.value=ge(r))};return Z.storage.onChanged.addListener(async(r,g)=>{g==="local"&&r[`${e}_settings`]&&await u()}),_e(a,()=>{var r;JSON.stringify(a.value)!==JSON.stringify(l.value)&&(s.set("local",{[`${e}_settings`]:ge(a.value)}),(r=a.value)!=null&&r.lang&&i.fetchPresenceStrings(e))},{deep:!0}),u(),a}const Jn={id:"presenceSettings"},Xn={id:"headingWrapper"},Kn=["src"],Zn={id:"heading"},Qn=["src"],ea=["textContent"],ta=["innerHTML"],na={id:"settingsContainer"},aa=["title"],ia=["onUpdate:modelValue","placeholder"],sa=H({__name:"PresenceSettingsView",props:{metadata:{}},emits:["close"],setup(e,{emit:n}){const t=e,i=n,s=fe(),a=Yn(t.metadata.service),l=ae({description:"popup.headings.description",settings:"popup.headings.settings"}),u=xe(),r=$(()=>{const{language:_}=s.languageManager;let S;S=t.metadata.description[_]?t.metadata.description[_]||"":t.metadata.description.en||"";const I=/\[([^\]]+)\]\(([^)]+)\)/g,A=S.match(I);if(!A)return S;for(let v=0;v<A.length;v++){const h=I.exec(S);if(!h)continue;const[c,L,E]=h;S=S.replace(c,`<a href="${E}" target="_blank">${L}</a>`)}return S}),g=$(()=>a.value?Object.values(a.value).filter(_=>{if(_.if){if(Object.keys(_.if).every((S,I)=>{var A;return((A=Object.values(a.value||{}).find(v=>v.id===S))==null?void 0:A.value)===Object.values(_.if||{})[I]})&&!_.hidden)return!0}else if(!_.hidden)return!0;return!1}).sort((_,S)=>{var I,A;return(((I=t.metadata.settings)==null?void 0:I.findIndex(v=>v.id===_.id))??-1)-(((A=t.metadata.settings)==null?void 0:A.findIndex(v=>v.id===S.id))??-1)}):[]);function b(_,S){_.value=S,_.id==="lang"&&_.multiLanguage&&s.storageManager.set("local",{[`${t.metadata.service}_changedLanguage`]:!0})}const y=M([]);_e(a,P,{immediate:!0});async function P(){if(y.value=[],!!a.value){for(const _ of Object.values(a.value))if(_.id==="lang"&&_.multiLanguage&&_.values&&_.values.length>1){const S=await s.storageManager.get("local",`${t.metadata.service}_changedLanguage`);(S==null?void 0:S[`${t.metadata.service}_changedLanguage`])===!0&&y.value.push(_.id)}}}function Y(){u.value&&(s.storageManager.set("local",{[`${t.metadata.service}_changedLanguage`]:!1}),s.presenceManager.setSetting(t.metadata.service,"lang",u.value.presencesLanguage),P())}return(_,S)=>{var I,A;return p(),m("div",Jn,[d("div",Xn,[d("i",{id:"backBtn",class:"fas fa-arrow-left",onClick:S[0]||(S[0]=v=>i("close"))}),d("img",{id:"bg",src:_.metadata.thumbnail,draggable:"false"},null,8,Kn),d("div",Zn,[d("img",{src:_.metadata.logo,draggable:"false"},null,8,Qn),d("h1",{textContent:x(_.metadata.service)},null,8,ea)])]),C(ne,{title:((I=o(l))==null?void 0:I.description)||"",buttons:[],"buttons-visible":!1},{default:N(()=>[d("p",{id:"description",innerHTML:r.value},null,8,ta)]),_:1},8,["title"]),C(ne,{title:((A=o(l))==null?void 0:A.settings)||"",buttons:[],"buttons-visible":!1},{default:N(()=>[d("div",na,[(p(!0),m(Q,null,oe(g.value,(v,h)=>(p(),m("div",{id:"setting",key:h,class:ee(typeof v.value=="number"||v.multiLanguage&&v.values&&v.values.length>1?"select":"")},[d("span",{title:v.title},[d("i",{class:ee(v.icon)},null,2),W(" "+x(v.title)+" ",1),y.value.includes(v.id)?(p(),m("i",{key:0,id:"languageSync",class:"fad fa-sync",title:"Sync with preferred language",onClick:Y})):k("",!0)],8,aa),v.multiLanguage?k("",!0):(p(),m(Q,{key:0},[typeof v.value=="boolean"?(p(),V(te,{key:0,modelValue:v.value,"onUpdate:modelValue":c=>v.value=c,color:_.metadata.color},null,8,["modelValue","onUpdate:modelValue","color"])):k("",!0),typeof v.value=="string"?be((p(),m("input",{key:1,ref_for:!0,ref:v.id,"onUpdate:modelValue":c=>v.value=c,type:"text",spellcheck:"false",placeholder:v.placeholder},null,8,ia)),[[ze,v.value]]):k("",!0)],64)),typeof v.value=="number"||v.multiLanguage&&v.values&&v.values.length>1&&typeof v.value=="string"?(p(),V(me,{key:1,options:v.values,selected:v.value,"onUpdate:selected":c=>b(v,c)},null,8,["options","selected","onUpdate:selected"])):k("",!0)],2))),128))])]),_:1},8,["title"])])}}}),ra=B(sa,[["__scopeId","data-v-d6a7dd85"]]),oa={id:"allSettings"},la=["textContent"],ua={key:1},da=["textContent"],ca={key:2},fa={key:0},pa=["textContent"],ga={id:"settingsContainer"},ha={id:"setting"},va=["title"],ma={id:"setting"},ba=["title"],_a={id:"setting"},ya=["title"],xa={id:"setting"},ka=["title"],Ma={id:"setting"},Sa=["title"],wa={key:0,id:"setting"},Ca=["title"],$a={id:"settingsContainer"},Aa={id:"setting"},Va=["title"],Ha=H({__name:"SettingsView",emits:["close"],setup(e,{emit:n}){const t=n,i=M();st.getValue().then(h=>{i.value=h});const s=fe(),a=xe(),{discordUser:l}=ye(),u=Ue(),r=ae({appVersion:"popup.information.appVersion",diagnosticsHeading:"popup.navigation.diagnostics",discordUser:"popup.information.discordUser",enabled:"popup.setting.enabled",extensionVersion:"popup.information.extensionVersion",failedToFetchUser:"popup.setting.failedToFetchUser",heartbeat:"popup.setting.heartbeat",informationHeading:"popup.navigation.information",language:"general.language",logout:"popup.logout",notYou:"popup.information.notYou",preferApp:"popup.setting.preferApp",preferredPresenceLanguage:"popup.setting.preferredPresenceLanguage",settingsHeading:"popup.navigation.settings",syncLanguage:"popup.setting.syncLanguage",usePlayingStatus:"popup.setting.usePlayingStatus",feedback:"popup.navigation.feedback",feedbackLink:"popup.navigation.feedbackLink"}),{version:g}=Z.runtime.getManifest(),b=M([]),y=M(!1);le(async()=>{y.value=!!await he.getValue(),b.value=await rt.getValue()});async function P(){await s.oAuthManager.logout(),await s.oAuthManager.openOAuth2Window()}async function Y(){await s.oAuthManager.logout(),y.value=!1}const _=$(()=>b.value.map(h=>({title:h.nativeName,value:h.lang}))),S=$(()=>{var h,c,L,E;return(E=r.value)==null?void 0:E.discordUser.replace("{0}",((h=l.value)==null?void 0:h.global_name)||`${(c=l.value)==null?void 0:c.username}#${(L=l.value)==null?void 0:L.discriminator}`)}),I=$(()=>g),A=M();function v(){Z.tabs.create({active:!0,url:Z.runtime.getURL("/feedback.html")})}return le(()=>{Pe(()=>{const h=document.createElement("span");h.textContent=I.value,h.style.cursor="pointer",h.title="Click to copy",h.id="copyVersion",!(!A.value||!r.value)&&(A.value.innerHTML=r.value.extensionVersion.replace("{0}",h.outerHTML),We(()=>{const c=document.querySelector("#copyVersion");c==null||c.addEventListener("click",()=>{navigator.clipboard.writeText(I.value)})}))})}),(h,c)=>{var L,E,R,q;return p(),m("div",oa,[d("i",{id:"backBtn",class:"fas fa-arrow-left",onClick:c[0]||(c[0]=U=>t("close"))}),C(ne,{title:((L=o(r))==null?void 0:L.informationHeading)||"","buttons-visible":!0,style:{"margin-top":"40px"}},{default:N(()=>{var U,D,z,J,X,K,T;return[d("p",{ref_key:"versionHtml",ref:A},null,512),o(u).connected?(p(),m("p",{key:0,textContent:x((D=(U=o(r))==null?void 0:U.appVersion)==null?void 0:D.replace("{0}",String(o(u).appVersion||"")))},null,8,la)):k("",!0),o(l)?(p(),m("p",ua,[W(x(S.value)+" ",1),d("a",{class:"cursor-pointer color-blurple",onClick:P,textContent:x((z=o(r))==null?void 0:z.notYou)},null,8,da)])):k("",!0),y.value?(p(),m("p",ca,[o(l)?k("",!0):(p(),m("span",fa,x(`${(J=o(r))==null?void 0:J.failedToFetchUser} `),1)),d("a",{class:"color-blurple cursor-pointer",onClick:Y,textContent:x((X=o(r))==null?void 0:X.logout)},null,8,pa)])):k("",!0),d("p",null,[W(x((K=o(r))==null?void 0:K.feedback)+" ",1),d("a",{class:"color-blurple cursor-pointer",onClick:v},x((T=o(r))==null?void 0:T.feedbackLink),1)])]}),_:1},8,["title"]),C(ne,{title:((E=o(r))==null?void 0:E.settingsHeading)||"",buttons:[],"buttons-visible":!1},{default:N(()=>{var U,D,z,J,X,K;return[d("div",ga,[d("div",ha,[d("span",{title:(U=o(r))==null?void 0:U.enabled},[c[8]||(c[8]=d("i",{class:"fad fa-power-off"},null,-1)),W(" "+x((D=o(r))==null?void 0:D.enabled),1)],8,va),o(a)?(p(),V(te,{key:0,modelValue:o(a).enabled,"onUpdate:modelValue":c[1]||(c[1]=T=>o(a).enabled=T)},null,8,["modelValue"])):k("",!0)]),d("div",ma,[d("span",{title:(z=o(r))==null?void 0:z.usePlayingStatus},[c[9]||(c[9]=d("i",{class:"fad fa-gamepad-alt"},null,-1)),W(" "+x((J=o(r))==null?void 0:J.usePlayingStatus),1)],8,ba),o(a)?(p(),V(te,{key:0,modelValue:o(a).usePlayingStatus,"onUpdate:modelValue":c[2]||(c[2]=T=>o(a).usePlayingStatus=T)},null,8,["modelValue"])):k("",!0)]),d("div",_a,[d("span",{title:(X=o(r))==null?void 0:X.preferApp},[c[10]||(c[10]=d("i",{class:"fad fa-screencast"},null,-1)),W(" "+x((K=o(r))==null?void 0:K.preferApp),1)],8,ya),o(a)?(p(),V(te,{key:0,modelValue:o(a).preferApp,"onUpdate:modelValue":c[3]||(c[3]=T=>o(a).preferApp=T)},null,8,["modelValue"])):k("",!0)])])]}),_:1},8,["title"]),C(ne,{title:((R=o(r))==null?void 0:R.language)||"",buttons:[],"buttons-visible":!1},{default:N(()=>{var U,D,z,J,X,K;return[d("div",xa,[d("span",{title:(U=o(r))==null?void 0:U.language},[c[11]||(c[11]=d("i",{class:"fad fa-language"},null,-1)),W(" "+x((D=o(r))==null?void 0:D.language),1)],8,ka),o(a)&&_.value.length>0?(p(),V(me,{key:0,options:_.value,selected:o(a).language,"onUpdate:selected":c[4]||(c[4]=T=>o(s).languageManager.setLanguage(T))},null,8,["options","selected"])):k("",!0)]),d("div",Ma,[d("span",{title:(z=o(r))==null?void 0:z.syncLanguage},[c[12]||(c[12]=d("i",{class:"fad fa-sync"},null,-1)),W(" "+x((J=o(r))==null?void 0:J.syncLanguage),1)],8,Sa),o(a)?(p(),V(te,{key:0,modelValue:o(a).syncLanguage,"onUpdate:modelValue":c[5]||(c[5]=T=>o(a).syncLanguage=T)},null,8,["modelValue"])):k("",!0)]),o(a)&&!o(a).syncLanguage?(p(),m("div",wa,[d("span",{title:(X=o(r))==null?void 0:X.preferredPresenceLanguage},[c[13]||(c[13]=d("i",{class:"fad fa-language"},null,-1)),W(" "+x((K=o(r))==null?void 0:K.preferredPresenceLanguage),1)],8,Ca),o(a)&&_.value.length>0?(p(),V(me,{key:0,options:_.value,selected:o(a).presencesLanguage,"onUpdate:selected":c[6]||(c[6]=T=>o(a).presencesLanguage=T)},null,8,["options","selected"])):k("",!0)])):k("",!0)]}),_:1},8,["title"]),C(ne,{title:((q=o(r))==null?void 0:q.diagnosticsHeading)||"",buttons:[],"buttons-visible":!1},{default:N(()=>{var U,D;return[d("div",$a,[d("div",Aa,[d("span",{title:(U=o(r))==null?void 0:U.heartbeat},[c[14]||(c[14]=d("i",{class:"fad fa-heart-pulse"},null,-1)),W(" "+x((D=o(r))==null?void 0:D.heartbeat),1)],8,Va),o(a)?(p(),V(te,{key:0,modelValue:o(a).heartbeat,"onUpdate:modelValue":c[7]||(c[7]=z=>o(a).heartbeat=z)},null,8,["modelValue"])):k("",!0)])])]}),_:1},8,["title"])])}}}),Ia=B(Ha,[["__scopeId","data-v-b57e20d5"]]),La=H({__name:"WhatsNew",setup(e){const{version:n}=Z.runtime.getManifest(),t=ae({button:"popup.whatsNew.button",description:"popup.whatsNew.description",title:"popup.whatsNew.heading"}),i=M(),s=$(()=>i.value!==n);le(async()=>{i.value=await Me.getValue()});async function a(){i.value=n,await Me.setValue(n)}async function l(){await a(),await Z.tabs.create({url:Z.runtime.getURL("/updated.html")})}return(u,r)=>{var g,b,y;return o(t)&&o(s)?(p(),V(Fe,{key:0,title:(g=o(t))==null?void 0:g.title,description:(b=o(t))==null?void 0:b.description,"button-label":(y=o(t))==null?void 0:y.button,color:"bg-blue-500",version:o(n),onDismiss:a,onButtonClick:l},null,8,["title","description","button-label","version"])):k("",!0)}}});function Ra(){const e=ae({all:"popup.category.all",anime:"popup.category.anime",games:"popup.category.games",music:"popup.category.music",other:"popup.category.other",socials:"popup.category.socials",videos:"popup.category.videos"});return $(()=>{var t,i,s,a,l,u,r;return[{icon:"fas fa-map",id:"all",text:((t=e.value)==null?void 0:t.all)||""},{icon:"fas fa-star",id:"anime",text:((i=e.value)==null?void 0:i.anime)||""},{icon:"fas fa-gamepad-modern",id:"games",text:((s=e.value)==null?void 0:s.games)||""},{icon:"fas fa-music",id:"music",text:((a=e.value)==null?void 0:a.music)||""},{icon:"fas fa-comments",id:"socials",text:((l=e.value)==null?void 0:l.socials)||""},{icon:"fas fa-play",id:"videos",text:((u=e.value)==null?void 0:u.videos)||""},{icon:"fas fa-box",id:"other",text:((r=e.value)==null?void 0:r.other)||""}]})}const Ta={key:2,id:"scrolly",datatype:"scrollable"},Pa={key:0,id:"categories"},Ua={class:"w-full grid"},Fa=H({__name:"PresencesView",setup(e){const n=M([]),t=fe();t.presenceManager.get().then(h=>{n.value=h.sort((c,L)=>c.service.localeCompare(L.service))});const i=ae({loadPresence:"popup.presences.load",presenceHeading:"popup.headings.presences",presenceStore:"popup.buttons.presenceStore"}),s=Ra(),a=xe(),l=M(!1),u=M(!1),r=M();function g(h){n.value=n.value.filter(c=>c.service!==h.service),t.presenceManager.remove(P(h))}function b(h){r.value=h}const y=(h,c)=>t.presenceManager.setEnabled(h,c);function P(h){return h.service}function Y(h){l.value=h}function _(h){u.value=h}function S(h){a.value&&(a.value.choosenCategory=h)}const I=$(()=>{var c;const h=[];return l.value||u.value?h.push({click:()=>{Y(!1),_(!1)},icon:"fas fa-check-circle"}):h.push({active:((c=a.value)==null?void 0:c.choosenCategory)!=="all",click:()=>_(!0),icon:"fas fa-tags"},{click:()=>Y(!0),icon:"fas fa-trash-alt"}),h}),A=$(()=>s.value.filter(h=>n.value.some(c=>c.category===h.id)||h.id==="all")),v=$(()=>n.value.filter(h=>{var c,L;return h.category===((c=a.value)==null?void 0:c.choosenCategory)||((L=a.value)==null?void 0:L.choosenCategory)==="all"}));return(h,c)=>(p(),V(ie,{name:"fade",mode:"out-in"},{default:N(()=>{var L;return[o(de)?(p(),V(Ia,{key:0,datatype:"scrollable",onClose:c[0]||(c[0]=E=>de.value=!1)})):r.value?(p(),V(ra,{key:1,metadata:r.value,datatype:"scrollable",onClose:c[1]||(c[1]=E=>r.value=void 0)},null,8,["metadata"])):(p(),m("div",Ta,[C(La),C(on),C(ne,{title:((L=o(i))==null?void 0:L.presenceHeading)||"","buttons-visible":!0,buttons:I.value},{default:N(()=>{var E;return[C(ie,{name:"categoryHeight"},{default:N(()=>[u.value?(p(),m("div",Pa,[(p(!0),m(Q,null,oe(A.value,R=>{var q;return p(),V(Jt,{key:R.id,icon:R.icon,text:R.text,active:R.id===((q=o(a))==null?void 0:q.choosenCategory),onClick:U=>S(R.id)},null,8,["icon","text","active","onClick"])}),128))])):k("",!0)]),_:1}),(p(!0),m(Q,null,oe(v.value,R=>(p(),V(zn,{key:P(R),metadata:R,enabled:R.enabled,editing:l.value,onRemove:q=>g(R),onSettings:q=>b(R),onEnabled:q=>y(P(R),q)},null,8,["metadata","enabled","editing","onRemove","onSettings","onEnabled"]))),128)),d("div",Ua,[C(cn,{href:"https://premid.app/store",text:((E=o(i))==null?void 0:E.presenceStore)||""},null,8,["text"])])]}),_:1},8,["title","buttons"])]))]}),_:1}))}}),Na=B(Fa,[["__scopeId","data-v-5a220535"]]),Ba=H({__name:"App",setup(e){return(n,t)=>(p(),m("div",null,[C(Gt),C(Na)]))}});qe();const Ee=Ge(Ba);Ye(Ee);Ee.mount("#app");
//# sourceMappingURL=popup-CV0tzfag.js.map
