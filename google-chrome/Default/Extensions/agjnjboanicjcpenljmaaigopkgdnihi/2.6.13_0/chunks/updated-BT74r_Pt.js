import{d as B,r as b,a as R,u as Y,w as I,b as s,e,_ as C,t as a,f as o,j as p,F as x,h as w,l as n,p as L,m as V,n as z}from"./__uno-i2UvGda1.js";import{i as E}from"./initSentry-BeWilyCh.js";import{u as H}from"./useDiscordUser-D-5zxTsQ.js";import{J as A}from"./_virtual_wxt-plugins-DckzYsD-.js";const j=[{version:"2.6.13",changelog:{chores:["Updated Presences"]}},{version:"2.6.12",changelog:{fixes:["The x.com Presence should no longer load in when a different URL ends with x.com (e.g. xbox.com)","Timestamps should now be more reliable"],chores:["Updated Presences","Update 2.6.x info note","Added a donate message"]}},{version:"2.6.11",changelog:{chores:["[Experimental] Update Session Keep Alive","Refactored internal code","Reduced file size of bundled Presences"],fixes:["Fixes an infinite recursion bug that affected some users","Some Firefox Presences relying on getPageVariable did not work","Netflix Presence should work as expected too now","Sync language option should work again","Fixed cases where language switching didn't work","presence.getTimestamps() now floors the timestamps to the nearest second"],performance:["Improved overall performance due to refactors"]}},{version:"2.6.10",changelog:{chores:["Rolls back v2.6.9 due to an infinite recursion bug"]}},{version:"2.6.9",changelog:{chores:["[Experimental] Update Session Keep Alive","Refactored internal code","Reduced file size of bundled Presences"],fixes:["Some Firefox Presences relying on getPageVariable did not work","Netflix Presence should work as expected too now","Sync language option should work again","Fixed cases where language switching didn't work","presence.getTimestamps() now floors the timestamps to the nearest second"],performance:["Improved overall performance due to refactors"]}},{version:"2.6.8",changelog:{fixes:["Fixes certain storage keys not being able to be accessed on chrome browsers","Fixes some websites breaking on Firefox","Fixes the enable/disable button of the extension not working"],features:["[Experimental] Automatically clears activity on browser close"],chores:["Added cog icon to the extension for better visibility"]}},{version:"2.6.7",changelog:{chores:["Updated Tab no longer opens with focus","Logging in should now be more reliable"],features:["[Experimental] Automatically clears activity on browser close"]}},{version:"2.6.6",changelog:{fixes:["Fixed an issue where the browser tab would lag due to a dependency"]}},{version:"2.6.4",changelog:{features:["Added Firefox support"],fixes:["Settings in some cases would not be saved","Analytics ID would not be set correctly"]}},{changelog:{fixes:["Fixed an issue where the user language would not be set correctly"]},version:"2.6.3"},{changelog:{chores:["Added Sentry for error monitoring","Recode storage backend to fix issues","Updated bundled Presences"],fixes:["Allow logging out when token expires","Use URL.origin to match non-regex URLs"]},version:"2.6.2"},{changelog:{chores:["Updated bundled Presences"],features:["Added back App Support as an option in user settings"],fixes:["Netflix Presence","Activity duplication","Weird logout issues","Resolved invalid permission warning of the Extension"]},version:"2.6.1"},{changelog:{chores:["Organized codebase"],features:["Watching, Listening, Playing Status Support","PreMiD & Discord apps no longer required","This Changelog","Brand new installed Page","Migrated from Manifest V2 to V3"],fixes:["PD getting spammed with the same request"],performance:["Improved performance"]},version:"2.6.0"},{changelog:{chores:["Full rewrite of PreMiD"]},title:"Stability Update",version:"2.5.0"}],J={class:"flex flex-col items-center justify-center min-h-screen updated-background text-gray-200 font-sans"},q={class:"rounded-xl shadow-md mx-4 max-w-3xl"},O={class:"text-center p-4 bg-gray-900 rounded-t-xl"},$=["textContent"],K={key:0,class:"relative bg-white leading-6 overflow-y-auto max-h-100 b-rd-t color-black p5 font-medium text-4"},G={key:1,class:"relative bg-white leading-6 overflow-y-auto max-h-100 b-rd-t color-black p5 font-medium text-4"},Q={key:2,class:"relative bg-white overflow-y-auto max-h-100 b-rd-t"},X={class:"text-left"},Z={class:"text-lg leading-6 font-medium mb-4 text-black"},ee={class:"text-black"},te={class:"text-sm list-disc list-inside text-gray-700 pl6"},oe={key:3,class:"px-6 py-4 text-white font-bold b-rd-b bg-gray-500"},se={key:4,class:"px-6 py-4 text-white font-bold b-rd-b bg-gray-500"},ne={key:5,class:"px-6 py-4 text-white font-bold b-rd-b bg-red-500"},re={class:"text-lg leading-6 mb-4"},ie={class:"text-sm mb-4"},ae={key:6,class:"px-6 py-4 text-white font-bold b-rd-b bg-gray-700"},le={class:"text-lg leading-6 mb-4"},de={class:"text-sm mb-4"},ce={href:"https://discord.premid.app",target:"_blank",rel:"noopener noreferrer",class:"inline-block px-6 py-3 text-lg bg-white text-gray-900 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 decoration-none"},ue={draggable:"false",class:"inline-block px-6 py-3 text-lg text-gray-900 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 decoration-none mx2 bg-yellow",target:"_blank",href:"https://patreon.com/Timeraa"},ge=B({__name:"App",setup(he){const N=b(j),r=R({chores:"tab.updated.changeTypes.chores",donate:"donate",features:"tab.updated.changeTypes.features",fixes:"tab.updated.changeTypes.fixes",heading:"tab.updated.header",linkYourDiscordAccount:"tab.updated.linkYourDiscordAccount",linkYourDiscordAccountButton:"tab.updated.linkYourDiscordAccountButton",linkYourDiscordAccountDescription:"tab.updated.linkYourDiscordAccountDescription",performance:"tab.updated.changeTypes.performance",whatsNew:"tab.updated.whatsNew",whatsNext:"tab.updated.whatsNext",whatsNextDescription:"tab.updated.whatsNextDescription",whatsNextJoinDiscordButton:"tab.updated.whatsNextJoinDiscordButton"});function M(i){var c,u,g,h;const t=[];return i.changelog.features&&t.push({icon:"fas fa-star text-yellow-500",items:i.changelog.features,title:(c=r.value)==null?void 0:c.features}),i.changelog.fixes&&t.push({icon:"fas fa-wrench text-red-500",items:i.changelog.fixes,title:(u=r.value)==null?void 0:u.fixes}),i.changelog.performance&&t.push({icon:"fas fa-tachometer-alt text-green-500",items:i.changelog.performance,title:(g=r.value)==null?void 0:g.performance}),i.changelog.chores&&t.push({icon:"fas fa-tasks text-blue-500",items:i.changelog.chores,title:(h=r.value)==null?void 0:h.chores}),t}const{discordUser:F}=H(),y=Y(),d=b(!1);A.getValue().then(i=>{d.value=i}),I(d,i=>{A.setValue(i)});const m=b(!1);return(i,t)=>{var c,u,g,h,v,k,D,_;return n(),s("div",J,[e("div",q,[e("div",O,[t[3]||(t[3]=e("img",{src:C,alt:"PreMiD Logo",class:"mx-auto h-24 w-auto"},null,-1)),e("p",{class:"text-lg font-bold mt-2 text-white",textContent:a((c=o(r))==null?void 0:c.heading)},null,8,$)]),o(d)?o(m)?(n(),s("div",Q,[(n(!0),s(x,null,w(o(N),(l,U)=>{var P;return n(),s("div",{key:U,class:"px-6 py-3"},[e("div",X,[e("h2",Z,a(l.title??((P=o(r))==null?void 0:P.whatsNew))+" - v"+a(l.version),1),(n(!0),s(x,null,w(M(l),f=>(n(),s("div",{key:f.icon},[e("h3",ee,[e("i",{class:L(f.icon)},null,2),p(" "+a(f.title),1)]),e("ul",te,[(n(!0),s(x,null,w(f.items,(T,W)=>(n(),s("li",{key:W},a(T),1))),128))])]))),128))])])}),128))])):(n(),s("div",G,t[5]||(t[5]=[e("h3",{class:"mt-0"}," Support the Future of PreMiD: We Need Your Help! ",-1),e("p",null," We’ve been working hard over the past few weeks to update PreMiD as much as possible, fixing bugs, preparing new features, and more. We want to emphasize that PreMiD is a volunteer-driven project supported by a very small team. ",-1),e("p",null," Sadly, in this day and age, asking for money for a project like this is very hard. But it's crucial that PreMiD gets the support it needs from you guys, which may involve spending a little bit for what you love! We have a pretty hefty server bill to cover every month, and relying solely on our personal funds to maintain the service is not a viable long-term solution. ",-1),e("p",null," So we would ask you kindly for a little donation, you can support PreMiD through GitHub Sponsors and Patreon! ",-1),e("p",null," If you’re unable to support us financially, we kindly ask you to leave a positive review on our extension stores. ",-1),e("p",null," Thank you for being a part of our community and for your continued support! ",-1)]))):(n(),s("div",K,t[4]||(t[4]=[e("h3",{class:"mt-0"}," Important Update on PreMiD v2.6.0 ",-1),e("p",null," We want to address some of the challenges you've faced with our new way of setting the activity starting with PreMiD v2.6.0. We understand the transition hasn't been smooth due to several quirks and bugs that need to be fixed by Discord. Here are the issues we've heard from you: ",-1),e("ul",{class:"text-size-3.5"},[e("li",null,"Sometimes your own activity doesn't display."),e("li",null,"Games now take priority over PreMiD."),e("li",null,"User decorations are temporarily removed in some cases."),e("li",null,"If Discord is fully closed, it sets your status as online on mobile with activity. (We're working on a solution for this!)")],-1),e("p",null," We're committed to resolving these issues and making PreMiD as reliable as possible. Given these bugs, we've decided to bring back the old option of using the App, which can be enabled in the user settings if you're not satisfied with the current issues. However, we recommend sticking with the new method, as it helps highlight these bugs to Discord developers and is generally more reliable than our previous App-based solution. ",-1),e("p",null,[e("b",null,"Additionally, we are in contact with the Discord developers to hopefully get these bugs taken care of."),p(" We are listening to your feedback and working hard to improve your experience. Thank you for your patience and understanding as we work through these challenges together! ")],-1)]))),o(d)?o(m)?o(F)?(n(),s("div",ae,[e("h2",le,a((v=o(r))==null?void 0:v.whatsNext),1),e("p",de,a((k=o(r))==null?void 0:k.whatsNextDescription),1),e("a",ce,a((D=o(r))==null?void 0:D.whatsNextJoinDiscordButton),1),e("a",ue,[t[8]||(t[8]=e("i",{class:"fas fa-donate"},null,-1)),p(" "+a((_=o(r))==null?void 0:_.donate),1)])])):(n(),s("div",ne,[e("h2",re,a((u=o(r))==null?void 0:u.linkYourDiscordAccount),1),e("p",ie,a((g=o(r))==null?void 0:g.linkYourDiscordAccountDescription),1),e("a",{rel:"noopener noreferrer",class:"inline-block px-6 py-3 text-lg bg-white text-gray-900 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none decoration-none cursor-pointer",onClick:t[2]||(t[2]=(...l)=>o(y).oAuthManager.openOAuth2Window&&o(y).oAuthManager.openOAuth2Window(...l))},a((h=o(r))==null?void 0:h.linkYourDiscordAccountButton),1)])):(n(),s("div",se,[t[6]||(t[6]=e("a",{draggable:"false",class:"inline-block px-6 py-3 text-lg text-gray-900 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 decoration-none mx2 bg-[#F96854]",target:"_blank",href:"https://patreon.com/Timeraa"},[e("i",{class:"fab fa-patreon"}),p(" Patreon")],-1)),t[7]||(t[7]=e("a",{draggable:"false",class:"inline-block px-6 py-3 text-lg text-gray-900 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 decoration-none mx2 bg-yellow",target:"_blank",href:"https://github.com/sponsors/PreMiD"},[e("i",{class:"fab fa-github"}),p(" GitHub Sponsors")],-1)),e("a",{rel:"noopener noreferrer",class:"inline-block px-6 py-3 text-lg bg-white text-gray-900 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none decoration-none cursor-pointer mx2",onClick:t[1]||(t[1]=l=>m.value=!0)}," Next ")])):(n(),s("div",oe,[e("a",{rel:"noopener noreferrer",class:"inline-block px-6 py-3 text-lg bg-white text-gray-900 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none decoration-none cursor-pointer",onClick:t[0]||(t[0]=l=>d.value=!0)}," Next ")]))])])}}});V();const S=z(ge);E(S);S.mount("#app");
//# sourceMappingURL=updated-BT74r_Pt.js.map
