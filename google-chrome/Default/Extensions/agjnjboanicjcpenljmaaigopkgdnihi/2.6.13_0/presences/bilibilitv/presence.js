var __webpack_exports__={};const presence=new Presence({clientId:"972073369564483584"}),browsingTimestamp=Math.floor(Date.now()/1e3);async function getStrings(){return presence.getStrings({play:"general.playing",pause:"general.paused",search:"general.search",episode:"general.episode",browsing:"general.browsing",viewHome:"general.viewHome",viewChannel:"general.viewChannel",watchingVid:"general.watchingVid",viewCategory:"general.viewCategory",readingAbout:"general.readingAbout",searchSomething:"general.searchSomething",buttonWatchVideo:"general.buttonWatchVideo",buttonViewEpisode:"general.buttonViewEpisode"},await presence.getSetting("lang").catch((()=>"en")))}let strings,oldLang=null;presence.on("UpdateData",(async()=>{const e=await presence.getSetting("lang").catch((()=>"en")),t={largeImageKey:"https://cdn.rcd.gg/PreMiD/websites/B/bilibilitv/assets/logo.png",startTimestamp:browsingTimestamp},{hostname:a,href:i,pathname:s}=document.location,n=s?.split("/"),r=document.querySelector(".bstar-meta__title")?.textContent,o=!document.querySelector("img.player-mobile-icon.player-mobile-pause-icon.player-mobile-active"),l=document.querySelector('meta[property="og:image"]')?.content?.split("?")?.[0]??"https://cdn.rcd.gg/PreMiD/websites/B/bilibilitv/assets/logo.png";if(oldLang===e&&strings||(oldLang=e,strings=await getStrings()),"www.bilibili.tv"===a){const e=isNaN(Number(n[2]))?n[2]:n[1];switch(e){case"video":t.details=strings.watchingVid,t.state=r,t.buttons=[{label:strings.buttonWatchVideo,url:i}];break;case"play":t.details=r,t.state=`${strings.episode} ${document.querySelector("a.ep-item.ep-item--active").textContent?.replace(/\D/g,"")}`,t.buttons=[{label:strings.buttonViewEpisode,url:i}];break;case"media":t.details=strings.readingAbout.replace(":",""),t.state=document.querySelector(".media-detail__title").textContent,t.smallImageKey="https://cdn.rcd.gg/PreMiD/resources/reading.png",t.smallImageText=strings.browsing;break;case"popular":t.details=strings.viewCategory.replace(":",""),t.state="Popular",t.smallImageKey="https://cdn.rcd.gg/PreMiD/resources/reading.png",t.smallImageText=strings.browsing;break;case"space":t.details=strings.viewChannel.replace(":",""),t.state=document.querySelector(".space-info__name")?.textContent??strings.searchSomething;break;case"index":t.details=strings.search,t.state=document.querySelector("a.router-link-exact-active.router-link-active.anime-radio__tag.anime-radio__tag--active")?.textContent??strings.searchSomething,t.smallImageKey="https://cdn.rcd.gg/PreMiD/resources/search.png",t.smallImageText=strings.browsing;break;default:t.details=strings.viewHome,t.smallImageKey="https://cdn.rcd.gg/PreMiD/resources/reading.png",t.smallImageText=strings.browsing}"video"!==e&&"play"!==e||(t.largeImageKey=l,t.smallImageKey=o?"https://cdn.rcd.gg/PreMiD/resources/play.png":"https://cdn.rcd.gg/PreMiD/resources/pause.png",o&&([t.startTimestamp,t.endTimestamp]=presence.getTimestamps(presence.timestampFromFormat(document.querySelector(".player-mobile-time-current-text")?.textContent??"00:00"),presence.timestampFromFormat(document.querySelector(".player-mobile-time-total-text")?.textContent??"00:00"))))}else"studio.bilibili.tv"===a&&(n[1]?t.details=document.querySelector(".is-active").textContent:t.details=document.querySelector(".nav-menu__menu-title").textContent,t.state="Bilibili Studio");t.details?presence.setActivity(t):presence.setActivity()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCtDQUFpRCxnREFDcEZBLEtBQ0NiLEVBQWFFLGVBQWdCRixFQUFhMkIsY0FDdkN4RCxTQUFTeUQsY0FBY3pELFNBQVMwRCxvQkFBb0J2QixTQUFTSyxjQUFjLHFDQUNyRUMsYUFBZSxTQUFVekMsU0FBUzBELG9CQUFvQnZCLFNBQVNLLGNBQWMsbUNBQzdFQyxhQUFlLFdBR3JDLEtBQ3NCLHVCQUFiVCxJQUNESyxFQUFVLEdBQ1ZSLEVBQWFtQixRQUFVYixTQUFTSyxjQUFjLGNBQWNDLFlBRTVEWixFQUFhbUIsUUFBVWIsU0FBU0ssY0FBYyx5QkFBeUJDLFlBRTNFWixFQUFhb0IsTUFBUSxtQkFFckJwQixFQUFhbUIsUUFDYmhELFNBQVMyRCxZQUFZOUIsR0FFckI3QixTQUFTMkQsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3ByZXNlbmNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHByZXNlbmNlID0gbmV3IFByZXNlbmNlKHtcbiAgICBjbGllbnRJZDogXCI5NzIwNzMzNjk1NjQ0ODM1ODRcIixcbn0pLCBicm93c2luZ1RpbWVzdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuYXN5bmMgZnVuY3Rpb24gZ2V0U3RyaW5ncygpIHtcbiAgICByZXR1cm4gcHJlc2VuY2UuZ2V0U3RyaW5ncyh7XG4gICAgICAgIHBsYXk6IFwiZ2VuZXJhbC5wbGF5aW5nXCIsXG4gICAgICAgIHBhdXNlOiBcImdlbmVyYWwucGF1c2VkXCIsXG4gICAgICAgIHNlYXJjaDogXCJnZW5lcmFsLnNlYXJjaFwiLFxuICAgICAgICBlcGlzb2RlOiBcImdlbmVyYWwuZXBpc29kZVwiLFxuICAgICAgICBicm93c2luZzogXCJnZW5lcmFsLmJyb3dzaW5nXCIsXG4gICAgICAgIHZpZXdIb21lOiBcImdlbmVyYWwudmlld0hvbWVcIixcbiAgICAgICAgdmlld0NoYW5uZWw6IFwiZ2VuZXJhbC52aWV3Q2hhbm5lbFwiLFxuICAgICAgICB3YXRjaGluZ1ZpZDogXCJnZW5lcmFsLndhdGNoaW5nVmlkXCIsXG4gICAgICAgIHZpZXdDYXRlZ29yeTogXCJnZW5lcmFsLnZpZXdDYXRlZ29yeVwiLFxuICAgICAgICByZWFkaW5nQWJvdXQ6IFwiZ2VuZXJhbC5yZWFkaW5nQWJvdXRcIixcbiAgICAgICAgc2VhcmNoU29tZXRoaW5nOiBcImdlbmVyYWwuc2VhcmNoU29tZXRoaW5nXCIsXG4gICAgICAgIGJ1dHRvbldhdGNoVmlkZW86IFwiZ2VuZXJhbC5idXR0b25XYXRjaFZpZGVvXCIsXG4gICAgICAgIGJ1dHRvblZpZXdFcGlzb2RlOiBcImdlbmVyYWwuYnV0dG9uVmlld0VwaXNvZGVcIixcbiAgICB9LCBhd2FpdCBwcmVzZW5jZS5nZXRTZXR0aW5nKFwibGFuZ1wiKS5jYXRjaCgoKSA9PiBcImVuXCIpKTtcbn1cbmxldCBzdHJpbmdzLCBvbGRMYW5nID0gbnVsbDtcbnByZXNlbmNlLm9uKFwiVXBkYXRlRGF0YVwiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbmV3TGFuZyA9IGF3YWl0IHByZXNlbmNlLmdldFNldHRpbmcoXCJsYW5nXCIpLmNhdGNoKCgpID0+IFwiZW5cIiksIHByZXNlbmNlRGF0YSA9IHtcbiAgICAgICAgbGFyZ2VJbWFnZUtleTogXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3dlYnNpdGVzL0IvYmlsaWJpbGl0di9hc3NldHMvbG9nby5wbmdcIixcbiAgICAgICAgc3RhcnRUaW1lc3RhbXA6IGJyb3dzaW5nVGltZXN0YW1wLFxuICAgIH0sIHsgaG9zdG5hbWUsIGhyZWYsIHBhdGhuYW1lIH0gPSBkb2N1bWVudC5sb2NhdGlvbiwgcGF0aEFycmF5ID0gcGF0aG5hbWU/LnNwbGl0KFwiL1wiKSwgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJzdGFyLW1ldGFfX3RpdGxlXCIpPy50ZXh0Q29udGVudCwgcGxheWluZyA9ICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW1nLnBsYXllci1tb2JpbGUtaWNvbi5wbGF5ZXItbW9iaWxlLXBhdXNlLWljb24ucGxheWVyLW1vYmlsZS1hY3RpdmVcIiksIHRodW1ibmFpbCA9IGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwib2c6aW1hZ2VcIl0nKVxuICAgICAgICA/LmNvbnRlbnQ/LnNwbGl0KFwiP1wiKT8uWzBdID8/XG4gICAgICAgIFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC93ZWJzaXRlcy9CL2JpbGliaWxpdHYvYXNzZXRzL2xvZ28ucG5nXCI7XG4gICAgaWYgKG9sZExhbmcgIT09IG5ld0xhbmcgfHwgIXN0cmluZ3MpIHtcbiAgICAgICAgb2xkTGFuZyA9IG5ld0xhbmc7XG4gICAgICAgIHN0cmluZ3MgPSBhd2FpdCBnZXRTdHJpbmdzKCk7XG4gICAgfVxuICAgIGlmIChob3N0bmFtZSA9PT0gXCJ3d3cuYmlsaWJpbGkudHZcIikge1xuICAgICAgICBjb25zdCBwYXRoS2V5ID0gaXNOYU4oTnVtYmVyKHBhdGhBcnJheVsyXSkpID8gcGF0aEFycmF5WzJdIDogcGF0aEFycmF5WzFdO1xuICAgICAgICBzd2l0Y2ggKHBhdGhLZXkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOiB7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBzdHJpbmdzLndhdGNoaW5nVmlkO1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zdGF0ZSA9IHRpdGxlO1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5idXR0b25zID0gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RyaW5ncy5idXR0b25XYXRjaFZpZGVvLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBocmVmLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwicGxheVwiOiB7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSB0aXRsZTtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBgJHtzdHJpbmdzLmVwaXNvZGV9ICR7ZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJhLmVwLWl0ZW0uZXAtaXRlbS0tYWN0aXZlXCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0Q29udGVudD8ucmVwbGFjZSgvXFxEL2csIFwiXCIpfWA7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdHJpbmdzLmJ1dHRvblZpZXdFcGlzb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBocmVmLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibWVkaWFcIjoge1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gc3RyaW5ncy5yZWFkaW5nQWJvdXQucmVwbGFjZShcIjpcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZWRpYS1kZXRhaWxfX3RpdGxlXCIpLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlS2V5ID0gXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3Jlc291cmNlcy9yZWFkaW5nLnBuZ1wiO1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5zbWFsbEltYWdlVGV4dCA9IHN0cmluZ3MuYnJvd3Npbmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwicG9wdWxhclwiOiB7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBzdHJpbmdzLnZpZXdDYXRlZ29yeS5yZXBsYWNlKFwiOlwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc3RhdGUgPSBcIlBvcHVsYXJcIjtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZUtleSA9IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvcmVhZGluZy5wbmdcIjtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZVRleHQgPSBzdHJpbmdzLmJyb3dzaW5nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInNwYWNlXCI6IHtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IHN0cmluZ3Mudmlld0NoYW5uZWwucmVwbGFjZShcIjpcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID1cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zcGFjZS1pbmZvX19uYW1lXCIpPy50ZXh0Q29udGVudCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5ncy5zZWFyY2hTb21ldGhpbmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW5kZXhcIjoge1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gc3RyaW5ncy5zZWFyY2g7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID1cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImEucm91dGVyLWxpbmstZXhhY3QtYWN0aXZlLnJvdXRlci1saW5rLWFjdGl2ZS5hbmltZS1yYWRpb19fdGFnLmFuaW1lLXJhZGlvX190YWctLWFjdGl2ZVwiKT8udGV4dENvbnRlbnQgPz8gc3RyaW5ncy5zZWFyY2hTb21ldGhpbmc7XG4gICAgICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VLZXkgPSBcImh0dHBzOi8vY2RuLnJjZC5nZy9QcmVNaUQvcmVzb3VyY2VzL3NlYXJjaC5wbmdcIjtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZVRleHQgPSBzdHJpbmdzLmJyb3dzaW5nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHByZXNlbmNlRGF0YS5kZXRhaWxzID0gc3RyaW5ncy52aWV3SG9tZTtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZUtleSA9IFwiaHR0cHM6Ly9jZG4ucmNkLmdnL1ByZU1pRC9yZXNvdXJjZXMvcmVhZGluZy5wbmdcIjtcbiAgICAgICAgICAgICAgICBwcmVzZW5jZURhdGEuc21hbGxJbWFnZVRleHQgPSBzdHJpbmdzLmJyb3dzaW5nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRoS2V5ID09PSBcInZpZGVvXCIgfHwgcGF0aEtleSA9PT0gXCJwbGF5XCIpIHtcbiAgICAgICAgICAgIHByZXNlbmNlRGF0YS5sYXJnZUltYWdlS2V5ID0gdGh1bWJuYWlsO1xuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLnNtYWxsSW1hZ2VLZXkgPSBwbGF5aW5nID8gXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3Jlc291cmNlcy9wbGF5LnBuZ1wiIDogXCJodHRwczovL2Nkbi5yY2QuZ2cvUHJlTWlEL3Jlc291cmNlcy9wYXVzZS5wbmdcIjtcbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgW3ByZXNlbmNlRGF0YS5zdGFydFRpbWVzdGFtcCwgcHJlc2VuY2VEYXRhLmVuZFRpbWVzdGFtcF0gPVxuICAgICAgICAgICAgICAgICAgICBwcmVzZW5jZS5nZXRUaW1lc3RhbXBzKHByZXNlbmNlLnRpbWVzdGFtcEZyb21Gb3JtYXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItbW9iaWxlLXRpbWUtY3VycmVudC10ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA/LnRleHRDb250ZW50ID8/IFwiMDA6MDBcIiksIHByZXNlbmNlLnRpbWVzdGFtcEZyb21Gb3JtYXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItbW9iaWxlLXRpbWUtdG90YWwtdGV4dFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgPy50ZXh0Q29udGVudCA/PyBcIjAwOjAwXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChob3N0bmFtZSA9PT0gXCJzdHVkaW8uYmlsaWJpbGkudHZcIikge1xuICAgICAgICBpZiAocGF0aEFycmF5WzFdKVxuICAgICAgICAgICAgcHJlc2VuY2VEYXRhLmRldGFpbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlzLWFjdGl2ZVwiKS50ZXh0Q29udGVudDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmVzZW5jZURhdGEuZGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2LW1lbnVfX21lbnUtdGl0bGVcIikudGV4dENvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJlc2VuY2VEYXRhLnN0YXRlID0gXCJCaWxpYmlsaSBTdHVkaW9cIjtcbiAgICB9XG4gICAgaWYgKHByZXNlbmNlRGF0YS5kZXRhaWxzKVxuICAgICAgICBwcmVzZW5jZS5zZXRBY3Rpdml0eShwcmVzZW5jZURhdGEpO1xuICAgIGVsc2VcbiAgICAgICAgcHJlc2VuY2Uuc2V0QWN0aXZpdHkoKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pY0hKbGMyVnVZMlV1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SndjbVZ6Wlc1alpTNTBjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVN4TlFVRk5MRkZCUVZFc1IwRkJSeXhKUVVGSkxGRkJRVkVzUTBGQlF6dEpRVU0xUWl4UlFVRlJMRVZCUVVVc2IwSkJRVzlDTzBOQlF6bENMRU5CUVVNc1JVRkRSaXhwUWtGQmFVSXNSMEZCUnl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVWQlFVVXNSMEZCUnl4SlFVRkpMRU5CUVVNc1EwRkJRenRCUVVWdVJDeExRVUZMTEZWQlFWVXNWVUZCVlR0SlFVTjRRaXhQUVVGUExGRkJRVkVzUTBGQlF5eFZRVUZWTEVOQlEzcENPMUZCUTBNc1NVRkJTU3hGUVVGRkxHbENRVUZwUWp0UlFVTjJRaXhMUVVGTExFVkJRVVVzWjBKQlFXZENPMUZCUTNaQ0xFMUJRVTBzUlVGQlJTeG5Ra0ZCWjBJN1VVRkRlRUlzVDBGQlR5eEZRVUZGTEdsQ1FVRnBRanRSUVVNeFFpeFJRVUZSTEVWQlFVVXNhMEpCUVd0Q08xRkJRelZDTEZGQlFWRXNSVUZCUlN4clFrRkJhMEk3VVVGRE5VSXNWMEZCVnl4RlFVRkZMSEZDUVVGeFFqdFJRVU5zUXl4WFFVRlhMRVZCUVVVc2NVSkJRWEZDTzFGQlEyeERMRmxCUVZrc1JVRkJSU3h6UWtGQmMwSTdVVUZEY0VNc1dVRkJXU3hGUVVGRkxITkNRVUZ6UWp0UlFVTndReXhsUVVGbExFVkJRVVVzZVVKQlFYbENPMUZCUXpGRExHZENRVUZuUWl4RlFVRkZMREJDUVVFd1FqdFJRVU0xUXl4cFFrRkJhVUlzUlVGQlJTd3lRa0ZCTWtJN1MwRkRPVU1zUlVGRFJDeE5RVUZOTEZGQlFWRXNRMEZCUXl4VlFVRlZMRU5CUVZNc1RVRkJUU3hEUVVGRExFTkJRVU1zUzBGQlN5eERRVUZETEVkQlFVY3NSVUZCUlN4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVNelJDeERRVUZETzBGQlEwZ3NRMEZCUXp0QlFVTkVMRWxCUVVrc1QwRkJLME1zUlVGRGJFUXNUMEZCVHl4SFFVRlhMRWxCUVVrc1EwRkJRenRCUVVWNFFpeFJRVUZSTEVOQlFVTXNSVUZCUlN4RFFVRkRMRmxCUVZrc1JVRkJSU3hMUVVGTExFbEJRVWtzUlVGQlJUdEpRVU53UXl4TlFVRk5MRTlCUVU4c1IwRkJSeXhOUVVGTkxGRkJRVkVzUTBGQlF5eFZRVUZWTEVOQlFWTXNUVUZCVFN4RFFVRkRMRU5CUVVNc1MwRkJTeXhEUVVGRExFZEJRVWNzUlVGQlJTeERRVUZETEVsQlFVa3NRMEZCUXl4RlFVTXhSU3haUVVGWkxFZEJRV2xDTzFGQlF6VkNMR0ZCUVdFc1JVRkRXaXhwUlVGQmFVVTdVVUZEYkVVc1kwRkJZeXhGUVVGRkxHbENRVUZwUWp0TFFVTnFReXhGUVVORUxFVkJRVVVzVVVGQlVTeEZRVUZGTEVsQlFVa3NSVUZCUlN4UlFVRlJMRVZCUVVVc1IwRkJSeXhSUVVGUkxFTkJRVU1zVVVGQlVTeEZRVU5vUkN4VFFVRlRMRWRCUVVjc1VVRkJVU3hGUVVGRkxFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNSVUZEYUVNc1MwRkJTeXhIUVVGSExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFVTXNiMEpCUVc5Q0xFTkJRVU1zUlVGQlJTeFhRVUZYTEVWQlEycEZMRTlCUVU4c1IwRkJSeXhEUVVGRExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlEyaERMSE5GUVVGelJTeERRVU4wUlN4RlFVTkVMRk5CUVZNc1IwRkRVaXhSUVVGUk8xTkJRMDRzWVVGQllTeERRVUZyUWl3eVFrRkJNa0lzUTBGQlF6dFJRVU0xUkN4RlFVRkZMRTlCUVU4c1JVRkJSU3hMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXl4RFFVRkRMRU5CUVVNN1VVRkRNMElzYVVWQlFXbEZMRU5CUVVNN1NVRkRjRVVzU1VGQlNTeFBRVUZQTEV0QlFVc3NUMEZCVHl4SlFVRkpMRU5CUVVNc1QwRkJUeXhGUVVGRk8xRkJRM0JETEU5QlFVOHNSMEZCUnl4UFFVRlBMRU5CUVVNN1VVRkRiRUlzVDBGQlR5eEhRVUZITEUxQlFVMHNWVUZCVlN4RlFVRkZMRU5CUVVNN1MwRkROMEk3U1VGRlJDeEpRVUZKTEZGQlFWRXNTMEZCU3l4cFFrRkJhVUlzUlVGQlJUdFJRVU51UXl4TlFVRk5MRTlCUVU4c1IwRkJSeXhMUVVGTExFTkJRVU1zVFVGQlRTeERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zVTBGQlV5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMUZCUXpGRkxGRkJRVkVzVDBGQlR5eEZRVUZGTzFsQlEyaENMRXRCUVVzc1QwRkJUeXhEUVVGRExFTkJRVU03WjBKQlEySXNXVUZCV1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhQUVVGUExFTkJRVU1zVjBGQlZ5eERRVUZETzJkQ1FVTXpReXhaUVVGWkxFTkJRVU1zUzBGQlN5eEhRVUZITEV0QlFVc3NRMEZCUXp0blFrRkRNMElzV1VGQldTeERRVUZETEU5QlFVOHNSMEZCUnp0dlFrRkRkRUk3ZDBKQlEwTXNTMEZCU3l4RlFVRkZMRTlCUVU4c1EwRkJReXhuUWtGQlowSTdkMEpCUXk5Q0xFZEJRVWNzUlVGQlJTeEpRVUZKTzNGQ1FVTlVPMmxDUVVORUxFTkJRVU03WjBKQlEwWXNUVUZCVFR0aFFVTk9PMWxCUTBRc1MwRkJTeXhOUVVGTkxFTkJRVU1zUTBGQlF6dG5Ra0ZEV2l4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExFdEJRVXNzUTBGQlF6dG5Ra0ZETjBJc1dVRkJXU3hEUVVGRExFdEJRVXNzUjBGQlJ5eEhRVUZITEU5QlFVOHNRMEZCUXl4UFFVRlBMRWxCUVVrc1VVRkJVVHR4UWtGRGFrUXNZVUZCWVN4RFFVRkRMREpDUVVFeVFpeERRVUZETzNGQ1FVTXhReXhYUVVGWExFVkJRVVVzVDBGQlR5eERRVUZETEV0QlFVc3NSVUZCUlN4RlFVRkZMRU5CUVVNc1JVRkJSU3hEUVVGRE8yZENRVU53UXl4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSE8yOUNRVU4wUWp0M1FrRkRReXhMUVVGTExFVkJRVVVzVDBGQlR5eERRVUZETEdsQ1FVRnBRanQzUWtGRGFFTXNSMEZCUnl4RlFVRkZMRWxCUVVrN2NVSkJRMVE3YVVKQlEwUXNRMEZCUXp0blFrRkRSaXhOUVVGTk8yRkJRMDQ3V1VGRFJDeExRVUZMTEU5QlFVOHNRMEZCUXl4RFFVRkRPMmRDUVVOaUxGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NUMEZCVHl4RFFVRkRMRmxCUVZrc1EwRkJReXhQUVVGUExFTkJRVU1zUjBGQlJ5eEZRVUZGTEVWQlFVVXNRMEZCUXl4RFFVRkRPMmRDUVVNM1JDeFpRVUZaTEVOQlFVTXNTMEZCU3l4SFFVRkhMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRekZETEhOQ1FVRnpRaXhEUVVOMFFpeERRVUZETEZkQlFWY3NRMEZCUXp0blFrRkRaQ3haUVVGWkxFTkJRVU1zWVVGQllTeHZSRUZCYVVJc1EwRkJRenRuUWtGRE5VTXNXVUZCV1N4RFFVRkRMR05CUVdNc1IwRkJSeXhQUVVGUExFTkJRVU1zVVVGQlVTeERRVUZETzJkQ1FVTXZReXhOUVVGTk8yRkJRMDQ3V1VGRFJDeExRVUZMTEZOQlFWTXNRMEZCUXl4RFFVRkRPMmRDUVVObUxGbEJRVmtzUTBGQlF5eFBRVUZQTEVkQlFVY3NUMEZCVHl4RFFVRkRMRmxCUVZrc1EwRkJReXhQUVVGUExFTkJRVU1zUjBGQlJ5eEZRVUZGTEVWQlFVVXNRMEZCUXl4RFFVRkRPMmRDUVVNM1JDeFpRVUZaTEVOQlFVTXNTMEZCU3l4SFFVRkhMRk5CUVZNc1EwRkJRenRuUWtGREwwSXNXVUZCV1N4RFFVRkRMR0ZCUVdFc2IwUkJRV2xDTEVOQlFVTTdaMEpCUXpWRExGbEJRVmtzUTBGQlF5eGpRVUZqTEVkQlFVY3NUMEZCVHl4RFFVRkRMRkZCUVZFc1EwRkJRenRuUWtGREwwTXNUVUZCVFR0aFFVTk9PMWxCUTBRc1MwRkJTeXhQUVVGUExFTkJRVU1zUTBGQlF6dG5Ra0ZEWWl4WlFVRlpMRU5CUVVNc1QwRkJUeXhIUVVGSExFOUJRVThzUTBGQlF5eFhRVUZYTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWRCUVVjc1JVRkJSU3hGUVVGRkxFTkJRVU1zUTBGQlF6dG5Ra0ZETlVRc1dVRkJXU3hEUVVGRExFdEJRVXM3YjBKQlEycENMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRVU1zYlVKQlFXMUNMRU5CUVVNc1JVRkJSU3hYUVVGWE8zZENRVU40UkN4UFFVRlBMRU5CUVVNc1pVRkJaU3hEUVVGRE8yZENRVU42UWl4TlFVRk5PMkZCUTA0N1dVRkRSQ3hMUVVGTExFOUJRVThzUTBGQlF5eERRVUZETzJkQ1FVTmlMRmxCUVZrc1EwRkJReXhQUVVGUExFZEJRVWNzVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXp0blFrRkRkRU1zV1VGQldTeERRVUZETEV0QlFVczdiMEpCUTJwQ0xGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlEzSkNMSGxHUVVGNVJpeERRVU42Uml4RlFVRkZMRmRCUVZjc1NVRkJTU3hQUVVGUExFTkJRVU1zWlVGQlpTeERRVUZETzJkQ1FVTXpReXhaUVVGWkxFTkJRVU1zWVVGQllTeHRSRUZCWjBJc1EwRkJRenRuUWtGRE0wTXNXVUZCV1N4RFFVRkRMR05CUVdNc1IwRkJSeXhQUVVGUExFTkJRVU1zVVVGQlVTeERRVUZETzJkQ1FVTXZReXhOUVVGTk8yRkJRMDQ3V1VGRFJDeFBRVUZQTEVOQlFVTXNRMEZCUXp0blFrRkRVaXhaUVVGWkxFTkJRVU1zVDBGQlR5eEhRVUZITEU5QlFVOHNRMEZCUXl4UlFVRlJMRU5CUVVNN1owSkJRM2hETEZsQlFWa3NRMEZCUXl4aFFVRmhMRzlFUVVGcFFpeERRVUZETzJkQ1FVTTFReXhaUVVGWkxFTkJRVU1zWTBGQll5eEhRVUZITEU5QlFVOHNRMEZCUXl4UlFVRlJMRU5CUVVNN1owSkJReTlETEUxQlFVMDdZVUZEVGp0VFFVTkVPMUZCUTBRc1NVRkJTU3hQUVVGUExFdEJRVXNzVDBGQlR5eEpRVUZKTEU5QlFVOHNTMEZCU3l4TlFVRk5MRVZCUVVVN1dVRkRPVU1zV1VGQldTeERRVUZETEdGQlFXRXNSMEZCUnl4VFFVRlRMRU5CUVVNN1dVRkRka01zV1VGQldTeERRVUZETEdGQlFXRXNSMEZCUnl4UFFVRlBMRU5CUVVNc1EwRkJReXhuUkVGQllTeERRVUZETEdkRVFVRmhMRU5CUVVNN1dVRkRiRVVzU1VGQlNTeFBRVUZQTEVWQlFVVTdaMEpCUTFvc1EwRkJReXhaUVVGWkxFTkJRVU1zWTBGQll5eEZRVUZGTEZsQlFWa3NRMEZCUXl4WlFVRlpMRU5CUVVNN2IwSkJRM1pFTEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUTNKQ0xGRkJRVkVzUTBGQlF5eHRRa0ZCYlVJc1EwRkRNMElzVVVGQlVTeERRVUZETEdGQlFXRXNRMEZCUXl4clEwRkJhME1zUTBGQlF6dDNRa0ZEZWtRc1JVRkJSU3hYUVVGWExFbEJRVWtzVDBGQlR5eERRVU42UWl4RlFVTkVMRkZCUVZFc1EwRkJReXh0UWtGQmJVSXNRMEZETTBJc1VVRkJVU3hEUVVGRExHRkJRV0VzUTBGQlF5eG5RMEZCWjBNc1EwRkJRenQzUWtGRGRrUXNSVUZCUlN4WFFVRlhMRWxCUVVrc1QwRkJUeXhEUVVONlFpeERRVU5FTEVOQlFVTTdZVUZEU0R0VFFVTkVPMHRCUlVRN1UwRkJUU3hKUVVGSkxGRkJRVkVzUzBGQlN5eHZRa0ZCYjBJc1JVRkJSVHRSUVVNM1F5eEpRVUZKTEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNN1dVRkRaaXhaUVVGWkxFTkJRVU1zVDBGQlR5eEhRVUZITEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc1dVRkJXU3hEUVVGRExFTkJRVU1zVjBGQlZ5eERRVUZETzJGQlEzQkZPMWxCUTBvc1dVRkJXU3hEUVVGRExFOUJRVThzUjBGQlJ5eFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVTTFReXgxUWtGQmRVSXNRMEZEZGtJc1EwRkJReXhYUVVGWExFTkJRVU03VTBGRFpEdFJRVU5FTEZsQlFWa3NRMEZCUXl4TFFVRkxMRWRCUVVjc2FVSkJRV2xDTEVOQlFVTTdTMEZEZGtNN1NVRkZSQ3hKUVVGSkxGbEJRVmtzUTBGQlF5eFBRVUZQTzFGQlFVVXNVVUZCVVN4RFFVRkRMRmRCUVZjc1EwRkJReXhaUVVGWkxFTkJRVU1zUTBGQlF6czdVVUZEZUVRc1VVRkJVU3hEUVVGRExGZEJRVmNzUlVGQlJTeERRVUZETzBGQlF6ZENMRU5CUVVNc1EwRkJReXhEUVVGREluMD0iXSwibmFtZXMiOlsicHJlc2VuY2UiLCJQcmVzZW5jZSIsImNsaWVudElkIiwiYnJvd3NpbmdUaW1lc3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiYXN5bmMiLCJnZXRTdHJpbmdzIiwicGxheSIsInBhdXNlIiwic2VhcmNoIiwiZXBpc29kZSIsImJyb3dzaW5nIiwidmlld0hvbWUiLCJ2aWV3Q2hhbm5lbCIsIndhdGNoaW5nVmlkIiwidmlld0NhdGVnb3J5IiwicmVhZGluZ0Fib3V0Iiwic2VhcmNoU29tZXRoaW5nIiwiYnV0dG9uV2F0Y2hWaWRlbyIsImJ1dHRvblZpZXdFcGlzb2RlIiwiZ2V0U2V0dGluZyIsImNhdGNoIiwic3RyaW5ncyIsIm9sZExhbmciLCJvbiIsIm5ld0xhbmciLCJwcmVzZW5jZURhdGEiLCJsYXJnZUltYWdlS2V5Iiwic3RhcnRUaW1lc3RhbXAiLCJob3N0bmFtZSIsImhyZWYiLCJwYXRobmFtZSIsImRvY3VtZW50IiwibG9jYXRpb24iLCJwYXRoQXJyYXkiLCJzcGxpdCIsInRpdGxlIiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwicGxheWluZyIsInRodW1ibmFpbCIsImNvbnRlbnQiLCJwYXRoS2V5IiwiaXNOYU4iLCJOdW1iZXIiLCJkZXRhaWxzIiwic3RhdGUiLCJidXR0b25zIiwibGFiZWwiLCJ1cmwiLCJyZXBsYWNlIiwic21hbGxJbWFnZUtleSIsInNtYWxsSW1hZ2VUZXh0IiwiZW5kVGltZXN0YW1wIiwiZ2V0VGltZXN0YW1wcyIsInRpbWVzdGFtcEZyb21Gb3JtYXQiLCJzZXRBY3Rpdml0eSJdLCJzb3VyY2VSb290IjoiIn0=
undefined;