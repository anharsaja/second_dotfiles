var content=function(){"use strict";var rL=Object.defineProperty;var Yu=q=>{throw TypeError(q)};var aL=(q,A,D)=>A in q?rL(q,A,{enumerable:!0,configurable:!0,writable:!0,value:D}):q[A]=D;var $=(q,A,D)=>aL(q,typeof A!="symbol"?A+"":A,D),Yr=(q,A,D)=>A.has(q)||Yu("Cannot "+D);var j=(q,A,D)=>(Yr(q,A,"read from private field"),D?D.call(q):A.get(q)),me=(q,A,D)=>A.has(q)?Yu("Cannot add the same private member more than once"):A instanceof WeakSet?A.add(q):A.set(q,D),ae=(q,A,D,X)=>(Yr(q,A,"write to private field"),X?X.call(q,D):A.set(q,D),D),bi=(q,A,D)=>(Yr(q,A,"access private method"),D);var Xr=(q,A,D,X)=>({set _(Ee){ae(q,A,Ee,D)},get _(){return j(q,A,X)}});var zu,Ku,De,ze,Lt,Ue,Ke,Et,Fe,oe,ke,Ot,Rt,Ct,Ye,be,Xe,Qe,vi,St,xi,Ze,Qu,Qr;function q(e){return e}const A=((Ku=(zu=globalThis.browser)==null?void 0:zu.runtime)==null?void 0:Ku.id)==null?globalThis.chrome:globalThis.browser;var D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ee(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),t}var Zr={exports:{}};(function(e){var n=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new r(u,d||l,m),h=t?t+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],p]:l._events[h].push(p):(l._events[h]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)n.call(u,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=t?t+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,p=d.length,h=new Array(p);m<p;m++)h[m]=d[m].fn;return h},o.prototype.listenerCount=function(c){var u=t?t+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,m,p,h){var v=t?t+c:c;if(!this._events[v])return!1;var g=this._events[v],x=arguments.length,P,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,m),!0;case 5:return g.fn.call(g.context,u,d,m,p),!0;case 6:return g.fn.call(g.context,u,d,m,p,h),!0}for(_=1,P=new Array(x-1);_<x;_++)P[_-1]=arguments[_];g.fn.apply(g.context,P)}else{var S=g.length,E;for(_=0;_<S;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),x){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,u);break;case 3:g[_].fn.call(g[_].context,u,d);break;case 4:g[_].fn.call(g[_].context,u,d,m);break;default:if(!P)for(E=1,P=new Array(x-1);E<x;E++)P[E-1]=arguments[E];g[_].fn.apply(g[_].context,P)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,m){var p=t?t+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var h=this._events[p];if(h.fn)h.fn===u&&(!m||h.once)&&(!d||h.context===d)&&s(this,p);else{for(var v=0,g=[],x=h.length;v<x;v++)(h[v].fn!==u||m&&!h[v].once||d&&h[v].context!==d)&&g.push(h[v]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&s(this,u)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,e.exports=o})(Zr);var Zu=Zr.exports;const an=X(Zu);var Ju=typeof D=="object"&&D&&D.Object===Object&&D,Jr=Ju,ed=Jr,td=typeof self=="object"&&self&&self.Object===Object&&self,nd=ed||td||Function("return this")(),Ie=nd,id=Ie,rd=id.Symbol,et=rd;function ad(e,n){for(var t=-1,i=e==null?0:e.length,r=Array(i);++t<i;)r[t]=n(e[t],t,e);return r}var sn=ad,sd=Array.isArray,pe=sd,ea=et,ta=Object.prototype,od=ta.hasOwnProperty,ld=ta.toString,Ut=ea?ea.toStringTag:void 0;function cd(e){var n=od.call(e,Ut),t=e[Ut];try{e[Ut]=void 0;var i=!0}catch{}var r=ld.call(e);return i&&(n?e[Ut]=t:delete e[Ut]),r}var ud=cd,dd=Object.prototype,hd=dd.toString;function fd(e){return hd.call(e)}var md=fd,na=et,pd=ud,gd=md,vd="[object Null]",xd="[object Undefined]",ia=na?na.toStringTag:void 0;function bd(e){return e==null?e===void 0?xd:vd:ia&&ia in Object(e)?pd(e):gd(e)}var tt=bd;function yd(e){return e!=null&&typeof e=="object"}var Me=yd,_d=tt,$d=Me,Id="[object Symbol]";function wd(e){return typeof e=="symbol"||$d(e)&&_d(e)==Id}var yi=wd,ra=et,Ad=sn,Td=pe,Pd=yi,Md=1/0,aa=ra?ra.prototype:void 0,sa=aa?aa.toString:void 0;function oa(e){if(typeof e=="string")return e;if(Td(e))return Ad(e,oa)+"";if(Pd(e))return sa?sa.call(e):"";var n=e+"";return n=="0"&&1/e==-Md?"-0":n}var Dd=oa,kd=Dd;function Ld(e){return e==null?"":kd(e)}var la=Ld,Ed=la,Od=0;function Rd(e){var n=++Od;return Ed(e)+n}var Cd=Rd;const Sd=X(Cd),_i="api.premid.app",Ud="",Fd=["Disney+","Netflix","SoundCloud","Twitch","YouTube","YouTube Music"];async function nt(){return location.pathname==="/background.js"}var Nd=Object.prototype;function Bd(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Nd;return e===t}var on=Bd;function jd(e,n){return function(t){return e(n(t))}}var ca=jd,Vd=ca,Gd=Vd(Object.keys,Object),Hd=Gd,qd=on,Wd=Hd,zd=Object.prototype,Kd=zd.hasOwnProperty;function Yd(e){if(!qd(e))return Wd(e);var n=[];for(var t in Object(e))Kd.call(e,t)&&t!="constructor"&&n.push(t);return n}var ua=Yd;function Xd(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Oe=Xd,Qd=tt,Zd=Oe,Jd="[object AsyncFunction]",eh="[object Function]",th="[object GeneratorFunction]",nh="[object Proxy]";function ih(e){if(!Zd(e))return!1;var n=Qd(e);return n==eh||n==th||n==Jd||n==nh}var da=ih,rh=Ie,ah=rh["__core-js_shared__"],sh=ah,$i=sh,ha=function(){var e=/[^.]+$/.exec($i&&$i.keys&&$i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function oh(e){return!!ha&&ha in e}var lh=oh,ch=Function.prototype,uh=ch.toString;function dh(e){if(e!=null){try{return uh.call(e)}catch{}try{return e+""}catch{}}return""}var fa=dh,hh=da,fh=lh,mh=Oe,ph=fa,gh=/[\\^$.*+?()[\]{}|]/g,vh=/^\[object .+?Constructor\]$/,xh=Function.prototype,bh=Object.prototype,yh=xh.toString,_h=bh.hasOwnProperty,$h=RegExp("^"+yh.call(_h).replace(gh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ih(e){if(!mh(e)||fh(e))return!1;var n=hh(e)?$h:vh;return n.test(ph(e))}var wh=Ih;function Ah(e,n){return e==null?void 0:e[n]}var Th=Ah,Ph=wh,Mh=Th;function Dh(e,n){var t=Mh(e,n);return Ph(t)?t:void 0}var Be=Dh,kh=Be,Lh=Ie,Eh=kh(Lh,"DataView"),Oh=Eh,Rh=Be,Ch=Ie,Sh=Rh(Ch,"Map"),Ii=Sh,Uh=Be,Fh=Ie,Nh=Uh(Fh,"Promise"),Bh=Nh,jh=Be,Vh=Ie,Gh=jh(Vh,"Set"),Hh=Gh,qh=Be,Wh=Ie,zh=qh(Wh,"WeakMap"),Kh=zh,wi=Oh,Ai=Ii,Ti=Bh,Pi=Hh,Mi=Kh,ma=tt,it=fa,pa="[object Map]",Yh="[object Object]",ga="[object Promise]",va="[object Set]",xa="[object WeakMap]",ba="[object DataView]",Xh=it(wi),Qh=it(Ai),Zh=it(Ti),Jh=it(Pi),ef=it(Mi),je=ma;(wi&&je(new wi(new ArrayBuffer(1)))!=ba||Ai&&je(new Ai)!=pa||Ti&&je(Ti.resolve())!=ga||Pi&&je(new Pi)!=va||Mi&&je(new Mi)!=xa)&&(je=function(e){var n=ma(e),t=n==Yh?e.constructor:void 0,i=t?it(t):"";if(i)switch(i){case Xh:return ba;case Qh:return pa;case Zh:return ga;case Jh:return va;case ef:return xa}return n});var Ft=je,tf=tt,nf=Me,rf="[object Arguments]";function af(e){return nf(e)&&tf(e)==rf}var sf=af,ya=sf,of=Me,_a=Object.prototype,lf=_a.hasOwnProperty,cf=_a.propertyIsEnumerable,uf=ya(function(){return arguments}())?ya:function(e){return of(e)&&lf.call(e,"callee")&&!cf.call(e,"callee")},ln=uf,df=9007199254740991;function hf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=df}var Di=hf,ff=da,mf=Di;function pf(e){return e!=null&&mf(e.length)&&!ff(e)}var rt=pf,cn={exports:{}};function gf(){return!1}var vf=gf;cn.exports,function(e,n){var t=Ie,i=vf,r=n&&!n.nodeType&&n,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s?t.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||i;e.exports=c}(cn,cn.exports);var un=cn.exports,xf=tt,bf=Di,yf=Me,_f="[object Arguments]",$f="[object Array]",If="[object Boolean]",wf="[object Date]",Af="[object Error]",Tf="[object Function]",Pf="[object Map]",Mf="[object Number]",Df="[object Object]",kf="[object RegExp]",Lf="[object Set]",Ef="[object String]",Of="[object WeakMap]",Rf="[object ArrayBuffer]",Cf="[object DataView]",Sf="[object Float32Array]",Uf="[object Float64Array]",Ff="[object Int8Array]",Nf="[object Int16Array]",Bf="[object Int32Array]",jf="[object Uint8Array]",Vf="[object Uint8ClampedArray]",Gf="[object Uint16Array]",Hf="[object Uint32Array]",Y={};Y[Sf]=Y[Uf]=Y[Ff]=Y[Nf]=Y[Bf]=Y[jf]=Y[Vf]=Y[Gf]=Y[Hf]=!0,Y[_f]=Y[$f]=Y[Rf]=Y[If]=Y[Cf]=Y[wf]=Y[Af]=Y[Tf]=Y[Pf]=Y[Mf]=Y[Df]=Y[kf]=Y[Lf]=Y[Ef]=Y[Of]=!1;function qf(e){return yf(e)&&bf(e.length)&&!!Y[xf(e)]}var Wf=qf;function zf(e){return function(n){return e(n)}}var dn=zf,hn={exports:{}};hn.exports,function(e,n){var t=Jr,i=n&&!n.nodeType&&n,r=i&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===i,s=a&&t.process,o=function(){try{var l=r&&r.require&&r.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(hn,hn.exports);var ki=hn.exports,Kf=Wf,Yf=dn,$a=ki,Ia=$a&&$a.isTypedArray,Xf=Ia?Yf(Ia):Kf,Li=Xf,Qf=ua,Zf=Ft,Jf=ln,e0=pe,t0=rt,n0=un,i0=on,r0=Li,a0="[object Map]",s0="[object Set]",o0=Object.prototype,l0=o0.hasOwnProperty;function c0(e){if(e==null)return!0;if(t0(e)&&(e0(e)||typeof e=="string"||typeof e.splice=="function"||n0(e)||r0(e)||Jf(e)))return!e.length;var n=Zf(e);if(n==a0||n==s0)return!e.size;if(i0(e))return!Qf(e).length;for(var t in e)if(l0.call(e,t))return!1;return!0}var u0=c0;const d0=X(u0);var wa=Object.prototype.hasOwnProperty;function Ei(e,n){var t,i;if(e===n)return!0;if(e&&n&&(t=e.constructor)===n.constructor){if(t===Date)return e.getTime()===n.getTime();if(t===RegExp)return e.toString()===n.toString();if(t===Array){if((i=e.length)===n.length)for(;i--&&Ei(e[i],n[i]););return i===-1}if(!t||typeof e=="object"){i=0;for(t in e)if(wa.call(e,t)&&++i&&!wa.call(n,t)||!(t in n)||!Ei(e[t],n[t]))return!1;return Object.keys(n).length===i}}return e!==e&&n!==n}function fn(e,...n){}const mn={debug:(...e)=>fn(console.debug,...e),log:(...e)=>fn(console.log,...e),warn:(...e)=>fn(console.warn,...e),error:(...e)=>fn(console.error,...e)};function h0(e){return Array.isArray(e)?e:[e]}const f0=new Error("request for lock canceled");var m0=function(e,n,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):r(u.value).then(o,l)}c((i=i.apply(e,n||[])).next())})};class p0{constructor(n,t=f0){this._value=n,this._cancelError=t,this._queue=[],this._weightedWaiters=[]}acquire(n=1,t=0){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise((i,r)=>{const a={resolve:i,reject:r,weight:n,priority:t},s=Aa(this._queue,o=>t<=o.priority);s===-1&&n<=this._value?this._dispatchItem(a):this._queue.splice(s+1,0,a)})}runExclusive(n){return m0(this,arguments,void 0,function*(t,i=1,r=0){const[a,s]=yield this.acquire(i,r);try{return yield t(a)}finally{s()}})}waitForUnlock(n=1,t=0){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return this._couldLockImmediately(n,t)?Promise.resolve():new Promise(i=>{this._weightedWaiters[n-1]||(this._weightedWaiters[n-1]=[]),g0(this._weightedWaiters[n-1],{resolve:i,priority:t})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(n){this._value=n,this._dispatchQueue()}release(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);this._value+=n,this._dispatchQueue()}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(n){const t=this._value;this._value-=n.weight,n.resolve([t,this._newReleaser(n.weight)])}_newReleaser(n){let t=!1;return()=>{t||(t=!0,this.release(n))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let n=this._value;n>0;n--){const t=this._weightedWaiters[n-1];t&&(t.forEach(i=>i.resolve()),this._weightedWaiters[n-1]=[])}else{const n=this._queue[0].priority;for(let t=this._value;t>0;t--){const i=this._weightedWaiters[t-1];if(!i)continue;const r=i.findIndex(a=>a.priority<=n);(r===-1?i:i.splice(0,r)).forEach(a=>a.resolve())}}}_couldLockImmediately(n,t){return(this._queue.length===0||this._queue[0].priority<t)&&n<=this._value}}function g0(e,n){const t=Aa(e,i=>n.priority<=i.priority);e.splice(t+1,0,n)}function Aa(e,n){for(let t=e.length-1;t>=0;t--)if(n(e[t]))return t;return-1}var v0=function(e,n,t,i){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):r(u.value).then(o,l)}c((i=i.apply(e,n||[])).next())})};class x0{constructor(n){this._semaphore=new p0(1,n)}acquire(){return v0(this,arguments,void 0,function*(n=0){const[,t]=yield this._semaphore.acquire(1,n);return t})}runExclusive(n,t=0){return this._semaphore.runExclusive(()=>n(),1,t)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(n=0){return this._semaphore.waitForUnlock(1,n)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const te=b0();function b0(){const e={local:pn("local"),session:pn("session"),sync:pn("sync"),managed:pn("managed")},n=h=>{const v=e[h];if(v==null){const g=Object.keys(e).join(", ");throw Error(`Invalid area "${h}". Options: ${g}`)}return v},t=h=>{const v=h.indexOf(":"),g=h.substring(0,v),x=h.substring(v+1);if(x==null)throw Error(`Storage key should be in the form of "area:key", but received "${h}"`);return{driverArea:g,driverKey:x,driver:n(g)}},i=h=>h+"$",r=(h,v)=>h??v??null,a=h=>typeof h=="object"&&!Array.isArray(h)?h:{},s=async(h,v,g)=>{const x=await h.getItem(v);return r(x,(g==null?void 0:g.fallback)??(g==null?void 0:g.defaultValue))},o=async(h,v)=>{const g=i(v),x=await h.getItem(g);return a(x)},l=async(h,v,g)=>{await h.setItem(v,g??null)},c=async(h,v,g)=>{const x=i(v),_={...a(await h.getItem(x))};Object.entries(g).forEach(([S,E])=>{E==null?delete _[S]:_[S]=E}),await h.setItem(x,_)},u=async(h,v,g)=>{if(await h.removeItem(v),g!=null&&g.removeMeta){const x=i(v);await h.removeItem(x)}},d=async(h,v,g)=>{const x=i(v);if(g==null)await h.removeItem(x);else{const P=a(await h.getItem(x));h0(g).forEach(_=>delete P[_]),await h.setItem(x,P)}},m=(h,v,g)=>h.watch(v,g);return{getItem:async(h,v)=>{const{driver:g,driverKey:x}=t(h);return await s(g,x,v)},getItems:async h=>{const v=new Map,g=new Map;return h.forEach(P=>{let _,S;typeof P=="string"?_=P:(_=P.key,S=P.options);const{driverArea:E,driverKey:Q}=t(_),K=v.get(E)??[];v.set(E,K.concat(Q)),g.set(_,S)}),(await Promise.all(Array.from(v.entries()).map(async([P,_])=>(await e[P].getItems(_)).map(E=>{const Q=`${P}:${E.key}`,K=g.get(Q),he=r(E.value,(K==null?void 0:K.fallback)??(K==null?void 0:K.defaultValue));return{key:Q,value:he}})))).flat()},getMeta:async h=>{const{driver:v,driverKey:g}=t(h);return await o(v,g)},setItem:async(h,v)=>{const{driver:g,driverKey:x}=t(h);await l(g,x,v)},setItems:async h=>{const v=new Map;h.forEach(({key:g,value:x})=>{const{driverArea:P,driverKey:_}=t(g),S=v.get(P)??[];v.set(P,S.concat({key:_,value:x}))}),await Promise.all(Array.from(v.entries()).map(async([g,x])=>{await n(g).setItems(x)}))},setMeta:async(h,v)=>{const{driver:g,driverKey:x}=t(h);await c(g,x,v)},removeItem:async(h,v)=>{const{driver:g,driverKey:x}=t(h);await u(g,x,v)},removeItems:async h=>{const v=new Map;h.forEach(g=>{let x,P;typeof g=="string"?x=g:(x=g.key,P=g.options);const{driverArea:_,driverKey:S}=t(x),E=v.get(_)??[];E.push(S),P!=null&&P.removeMeta&&E.push(i(S)),v.set(_,E)}),await Promise.all(Array.from(v.entries()).map(async([g,x])=>{await n(g).removeItems(x)}))},removeMeta:async(h,v)=>{const{driver:g,driverKey:x}=t(h);await d(g,x,v)},snapshot:async(h,v)=>{var P;const x=await n(h).snapshot();return(P=v==null?void 0:v.excludeKeys)==null||P.forEach(_=>{delete x[_],delete x[i(_)]}),x},restoreSnapshot:async(h,v)=>{await n(h).restoreSnapshot(v)},watch:(h,v)=>{const{driver:g,driverKey:x}=t(h);return m(g,x,v)},unwatch(){Object.values(e).forEach(h=>{h.unwatch()})},defineItem:(h,v)=>{const{driver:g,driverKey:x}=t(h),{version:P=1,migrations:_={}}=v??{};if(P<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const S=async()=>{var w;const Z=i(x),[{value:Le},{value:Ne}]=await g.getItems([x,Z]);if(Le==null)return;const Je=(Ne==null?void 0:Ne.v)??1;if(Je>P)throw Error(`Version downgrade detected (v${Je} -> v${P}) for "${h}"`);mn.debug(`Running storage migration for ${h}: v${Je} -> v${P}`);const Kr=Array.from({length:P-Je},(O,k)=>Je+k+1);let T=Le;for(const O of Kr)T=await((w=_==null?void 0:_[O])==null?void 0:w.call(_,T))??T;await g.setItems([{key:x,value:T},{key:Z,value:{...Ne,v:P}}]),mn.debug(`Storage migration completed for ${h} v${P}`,{migratedValue:T})},E=(v==null?void 0:v.migrations)==null?Promise.resolve():S().catch(Z=>{mn.error(`Migration failed for ${h}`,Z)}),Q=new x0,K=()=>(v==null?void 0:v.fallback)??(v==null?void 0:v.defaultValue)??null,he=()=>Q.runExclusive(async()=>{const Z=await g.getItem(x);if(Z!=null||(v==null?void 0:v.init)==null)return Z;const Le=await v.init();return await g.setItem(x,Le),Le});return E.then(he),{get defaultValue(){return K()},get fallback(){return K()},getValue:async()=>(await E,v!=null&&v.init?await he():await s(g,x,v)),getMeta:async()=>(await E,await o(g,x)),setValue:async Z=>(await E,await l(g,x,Z)),setMeta:async Z=>(await E,await c(g,x,Z)),removeValue:async Z=>(await E,await u(g,x,Z)),removeMeta:async Z=>(await E,await d(g,x,Z)),watch:Z=>m(g,x,(Le,Ne)=>Z(Le??K(),Ne??K())),migrate:S}}}}function pn(e){const n=()=>{if(A.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(A.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const i=A.storage[e];if(i==null)throw Error(`"browser.storage.${e}" is undefined`);return i},t=new Set;return{getItem:async i=>(await n().get(i))[i],getItems:async i=>{const r=await n().get(i);return i.map(a=>({key:a,value:r[a]??null}))},setItem:async(i,r)=>{r==null?await n().remove(i):await n().set({[i]:r})},setItems:async i=>{const r=i.reduce((a,{key:s,value:o})=>(a[s]=o,a),{});await n().set(r)},removeItem:async i=>{await n().remove(i)},removeItems:async i=>{await n().remove(i)},snapshot:async()=>await n().get(),restoreSnapshot:async i=>{await n().set(i)},watch(i,r){const a=s=>{const o=s[i];o!=null&&(Ei(o.newValue,o.oldValue)||r(o.newValue??null,o.oldValue??null))};return n().onChanged.addListener(a),t.add(a),()=>{n().onChanged.removeListener(a),t.delete(a)}},unwatch(){t.forEach(i=>{n().onChanged.removeListener(i)}),t.clear()}}}te.defineItem("local:commitHash",{defaultValue:"510865a"});const y0=te.defineItem("local:show",{defaultValue:!0}),Nt=te.defineItem("local:activityToken",{defaultValue:null}),Bt=te.defineItem("local:discordUser",{defaultValue:null}),le=te.defineItem("local:settings",{defaultValue:{language:void 0,presencesLanguage:void 0,usePlayingStatus:!1,enabled:!0,syncLanguage:!0,heartbeat:!0,choosenCategory:"all",preferApp:!1}});te.defineItem("local:appVersion",{defaultValue:null}),te.defineItem("local:connected",{defaultValue:!1});const Oi=te.defineItem("local:availableLanguages",{defaultValue:[{direction:"ltr",lang:"en-US",nativeName:"English, United States"}]});te.defineItem("local:lastWhatsNew",{defaultValue:null});const Ri=te.defineItem("local:lastVersion",{defaultValue:null});te.defineItem("local:currentPresence",{defaultValue:null});const ue=te.defineItem("local:oauth2",{defaultValue:null}),Ve=te.defineItem("local:enabledPresences",{defaultValue:[]}),Ge=te.defineItem("local:addedPresences",{defaultValue:null}),Ta=te.defineItem("local:strings",{defaultValue:{}}),Pa=te.defineItem("local:generalStrings",{defaultValue:{}});te.defineItem("local:acked260Issues",{fallback:!1,version:1});function _0(e){return te.removeItems([`local:presence_${e}`,`local:${e}_settings`,`local:${e}_availableLanguages`,`local:${e}_strings`,`local:${e}_changedLanguage`])}async function $0(){let e=await te.getItem("local:scienceId");return e||(e=crypto.randomUUID(),await te.setItem("local:scienceId",e),e)}async function I0(e){var r,a,s;const n=kt.extend("Migrator"),t=await A.storage.local.get(null),i=await A.storage.sync.get(null);if(d0(i)||(n("Migrating user settings from sync storage"),await le.setValue({usePlayingStatus:!1,enabled:((r=i.settings.enabled)==null?void 0:r.value)||!0,language:e.languageManager.determineDefaultLanguage().lang,presencesLanguage:e.languageManager.determineDefaultLanguage().lang,syncLanguage:!0,heartbeat:!0,choosenCategory:"all",preferApp:!1}),await A.storage.sync.clear()),!!t.lastVersion){if(n("Migrating from %s to %s",t.lastVersion,A.runtime.getManifest().version),t.presences){n("Adding %o",t.presences.map(o=>o.metadata.service)),await e.presenceManager.add(...t.presences.map(o=>o.metadata.service));for(const o of t.presences)n("Setting %s to %s",o.metadata.service,o.enabled?"enabled":"disabled"),await e.presenceManager.setEnabled(o.metadata.service,o.enabled);for(const o of Object.keys(t).filter(l=>l.startsWith("pSettings_"))){for(const l of t[o]){const c=o.replace("pSettings_","");if(l.id!=="lang")n("Setting %s.%s to %s",c,l.id,l.value),await e.presenceManager.setSetting(c,l.id,l.value);else if(l.value){const u=await e.presenceManager.getSettingObject(c,l.id);if(u&&u.value!==l.value){const d=((a=u.values)==null?void 0:a.find(m=>(m==null?void 0:m.value)===l.value))??((s=u.values)==null?void 0:s.find(m=>{var p;return(p=m==null?void 0:m.value)==null?void 0:p.toString().startsWith(l.value)}));d!=null&&d.value&&(n("Setting %s.%s to %s",c,l.id,d.value),await e.presenceManager.setSetting(c,l.id,d.value),e.storageManager.set("local",{[`${c}_changedLanguage`]:!0}))}}}await A.storage.local.remove(o)}}await A.storage.local.remove(["connected","defaultAdded","discordUser","presences","languages"]),n("DONE!")}}async function Ci(){if(!await nt())return;const{enabled:e}=await le.getValue(),n=await Bt.getValue();A.action.setTitle({title:`PreMiD ${e?n?"":"Not linked":"DISABLED"}`}),A.action.setBadgeText({text:!e||!n?"!":""}),A.action.setBadgeBackgroundColor({color:e?n?[0,0,0,0]:"#ff5050":"#aaaaaa"})}var Si={exports:{}},Ui,Ma;function w0(){if(Ma)return Ui;Ma=1;var e=1e3,n=e*60,t=n*60,i=t*24,r=i*7,a=i*365.25;Ui=function(u,d){d=d||{};var m=typeof u;if(m==="string"&&u.length>0)return s(u);if(m==="number"&&isFinite(u))return d.long?l(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var m=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return m*a;case"weeks":case"week":case"w":return m*r;case"days":case"day":case"d":return m*i;case"hours":case"hour":case"hrs":case"hr":case"h":return m*t;case"minutes":case"minute":case"mins":case"min":case"m":return m*n;case"seconds":case"second":case"secs":case"sec":case"s":return m*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function o(u){var d=Math.abs(u);return d>=i?Math.round(u/i)+"d":d>=t?Math.round(u/t)+"h":d>=n?Math.round(u/n)+"m":d>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=i?c(u,d,i,"day"):d>=t?c(u,d,t,"hour"):d>=n?c(u,d,n,"minute"):d>=e?c(u,d,e,"second"):u+" ms"}function c(u,d,m,p){var h=d>=m*1.5;return Math.round(u/m)+" "+p+(h?"s":"")}return Ui}function A0(e){t.debug=t,t.default=t,t.coerce=l,t.disable=a,t.enable=r,t.enabled=s,t.humanize=w0(),t.destroy=c,Object.keys(e).forEach(u=>{t[u]=e[u]}),t.names=[],t.skips=[],t.formatters={};function n(u){let d=0;for(let m=0;m<u.length;m++)d=(d<<5)-d+u.charCodeAt(m),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=n;function t(u){let d,m=null,p,h;function v(...g){if(!v.enabled)return;const x=v,P=Number(new Date),_=P-(d||P);x.diff=_,x.prev=d,x.curr=P,d=P,g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let S=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(Q,K)=>{if(Q==="%%")return"%";S++;const he=t.formatters[K];if(typeof he=="function"){const Z=g[S];Q=he.call(x,Z),g.splice(S,1),S--}return Q}),t.formatArgs.call(x,g),(x.log||t.log).apply(x,g)}return v.namespace=u,v.useColors=t.useColors(),v.color=t.selectColor(u),v.extend=i,v.destroy=t.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(p!==t.namespaces&&(p=t.namespaces,h=t.enabled(u)),h),set:g=>{m=g}}),typeof t.init=="function"&&t.init(v),v}function i(u,d){const m=t(this.namespace+(typeof d>"u"?":":d)+u);return m.log=this.log,m}function r(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let d;const m=(typeof u=="string"?u:"").split(/[\s,]+/),p=m.length;for(d=0;d<p;d++)m[d]&&(u=m[d].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function a(){const u=[...t.names.map(o),...t.skips.map(o).map(d=>"-"+d)].join(",");return t.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,m;for(d=0,m=t.skips.length;d<m;d++)if(t.skips[d].test(u))return!1;for(d=0,m=t.names.length;d<m;d++)if(t.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var T0=A0;(function(e,n){n.formatArgs=i,n.save=r,n.load=a,n.useColors=t,n.storage=s(),n.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(u++,m==="%c"&&(d=u))}),l.splice(d,0,c)}n.log=console.debug||console.log||(()=>{});function r(l){try{l?n.storage.setItem("debug",l):n.storage.removeItem("debug")}catch{}}function a(){let l;try{l=n.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function s(){try{return localStorage}catch{}}e.exports=T0(n);const{formatters:o}=e.exports;o.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Si,Si.exports);var P0=Si.exports;const Da=X(P0);var Fi={exports:{}};const M0="2.0.0",ka=256,D0=Number.MAX_SAFE_INTEGER||9007199254740991,k0=16,L0=ka-6;var gn={MAX_LENGTH:ka,MAX_SAFE_COMPONENT_LENGTH:k0,MAX_SAFE_BUILD_LENGTH:L0,MAX_SAFE_INTEGER:D0,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:M0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},vn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,n){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=gn,a=vn;n=e.exports={};const s=n.re=[],o=n.safeRe=[],l=n.src=[],c=n.t={};let u=0;const d="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",r],[d,i]],p=v=>{for(const[g,x]of m)v=v.split(`${g}*`).join(`${g}{0,${x}}`).split(`${g}+`).join(`${g}{1,${x}}`);return v},h=(v,g,x)=>{const P=p(g),_=u++;a(v,_,g),c[v]=_,l[_]=g,s[_]=new RegExp(g,x?"g":void 0),o[_]=new RegExp(P,x?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),h("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${d}+`),h("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),h("FULL",`^${l[c.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),h("LOOSE",`^${l[c.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),h("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),h("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",l[c.COERCE],!0),h("COERCERTLFULL",l[c.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",h("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",h("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Fi,Fi.exports);var jt=Fi.exports;const E0=Object.freeze({loose:!0}),O0=Object.freeze({});var Ni=e=>e?typeof e!="object"?E0:e:O0;const La=/^[0-9]+$/,Ea=(e,n)=>{const t=La.test(e),i=La.test(n);return t&&i&&(e=+e,n=+n),e===n?0:t&&!i?-1:i&&!t?1:e<n?-1:1};var Oa={compareIdentifiers:Ea,rcompareIdentifiers:(e,n)=>Ea(n,e)};const xn=vn,{MAX_LENGTH:Ra,MAX_SAFE_INTEGER:bn}=gn,{safeRe:Ca,t:Sa}=jt,R0=Ni,{compareIdentifiers:at}=Oa;var se=class Pe{constructor(n,t){if(t=R0(t),n instanceof Pe){if(n.loose===!!t.loose&&n.includePrerelease===!!t.includePrerelease)return n;n=n.version}else if(typeof n!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof n}".`);if(n.length>Ra)throw new TypeError(`version is longer than ${Ra} characters`);xn("SemVer",n,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const i=n.trim().match(t.loose?Ca[Sa.LOOSE]:Ca[Sa.FULL]);if(!i)throw new TypeError(`Invalid Version: ${n}`);if(this.raw=n,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>bn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bn||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){const a=+r;if(a>=0&&a<bn)return a}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(n){if(xn("SemVer.compare",this.version,this.options,n),!(n instanceof Pe)){if(typeof n=="string"&&n===this.version)return 0;n=new Pe(n,this.options)}return n.version===this.version?0:this.compareMain(n)||this.comparePre(n)}compareMain(n){return n instanceof Pe||(n=new Pe(n,this.options)),at(this.major,n.major)||at(this.minor,n.minor)||at(this.patch,n.patch)}comparePre(n){if(n instanceof Pe||(n=new Pe(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;let t=0;do{const i=this.prerelease[t],r=n.prerelease[t];if(xn("prerelease compare",t,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return at(i,r)}while(++t)}compareBuild(n){n instanceof Pe||(n=new Pe(n,this.options));let t=0;do{const i=this.build[t],r=n.build[t];if(xn("build compare",t,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return at(i,r)}while(++t)}inc(n,t,i){switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const r=Number(i)?1:0;if(!t&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[r];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(t){let a=[t,r];i===!1&&(a=[t]),at(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${n}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const Ua=se;var st=(e,n,t=!1)=>{if(e instanceof Ua)return e;try{return new Ua(e,n)}catch(i){if(!t)return null;throw i}};const C0=st;var S0=(e,n)=>{const t=C0(e,n);return t?t.version:null};const U0=st;var F0=(e,n)=>{const t=U0(e.trim().replace(/^[=v]+/,""),n);return t?t.version:null};const Fa=se;var N0=(e,n,t,i,r)=>{typeof t=="string"&&(r=i,i=t,t=void 0);try{return new Fa(e instanceof Fa?e.version:e,t).inc(n,i,r).version}catch{return null}};const Na=st;var B0=(e,n)=>{const t=Na(e,null,!0),i=Na(n,null,!0),r=t.compare(i);if(r===0)return null;const a=r>0,s=a?t:i,o=a?i:t,l=!!s.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const u=l?"pre":"";return t.major!==i.major?u+"major":t.minor!==i.minor?u+"minor":t.patch!==i.patch?u+"patch":"prerelease"};const j0=se;var V0=(e,n)=>new j0(e,n).major;const G0=se;var H0=(e,n)=>new G0(e,n).minor;const q0=se;var W0=(e,n)=>new q0(e,n).patch;const z0=st;var K0=(e,n)=>{const t=z0(e,n);return t&&t.prerelease.length?t.prerelease:null};const Ba=se;var ye=(e,n,t)=>new Ba(e,t).compare(new Ba(n,t));const Y0=ye;var X0=(e,n,t)=>Y0(n,e,t);const Q0=ye;var Z0=(e,n)=>Q0(e,n,!0);const ja=se;var Bi=(e,n,t)=>{const i=new ja(e,t),r=new ja(n,t);return i.compare(r)||i.compareBuild(r)};const J0=Bi;var em=(e,n)=>e.sort((t,i)=>J0(t,i,n));const tm=Bi;var nm=(e,n)=>e.sort((t,i)=>tm(i,t,n));const im=ye;var yn=(e,n,t)=>im(e,n,t)>0;const rm=ye;var ji=(e,n,t)=>rm(e,n,t)<0;const am=ye;var Va=(e,n,t)=>am(e,n,t)===0;const sm=ye;var Ga=(e,n,t)=>sm(e,n,t)!==0;const om=ye;var Vi=(e,n,t)=>om(e,n,t)>=0;const lm=ye;var Gi=(e,n,t)=>lm(e,n,t)<=0;const cm=Va,um=Ga,dm=yn,hm=Vi,fm=ji,mm=Gi;var Ha=(e,n,t,i)=>{switch(n){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return cm(e,t,i);case"!=":return um(e,t,i);case">":return dm(e,t,i);case">=":return hm(e,t,i);case"<":return fm(e,t,i);case"<=":return mm(e,t,i);default:throw new TypeError(`Invalid operator: ${n}`)}};const pm=se,gm=st,{safeRe:_n,t:$n}=jt;var vm=(e,n)=>{if(e instanceof pm)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;n=n||{};let t=null;if(!n.rtl)t=e.match(n.includePrerelease?_n[$n.COERCEFULL]:_n[$n.COERCE]);else{const l=n.includePrerelease?_n[$n.COERCERTLFULL]:_n[$n.COERCERTL];let c;for(;(c=l.exec(e))&&(!t||t.index+t[0].length!==e.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(t===null)return null;const i=t[2],r=t[3]||"0",a=t[4]||"0",s=n.includePrerelease&&t[5]?`-${t[5]}`:"",o=n.includePrerelease&&t[6]?`+${t[6]}`:"";return gm(`${i}.${r}.${a}${s}${o}`,n)};class xm{constructor(){this.max=1e3,this.map=new Map}get(n){const t=this.map.get(n);if(t!==void 0)return this.map.delete(n),this.map.set(n,t),t}delete(n){return this.map.delete(n)}set(n,t){if(!this.delete(n)&&t!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(n,t)}return this}}var bm=xm,Hi,qa;function _e(){if(qa)return Hi;qa=1;const e=/\s+/g;class n{constructor(w,O){if(O=r(O),w instanceof n)return w.loose===!!O.loose&&w.includePrerelease===!!O.includePrerelease?w:new n(w.raw,O);if(w instanceof a)return this.raw=w.value,this.set=[[w]],this.formatted=void 0,this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=w.trim().replace(e," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const k=this.set[0];if(this.set=this.set.filter(C=>!v(C[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(const C of this.set)if(C.length===1&&g(C[0])){this.set=[C];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let w=0;w<this.set.length;w++){w>0&&(this.formatted+="||");const O=this.set[w];for(let k=0;k<O.length;k++)k>0&&(this.formatted+=" "),this.formatted+=O[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(w){const k=((this.options.includePrerelease&&p)|(this.options.loose&&h))+":"+w,C=i.get(k);if(C)return C;const L=this.options.loose,F=L?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];w=w.replace(F,Je(this.options.includePrerelease)),s("hyphen replace",w),w=w.replace(l[c.COMPARATORTRIM],u),s("comparator trim",w),w=w.replace(l[c.TILDETRIM],d),s("tilde trim",w),w=w.replace(l[c.CARETTRIM],m),s("caret trim",w);let H=w.split(" ").map(ie=>P(ie,this.options)).join(" ").split(/\s+/).map(ie=>Ne(ie,this.options));L&&(H=H.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(l[c.COMPARATORLOOSE])))),s("range list",H);const B=new Map,J=H.map(ie=>new a(ie,this.options));for(const ie of J){if(v(ie))return[ie];B.set(ie.value,ie)}B.size>1&&B.has("")&&B.delete("");const fe=[...B.values()];return i.set(k,fe),fe}intersects(w,O){if(!(w instanceof n))throw new TypeError("a Range is required");return this.set.some(k=>x(k,O)&&w.set.some(C=>x(C,O)&&k.every(L=>C.every(F=>L.intersects(F,O)))))}test(w){if(!w)return!1;if(typeof w=="string")try{w=new o(w,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(Kr(this.set[O],w,this.options))return!0;return!1}}Hi=n;const t=bm,i=new t,r=Ni,a=In(),s=vn,o=se,{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:m}=jt,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:h}=gn,v=T=>T.value==="<0.0.0-0",g=T=>T.value==="",x=(T,w)=>{let O=!0;const k=T.slice();let C=k.pop();for(;O&&k.length;)O=k.every(L=>C.intersects(L,w)),C=k.pop();return O},P=(T,w)=>(s("comp",T,w),T=Q(T,w),s("caret",T),T=S(T,w),s("tildes",T),T=he(T,w),s("xrange",T),T=Le(T,w),s("stars",T),T),_=T=>!T||T.toLowerCase()==="x"||T==="*",S=(T,w)=>T.trim().split(/\s+/).map(O=>E(O,w)).join(" "),E=(T,w)=>{const O=w.loose?l[c.TILDELOOSE]:l[c.TILDE];return T.replace(O,(k,C,L,F,H)=>{s("tilde",T,k,C,L,F,H);let B;return _(C)?B="":_(L)?B=`>=${C}.0.0 <${+C+1}.0.0-0`:_(F)?B=`>=${C}.${L}.0 <${C}.${+L+1}.0-0`:H?(s("replaceTilde pr",H),B=`>=${C}.${L}.${F}-${H} <${C}.${+L+1}.0-0`):B=`>=${C}.${L}.${F} <${C}.${+L+1}.0-0`,s("tilde return",B),B})},Q=(T,w)=>T.trim().split(/\s+/).map(O=>K(O,w)).join(" "),K=(T,w)=>{s("caret",T,w);const O=w.loose?l[c.CARETLOOSE]:l[c.CARET],k=w.includePrerelease?"-0":"";return T.replace(O,(C,L,F,H,B)=>{s("caret",T,C,L,F,H,B);let J;return _(L)?J="":_(F)?J=`>=${L}.0.0${k} <${+L+1}.0.0-0`:_(H)?L==="0"?J=`>=${L}.${F}.0${k} <${L}.${+F+1}.0-0`:J=`>=${L}.${F}.0${k} <${+L+1}.0.0-0`:B?(s("replaceCaret pr",B),L==="0"?F==="0"?J=`>=${L}.${F}.${H}-${B} <${L}.${F}.${+H+1}-0`:J=`>=${L}.${F}.${H}-${B} <${L}.${+F+1}.0-0`:J=`>=${L}.${F}.${H}-${B} <${+L+1}.0.0-0`):(s("no pr"),L==="0"?F==="0"?J=`>=${L}.${F}.${H}${k} <${L}.${F}.${+H+1}-0`:J=`>=${L}.${F}.${H}${k} <${L}.${+F+1}.0-0`:J=`>=${L}.${F}.${H} <${+L+1}.0.0-0`),s("caret return",J),J})},he=(T,w)=>(s("replaceXRanges",T,w),T.split(/\s+/).map(O=>Z(O,w)).join(" ")),Z=(T,w)=>{T=T.trim();const O=w.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return T.replace(O,(k,C,L,F,H,B)=>{s("xRange",T,k,C,L,F,H,B);const J=_(L),fe=J||_(F),ie=fe||_(H),rn=ie;return C==="="&&rn&&(C=""),B=w.includePrerelease?"-0":"",J?C===">"||C==="<"?k="<0.0.0-0":k="*":C&&rn?(fe&&(F=0),H=0,C===">"?(C=">=",fe?(L=+L+1,F=0,H=0):(F=+F+1,H=0)):C==="<="&&(C="<",fe?L=+L+1:F=+F+1),C==="<"&&(B="-0"),k=`${C+L}.${F}.${H}${B}`):fe?k=`>=${L}.0.0${B} <${+L+1}.0.0-0`:ie&&(k=`>=${L}.${F}.0${B} <${L}.${+F+1}.0-0`),s("xRange return",k),k})},Le=(T,w)=>(s("replaceStars",T,w),T.trim().replace(l[c.STAR],"")),Ne=(T,w)=>(s("replaceGTE0",T,w),T.trim().replace(l[w.includePrerelease?c.GTE0PRE:c.GTE0],"")),Je=T=>(w,O,k,C,L,F,H,B,J,fe,ie,rn)=>(_(k)?O="":_(C)?O=`>=${k}.0.0${T?"-0":""}`:_(L)?O=`>=${k}.${C}.0${T?"-0":""}`:F?O=`>=${O}`:O=`>=${O}${T?"-0":""}`,_(J)?B="":_(fe)?B=`<${+J+1}.0.0-0`:_(ie)?B=`<${J}.${+fe+1}.0-0`:rn?B=`<=${J}.${fe}.${ie}-${rn}`:T?B=`<${J}.${fe}.${+ie+1}-0`:B=`<=${B}`,`${O} ${B}`.trim()),Kr=(T,w,O)=>{for(let k=0;k<T.length;k++)if(!T[k].test(w))return!1;if(w.prerelease.length&&!O.includePrerelease){for(let k=0;k<T.length;k++)if(s(T[k].semver),T[k].semver!==a.ANY&&T[k].semver.prerelease.length>0){const C=T[k].semver;if(C.major===w.major&&C.minor===w.minor&&C.patch===w.patch)return!0}return!1}return!0};return Hi}var qi,Wa;function In(){if(Wa)return qi;Wa=1;const e=Symbol("SemVer ANY");class n{static get ANY(){return e}constructor(u,d){if(d=t(d),u instanceof n){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const d=this.options.loose?i[r.COMPARATORLOOSE]:i[r.COMPARATOR],m=u.match(d);if(!m)throw new TypeError(`Invalid comparator: ${u}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new o(m[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,d).test(u.semver):(d=t(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||a(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||a(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}qi=n;const t=Ni,{safeRe:i,t:r}=jt,a=Ha,s=vn,o=se,l=_e();return qi}const ym=_e();var wn=(e,n,t)=>{try{n=new ym(n,t)}catch{return!1}return n.test(e)};const _m=_e();var $m=(e,n)=>new _m(e,n).set.map(t=>t.map(i=>i.value).join(" ").trim().split(" "));const Im=se,wm=_e();var Am=(e,n,t)=>{let i=null,r=null,a=null;try{a=new wm(n,t)}catch{return null}return e.forEach(s=>{a.test(s)&&(!i||r.compare(s)===-1)&&(i=s,r=new Im(i,t))}),i};const Tm=se,Pm=_e();var Mm=(e,n,t)=>{let i=null,r=null,a=null;try{a=new Pm(n,t)}catch{return null}return e.forEach(s=>{a.test(s)&&(!i||r.compare(s)===1)&&(i=s,r=new Tm(i,t))}),i};const Wi=se,Dm=_e(),za=yn;var km=(e,n)=>{e=new Dm(e,n);let t=new Wi("0.0.0");if(e.test(t)||(t=new Wi("0.0.0-0"),e.test(t)))return t;t=null;for(let i=0;i<e.set.length;++i){const r=e.set[i];let a=null;r.forEach(s=>{const o=new Wi(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||za(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!t||za(t,a))&&(t=a)}return t&&e.test(t)?t:null};const Lm=_e();var Em=(e,n)=>{try{return new Lm(e,n).range||"*"}catch{return null}};const Om=se,Ka=In(),{ANY:Rm}=Ka,Cm=_e(),Sm=wn,Ya=yn,Xa=ji,Um=Gi,Fm=Vi;var zi=(e,n,t,i)=>{e=new Om(e,i),n=new Cm(n,i);let r,a,s,o,l;switch(t){case">":r=Ya,a=Um,s=Xa,o=">",l=">=";break;case"<":r=Xa,a=Fm,s=Ya,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Sm(e,n,i))return!1;for(let c=0;c<n.set.length;++c){const u=n.set[c];let d=null,m=null;if(u.forEach(p=>{p.semver===Rm&&(p=new Ka(">=0.0.0")),d=d||p,m=m||p,r(p.semver,d.semver,i)?d=p:s(p.semver,m.semver,i)&&(m=p)}),d.operator===o||d.operator===l||(!m.operator||m.operator===o)&&a(e,m.semver))return!1;if(m.operator===l&&s(e,m.semver))return!1}return!0};const Nm=zi;var Bm=(e,n,t)=>Nm(e,n,">",t);const jm=zi;var Vm=(e,n,t)=>jm(e,n,"<",t);const Qa=_e();var Gm=(e,n,t)=>(e=new Qa(e,t),n=new Qa(n,t),e.intersects(n,t));const Hm=wn,qm=ye;var Wm=(e,n,t)=>{const i=[];let r=null,a=null;const s=e.sort((u,d)=>qm(u,d,t));for(const u of s)Hm(u,n,t)?(a=u,r||(r=u)):(a&&i.push([r,a]),a=null,r=null);r&&i.push([r,null]);const o=[];for(const[u,d]of i)u===d?o.push(u):!d&&u===s[0]?o.push("*"):d?u===s[0]?o.push(`<=${d}`):o.push(`${u} - ${d}`):o.push(`>=${u}`);const l=o.join(" || "),c=typeof n.raw=="string"?n.raw:String(n);return l.length<c.length?l:n};const Za=_e(),Ki=In(),{ANY:Yi}=Ki,Vt=wn,Xi=ye,zm=(e,n,t={})=>{if(e===n)return!0;e=new Za(e,t),n=new Za(n,t);let i=!1;e:for(const r of e.set){for(const a of n.set){const s=Ym(r,a,t);if(i=i||s!==null,s)continue e}if(i)return!1}return!0},Km=[new Ki(">=0.0.0-0")],Ja=[new Ki(">=0.0.0")],Ym=(e,n,t)=>{if(e===n)return!0;if(e.length===1&&e[0].semver===Yi){if(n.length===1&&n[0].semver===Yi)return!0;t.includePrerelease?e=Km:e=Ja}if(n.length===1&&n[0].semver===Yi){if(t.includePrerelease)return!0;n=Ja}const i=new Set;let r,a;for(const p of e)p.operator===">"||p.operator===">="?r=es(r,p,t):p.operator==="<"||p.operator==="<="?a=ts(a,p,t):i.add(p.semver);if(i.size>1)return null;let s;if(r&&a){if(s=Xi(r.semver,a.semver,t),s>0)return null;if(s===0&&(r.operator!==">="||a.operator!=="<="))return null}for(const p of i){if(r&&!Vt(p,String(r),t)||a&&!Vt(p,String(a),t))return null;for(const h of n)if(!Vt(p,String(h),t))return!1;return!0}let o,l,c,u,d=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=r&&!t.includePrerelease&&r.semver.prerelease.length?r.semver:!1;d&&d.prerelease.length===1&&a.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const p of n){if(u=u||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",r){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(o=es(r,p,t),o===p&&o!==r)return!1}else if(r.operator===">="&&!Vt(r.semver,String(p),t))return!1}if(a){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(l=ts(a,p,t),l===p&&l!==a)return!1}else if(a.operator==="<="&&!Vt(a.semver,String(p),t))return!1}if(!p.operator&&(a||r)&&s!==0)return!1}return!(r&&c&&!a&&s!==0||a&&u&&!r&&s!==0||m||d)},es=(e,n,t)=>{if(!e)return n;const i=Xi(e.semver,n.semver,t);return i>0?e:i<0||n.operator===">"&&e.operator===">="?n:e},ts=(e,n,t)=>{if(!e)return n;const i=Xi(e.semver,n.semver,t);return i<0?e:i>0||n.operator==="<"&&e.operator==="<="?n:e};var Xm=zm;const Qi=jt,ns=gn,Qm=se,is=Oa,Zm=st,Jm=S0,ep=F0,tp=N0,np=B0,ip=V0,rp=H0,ap=W0,sp=K0,op=ye,lp=X0,cp=Z0,up=Bi,dp=em,hp=nm,fp=yn,mp=ji,pp=Va,gp=Ga,vp=Vi,xp=Gi,bp=Ha,yp=vm,_p=In(),$p=_e();var An={parse:Zm,valid:Jm,clean:ep,inc:tp,diff:np,major:ip,minor:rp,patch:ap,prerelease:sp,compare:op,rcompare:lp,compareLoose:cp,compareBuild:up,sort:dp,rsort:hp,gt:fp,lt:mp,eq:pp,neq:gp,gte:vp,lte:xp,cmp:bp,coerce:yp,Comparator:_p,Range:$p,satisfies:wn,toComparators:$m,maxSatisfying:Am,minSatisfying:Mm,minVersion:km,validRange:Em,outside:zi,gtr:Bm,ltr:Vm,intersects:Gm,simplifyRange:Wm,subset:Xm,SemVer:Qm,re:Qi.re,src:Qi.src,tokens:Qi.t,SEMVER_SPEC_VERSION:ns.SEMVER_SPEC_VERSION,RELEASE_TYPES:ns.RELEASE_TYPES,compareIdentifiers:is.compareIdentifiers,rcompareIdentifiers:is.rcompareIdentifiers};async function Ip(e,n){const t=await le.getValue();t[e]=n,await le.setValue(t)}function Tn(e,n){if(!!!e)throw new Error(n)}function wp(e){return typeof e=="object"&&e!==null}function Ap(e,n){if(!!!e)throw new Error("Unexpected invariant triggered.")}const Tp=/\r\n|[\n\r]/g;function Zi(e,n){let t=0,i=1;for(const r of e.body.matchAll(Tp)){if(typeof r.index=="number"||Ap(!1),r.index>=n)break;t=r.index+r[0].length,i+=1}return{line:i,column:n+1-t}}function Pp(e){return rs(e.source,Zi(e.source,e.start))}function rs(e,n){const t=e.locationOffset.column-1,i="".padStart(t)+e.body,r=n.line-1,a=e.locationOffset.line-1,s=n.line+a,o=n.line===1?t:0,l=n.column+o,c=`${e.name}:${s}:${l}
`,u=i.split(/\r\n|[\n\r]/g),d=u[r];if(d.length>120){const m=Math.floor(l/80),p=l%80,h=[];for(let v=0;v<d.length;v+=80)h.push(d.slice(v,v+80));return c+as([[`${s} |`,h[0]],...h.slice(1,m+1).map(v=>["|",v]),["|","^".padStart(p)],["|",h[m+1]]])}return c+as([[`${s-1} |`,u[r-1]],[`${s} |`,d],["|","^".padStart(l)],[`${s+1} |`,u[r+1]]])}function as(e){const n=e.filter(([i,r])=>r!==void 0),t=Math.max(...n.map(([i])=>i.length));return n.map(([i,r])=>i.padStart(t)+(r?" "+r:"")).join(`
`)}function Mp(e){const n=e[0];return n==null||"kind"in n||"length"in n?{nodes:n,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:n}class Ji extends Error{constructor(n,...t){var i,r,a;const{nodes:s,source:o,positions:l,path:c,originalError:u,extensions:d}=Mp(t);super(n),this.name="GraphQLError",this.path=c??void 0,this.originalError=u??void 0,this.nodes=ss(Array.isArray(s)?s:s?[s]:void 0);const m=ss((i=this.nodes)===null||i===void 0?void 0:i.map(h=>h.loc).filter(h=>h!=null));this.source=o??(m==null||(r=m[0])===null||r===void 0?void 0:r.source),this.positions=l??(m==null?void 0:m.map(h=>h.start)),this.locations=l&&o?l.map(h=>Zi(o,h)):m==null?void 0:m.map(h=>Zi(h.source,h.start));const p=wp(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(a=d??p)!==null&&a!==void 0?a:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Ji):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let n=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(n+=`

`+Pp(t.loc));else if(this.source&&this.locations)for(const t of this.locations)n+=`

`+rs(this.source,t);return n}toJSON(){const n={message:this.message};return this.locations!=null&&(n.locations=this.locations),this.path!=null&&(n.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(n.extensions=this.extensions),n}}function ss(e){return e===void 0||e.length===0?void 0:e}function re(e,n,t){return new Ji(`Syntax Error: ${t}`,{source:e,positions:[n]})}class Dp{constructor(n,t,i){this.start=n.start,this.end=t.end,this.startToken=n,this.endToken=t,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class os{constructor(n,t,i,r,a,s){this.kind=n,this.start=t,this.end=i,this.line=r,this.column=a,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ls={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kp=new Set(Object.keys(ls));function cs(e){const n=e==null?void 0:e.kind;return typeof n=="string"&&kp.has(n)}var ot;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(ot||(ot={}));var er;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(er||(er={}));var R;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(R||(R={}));function tr(e){return e===9||e===32}function Gt(e){return e>=48&&e<=57}function us(e){return e>=97&&e<=122||e>=65&&e<=90}function ds(e){return us(e)||e===95}function Lp(e){return us(e)||Gt(e)||e===95}function Ep(e){var n;let t=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let s=0;s<e.length;++s){var a;const o=e[s],l=Op(o);l!==o.length&&(i=(a=i)!==null&&a!==void 0?a:s,r=s,s!==0&&l<t&&(t=l))}return e.map((s,o)=>o===0?s:s.slice(t)).slice((n=i)!==null&&n!==void 0?n:0,r+1)}function Op(e){let n=0;for(;n<e.length&&tr(e.charCodeAt(n));)++n;return n}function Rp(e,n){const t=e.replace(/"""/g,'\\"""'),i=t.split(/\r\n|[\n\r]/g),r=i.length===1,a=i.length>1&&i.slice(1).every(p=>p.length===0||tr(p.charCodeAt(0))),s=t.endsWith('\\"""'),o=e.endsWith('"')&&!s,l=e.endsWith("\\"),c=o||l,u=!r||e.length>70||c||a||s;let d="";const m=r&&tr(e.charCodeAt(0));return(u&&!m||a)&&(d+=`
`),d+=t,(u||c)&&(d+=`
`),'"""'+d+'"""'}var b;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(b||(b={}));class Cp{constructor(n){const t=new os(b.SOF,0,0,0,0);this.source=n,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let n=this.token;if(n.kind!==b.EOF)do if(n.next)n=n.next;else{const t=Up(this,n.end);n.next=t,t.prev=n,n=t}while(n.kind===b.COMMENT);return n}}function Sp(e){return e===b.BANG||e===b.DOLLAR||e===b.AMP||e===b.PAREN_L||e===b.PAREN_R||e===b.SPREAD||e===b.COLON||e===b.EQUALS||e===b.AT||e===b.BRACKET_L||e===b.BRACKET_R||e===b.BRACE_L||e===b.PIPE||e===b.BRACE_R}function lt(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Pn(e,n){return hs(e.charCodeAt(n))&&fs(e.charCodeAt(n+1))}function hs(e){return e>=55296&&e<=56319}function fs(e){return e>=56320&&e<=57343}function He(e,n){const t=e.source.body.codePointAt(n);if(t===void 0)return b.EOF;if(t>=32&&t<=126){const i=String.fromCodePoint(t);return i==='"'?`'"'`:`"${i}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function ne(e,n,t,i,r){const a=e.line,s=1+t-e.lineStart;return new os(n,t,i,a,s,r)}function Up(e,n){const t=e.source.body,i=t.length;let r=n;for(;r<i;){const a=t.charCodeAt(r);switch(a){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:t.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return Fp(e,r);case 33:return ne(e,b.BANG,r,r+1);case 36:return ne(e,b.DOLLAR,r,r+1);case 38:return ne(e,b.AMP,r,r+1);case 40:return ne(e,b.PAREN_L,r,r+1);case 41:return ne(e,b.PAREN_R,r,r+1);case 46:if(t.charCodeAt(r+1)===46&&t.charCodeAt(r+2)===46)return ne(e,b.SPREAD,r,r+3);break;case 58:return ne(e,b.COLON,r,r+1);case 61:return ne(e,b.EQUALS,r,r+1);case 64:return ne(e,b.AT,r,r+1);case 91:return ne(e,b.BRACKET_L,r,r+1);case 93:return ne(e,b.BRACKET_R,r,r+1);case 123:return ne(e,b.BRACE_L,r,r+1);case 124:return ne(e,b.PIPE,r,r+1);case 125:return ne(e,b.BRACE_R,r,r+1);case 34:return t.charCodeAt(r+1)===34&&t.charCodeAt(r+2)===34?Hp(e,r):Bp(e,r)}if(Gt(a)||a===45)return Np(e,r,a);if(ds(a))return qp(e,r);throw re(e.source,r,a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:lt(a)||Pn(t,r)?`Unexpected character: ${He(e,r)}.`:`Invalid character: ${He(e,r)}.`)}return ne(e,b.EOF,i,i)}function Fp(e,n){const t=e.source.body,i=t.length;let r=n+1;for(;r<i;){const a=t.charCodeAt(r);if(a===10||a===13)break;if(lt(a))++r;else if(Pn(t,r))r+=2;else break}return ne(e,b.COMMENT,n,r,t.slice(n+1,r))}function Np(e,n,t){const i=e.source.body;let r=n,a=t,s=!1;if(a===45&&(a=i.charCodeAt(++r)),a===48){if(a=i.charCodeAt(++r),Gt(a))throw re(e.source,r,`Invalid number, unexpected digit after 0: ${He(e,r)}.`)}else r=nr(e,r,a),a=i.charCodeAt(r);if(a===46&&(s=!0,a=i.charCodeAt(++r),r=nr(e,r,a),a=i.charCodeAt(r)),(a===69||a===101)&&(s=!0,a=i.charCodeAt(++r),(a===43||a===45)&&(a=i.charCodeAt(++r)),r=nr(e,r,a),a=i.charCodeAt(r)),a===46||ds(a))throw re(e.source,r,`Invalid number, expected digit but got: ${He(e,r)}.`);return ne(e,s?b.FLOAT:b.INT,n,r,i.slice(n,r))}function nr(e,n,t){if(!Gt(t))throw re(e.source,n,`Invalid number, expected digit but got: ${He(e,n)}.`);const i=e.source.body;let r=n+1;for(;Gt(i.charCodeAt(r));)++r;return r}function Bp(e,n){const t=e.source.body,i=t.length;let r=n+1,a=r,s="";for(;r<i;){const o=t.charCodeAt(r);if(o===34)return s+=t.slice(a,r),ne(e,b.STRING,n,r+1,s);if(o===92){s+=t.slice(a,r);const l=t.charCodeAt(r+1)===117?t.charCodeAt(r+2)===123?jp(e,r):Vp(e,r):Gp(e,r);s+=l.value,r+=l.size,a=r;continue}if(o===10||o===13)break;if(lt(o))++r;else if(Pn(t,r))r+=2;else throw re(e.source,r,`Invalid character within String: ${He(e,r)}.`)}throw re(e.source,r,"Unterminated string.")}function jp(e,n){const t=e.source.body;let i=0,r=3;for(;r<12;){const a=t.charCodeAt(n+r++);if(a===125){if(r<5||!lt(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|Ht(a),i<0)break}throw re(e.source,n,`Invalid Unicode escape sequence: "${t.slice(n,n+r)}".`)}function Vp(e,n){const t=e.source.body,i=ms(t,n+2);if(lt(i))return{value:String.fromCodePoint(i),size:6};if(hs(i)&&t.charCodeAt(n+6)===92&&t.charCodeAt(n+7)===117){const r=ms(t,n+8);if(fs(r))return{value:String.fromCodePoint(i,r),size:12}}throw re(e.source,n,`Invalid Unicode escape sequence: "${t.slice(n,n+6)}".`)}function ms(e,n){return Ht(e.charCodeAt(n))<<12|Ht(e.charCodeAt(n+1))<<8|Ht(e.charCodeAt(n+2))<<4|Ht(e.charCodeAt(n+3))}function Ht(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Gp(e,n){const t=e.source.body;switch(t.charCodeAt(n+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw re(e.source,n,`Invalid character escape sequence: "${t.slice(n,n+2)}".`)}function Hp(e,n){const t=e.source.body,i=t.length;let r=e.lineStart,a=n+3,s=a,o="";const l=[];for(;a<i;){const c=t.charCodeAt(a);if(c===34&&t.charCodeAt(a+1)===34&&t.charCodeAt(a+2)===34){o+=t.slice(s,a),l.push(o);const u=ne(e,b.BLOCK_STRING,n,a+3,Ep(l).join(`
`));return e.line+=l.length-1,e.lineStart=r,u}if(c===92&&t.charCodeAt(a+1)===34&&t.charCodeAt(a+2)===34&&t.charCodeAt(a+3)===34){o+=t.slice(s,a),s=a+1,a+=4;continue}if(c===10||c===13){o+=t.slice(s,a),l.push(o),c===13&&t.charCodeAt(a+1)===10?a+=2:++a,o="",s=a,r=a;continue}if(lt(c))++a;else if(Pn(t,a))a+=2;else throw re(e.source,a,`Invalid character within String: ${He(e,a)}.`)}throw re(e.source,a,"Unterminated string.")}function qp(e,n){const t=e.source.body,i=t.length;let r=n+1;for(;r<i;){const a=t.charCodeAt(r);if(Lp(a))++r;else break}return ne(e,b.NAME,n,r,t.slice(n,r))}const Wp=10,ps=2;function ir(e){return Mn(e,[])}function Mn(e,n){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return zp(e,n);default:return String(e)}}function zp(e,n){if(e===null)return"null";if(n.includes(e))return"[Circular]";const t=[...n,e];if(Kp(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:Mn(i,t)}else if(Array.isArray(e))return Xp(e,t);return Yp(e,t)}function Kp(e){return typeof e.toJSON=="function"}function Yp(e,n){const t=Object.entries(e);return t.length===0?"{}":n.length>ps?"["+Qp(e)+"]":"{ "+t.map(([r,a])=>r+": "+Mn(a,n)).join(", ")+" }"}function Xp(e,n){if(e.length===0)return"[]";if(n.length>ps)return"[Array]";const t=Math.min(Wp,e.length),i=e.length-t,r=[];for(let a=0;a<t;++a)r.push(Mn(e[a],n));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function Qp(e){const n=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(n==="Object"&&typeof e.constructor=="function"){const t=e.constructor.name;if(typeof t=="string"&&t!=="")return t}return n}const Zp=globalThis.process&&!0?function(n,t){return n instanceof t}:function(n,t){if(n instanceof t)return!0;if(typeof n=="object"&&n!==null){var i;const r=t.prototype[Symbol.toStringTag],a=Symbol.toStringTag in n?n[Symbol.toStringTag]:(i=n.constructor)===null||i===void 0?void 0:i.name;if(r===a){const s=ir(n);throw new Error(`Cannot use ${r} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class gs{constructor(n,t="GraphQL request",i={line:1,column:1}){typeof n=="string"||Tn(!1,`Body must be a string. Received: ${ir(n)}.`),this.body=n,this.name=t,this.locationOffset=i,this.locationOffset.line>0||Tn(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Tn(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Jp(e){return Zp(e,gs)}function eg(e,n){return new tg(e,n).parseDocument()}class tg{constructor(n,t={}){const i=Jp(n)?n:new gs(n);this._lexer=new Cp(i),this._options=t,this._tokenCounter=0}parseName(){const n=this.expectToken(b.NAME);return this.node(n,{kind:R.NAME,value:n.value})}parseDocument(){return this.node(this._lexer.token,{kind:R.DOCUMENT,definitions:this.many(b.SOF,this.parseDefinition,b.EOF)})}parseDefinition(){if(this.peek(b.BRACE_L))return this.parseOperationDefinition();const n=this.peekDescription(),t=n?this._lexer.lookahead():this._lexer.token;if(t.kind===b.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(n)throw re(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const n=this._lexer.token;if(this.peek(b.BRACE_L))return this.node(n,{kind:R.OPERATION_DEFINITION,operation:ot.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let i;return this.peek(b.NAME)&&(i=this.parseName()),this.node(n,{kind:R.OPERATION_DEFINITION,operation:t,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const n=this.expectToken(b.NAME);switch(n.value){case"query":return ot.QUERY;case"mutation":return ot.MUTATION;case"subscription":return ot.SUBSCRIPTION}throw this.unexpected(n)}parseVariableDefinitions(){return this.optionalMany(b.PAREN_L,this.parseVariableDefinition,b.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:R.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(b.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(b.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const n=this._lexer.token;return this.expectToken(b.DOLLAR),this.node(n,{kind:R.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:R.SELECTION_SET,selections:this.many(b.BRACE_L,this.parseSelection,b.BRACE_R)})}parseSelection(){return this.peek(b.SPREAD)?this.parseFragment():this.parseField()}parseField(){const n=this._lexer.token,t=this.parseName();let i,r;return this.expectOptionalToken(b.COLON)?(i=t,r=this.parseName()):r=t,this.node(n,{kind:R.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(b.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(n){const t=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(b.PAREN_L,t,b.PAREN_R)}parseArgument(n=!1){const t=this._lexer.token,i=this.parseName();return this.expectToken(b.COLON),this.node(t,{kind:R.ARGUMENT,name:i,value:this.parseValueLiteral(n)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const n=this._lexer.token;this.expectToken(b.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(b.NAME)?this.node(n,{kind:R.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(n,{kind:R.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const n=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(n,{kind:R.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:R.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(n){const t=this._lexer.token;switch(t.kind){case b.BRACKET_L:return this.parseList(n);case b.BRACE_L:return this.parseObject(n);case b.INT:return this.advanceLexer(),this.node(t,{kind:R.INT,value:t.value});case b.FLOAT:return this.advanceLexer(),this.node(t,{kind:R.FLOAT,value:t.value});case b.STRING:case b.BLOCK_STRING:return this.parseStringLiteral();case b.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:R.BOOLEAN,value:!0});case"false":return this.node(t,{kind:R.BOOLEAN,value:!1});case"null":return this.node(t,{kind:R.NULL});default:return this.node(t,{kind:R.ENUM,value:t.value})}case b.DOLLAR:if(n)if(this.expectToken(b.DOLLAR),this._lexer.token.kind===b.NAME){const i=this._lexer.token.value;throw re(this._lexer.source,t.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const n=this._lexer.token;return this.advanceLexer(),this.node(n,{kind:R.STRING,value:n.value,block:n.kind===b.BLOCK_STRING})}parseList(n){const t=()=>this.parseValueLiteral(n);return this.node(this._lexer.token,{kind:R.LIST,values:this.any(b.BRACKET_L,t,b.BRACKET_R)})}parseObject(n){const t=()=>this.parseObjectField(n);return this.node(this._lexer.token,{kind:R.OBJECT,fields:this.any(b.BRACE_L,t,b.BRACE_R)})}parseObjectField(n){const t=this._lexer.token,i=this.parseName();return this.expectToken(b.COLON),this.node(t,{kind:R.OBJECT_FIELD,name:i,value:this.parseValueLiteral(n)})}parseDirectives(n){const t=[];for(;this.peek(b.AT);)t.push(this.parseDirective(n));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(n){const t=this._lexer.token;return this.expectToken(b.AT),this.node(t,{kind:R.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n)})}parseTypeReference(){const n=this._lexer.token;let t;if(this.expectOptionalToken(b.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(b.BRACKET_R),t=this.node(n,{kind:R.LIST_TYPE,type:i})}else t=this.parseNamedType();return this.expectOptionalToken(b.BANG)?this.node(n,{kind:R.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:R.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(b.STRING)||this.peek(b.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);return this.node(n,{kind:R.SCHEMA_DEFINITION,description:t,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const n=this._lexer.token,t=this.parseOperationType();this.expectToken(b.COLON);const i=this.parseNamedType();return this.node(n,{kind:R.OPERATION_TYPE_DEFINITION,operation:t,type:i})}parseScalarTypeDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(n,{kind:R.SCALAR_TYPE_DEFINITION,description:t,name:i,directives:r})}parseObjectTypeDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(n,{kind:R.OBJECT_TYPE_DEFINITION,description:t,name:i,interfaces:r,directives:a,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(b.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseFieldDefinition,b.BRACE_R)}parseFieldDefinition(){const n=this._lexer.token,t=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(b.COLON);const a=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(n,{kind:R.FIELD_DEFINITION,description:t,name:i,arguments:r,type:a,directives:s})}parseArgumentDefs(){return this.optionalMany(b.PAREN_L,this.parseInputValueDef,b.PAREN_R)}parseInputValueDef(){const n=this._lexer.token,t=this.parseDescription(),i=this.parseName();this.expectToken(b.COLON);const r=this.parseTypeReference();let a;this.expectOptionalToken(b.EQUALS)&&(a=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(n,{kind:R.INPUT_VALUE_DEFINITION,description:t,name:i,type:r,defaultValue:a,directives:s})}parseInterfaceTypeDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(n,{kind:R.INTERFACE_TYPE_DEFINITION,description:t,name:i,interfaces:r,directives:a,fields:s})}parseUnionTypeDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(n,{kind:R.UNION_TYPE_DEFINITION,description:t,name:i,directives:r,types:a})}parseUnionMemberTypes(){return this.expectOptionalToken(b.EQUALS)?this.delimitedMany(b.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(n,{kind:R.ENUM_TYPE_DEFINITION,description:t,name:i,directives:r,values:a})}parseEnumValuesDefinition(){return this.optionalMany(b.BRACE_L,this.parseEnumValueDefinition,b.BRACE_R)}parseEnumValueDefinition(){const n=this._lexer.token,t=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(n,{kind:R.ENUM_VALUE_DEFINITION,description:t,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw re(this._lexer.source,this._lexer.token.start,`${Dn(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(n,{kind:R.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:i,directives:r,fields:a})}parseInputFieldsDefinition(){return this.optionalMany(b.BRACE_L,this.parseInputValueDef,b.BRACE_R)}parseTypeSystemExtension(){const n=this._lexer.lookahead();if(n.kind===b.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)}parseSchemaExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),i=this.optionalMany(b.BRACE_L,this.parseOperationTypeDefinition,b.BRACE_R);if(t.length===0&&i.length===0)throw this.unexpected();return this.node(n,{kind:R.SCHEMA_EXTENSION,directives:t,operationTypes:i})}parseScalarTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(n,{kind:R.SCALAR_TYPE_EXTENSION,name:t,directives:i})}parseObjectTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(n,{kind:R.OBJECT_TYPE_EXTENSION,name:t,interfaces:i,directives:r,fields:a})}parseInterfaceTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&a.length===0)throw this.unexpected();return this.node(n,{kind:R.INTERFACE_TYPE_EXTENSION,name:t,interfaces:i,directives:r,fields:a})}parseUnionTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:R.UNION_TYPE_EXTENSION,name:t,directives:i,types:r})}parseEnumTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:R.ENUM_TYPE_EXTENSION,name:t,directives:i,values:r})}parseInputObjectTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:R.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:i,fields:r})}parseDirectiveDefinition(){const n=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(b.AT);const i=this.parseName(),r=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(n,{kind:R.DIRECTIVE_DEFINITION,description:t,name:i,arguments:r,repeatable:a,locations:s})}parseDirectiveLocations(){return this.delimitedMany(b.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const n=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(er,t.value))return t;throw this.unexpected(n)}node(n,t){return this._options.noLocation!==!0&&(t.loc=new Dp(n,this._lexer.lastToken,this._lexer.source)),t}peek(n){return this._lexer.token.kind===n}expectToken(n){const t=this._lexer.token;if(t.kind===n)return this.advanceLexer(),t;throw re(this._lexer.source,t.start,`Expected ${vs(n)}, found ${Dn(t)}.`)}expectOptionalToken(n){return this._lexer.token.kind===n?(this.advanceLexer(),!0):!1}expectKeyword(n){const t=this._lexer.token;if(t.kind===b.NAME&&t.value===n)this.advanceLexer();else throw re(this._lexer.source,t.start,`Expected "${n}", found ${Dn(t)}.`)}expectOptionalKeyword(n){const t=this._lexer.token;return t.kind===b.NAME&&t.value===n?(this.advanceLexer(),!0):!1}unexpected(n){const t=n??this._lexer.token;return re(this._lexer.source,t.start,`Unexpected ${Dn(t)}.`)}any(n,t,i){this.expectToken(n);const r=[];for(;!this.expectOptionalToken(i);)r.push(t.call(this));return r}optionalMany(n,t,i){if(this.expectOptionalToken(n)){const r=[];do r.push(t.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(n,t,i){this.expectToken(n);const r=[];do r.push(t.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(n,t){this.expectOptionalToken(n);const i=[];do i.push(t.call(this));while(this.expectOptionalToken(n));return i}advanceLexer(){const{maxTokens:n}=this._options,t=this._lexer.advance();if(n!==void 0&&t.kind!==b.EOF&&(++this._tokenCounter,this._tokenCounter>n))throw re(this._lexer.source,t.start,`Document contains more that ${n} tokens. Parsing aborted.`)}}function Dn(e){const n=e.value;return vs(e.kind)+(n!=null?` "${n}"`:"")}function vs(e){return Sp(e)?`"${e}"`:e}function ng(e){return`"${e.replace(ig,rg)}"`}const ig=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function rg(e){return ag[e.charCodeAt(0)]}const ag=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],sg=Object.freeze({});function og(e,n,t=ls){const i=new Map;for(const x of Object.values(R))i.set(x,lg(n,x));let r,a=Array.isArray(e),s=[e],o=-1,l=[],c=e,u,d;const m=[],p=[];do{o++;const x=o===s.length,P=x&&l.length!==0;if(x){if(u=p.length===0?void 0:m[m.length-1],c=d,d=p.pop(),P)if(a){c=c.slice();let S=0;for(const[E,Q]of l){const K=E-S;Q===null?(c.splice(K,1),S++):c[K]=Q}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[S,E]of l)c[S]=E}o=r.index,s=r.keys,l=r.edits,a=r.inArray,r=r.prev}else if(d){if(u=a?o:s[o],c=d[u],c==null)continue;m.push(u)}let _;if(!Array.isArray(c)){var h,v;cs(c)||Tn(!1,`Invalid AST Node: ${ir(c)}.`);const S=x?(h=i.get(c.kind))===null||h===void 0?void 0:h.leave:(v=i.get(c.kind))===null||v===void 0?void 0:v.enter;if(_=S==null?void 0:S.call(n,c,u,d,m,p),_===sg)break;if(_===!1){if(!x){m.pop();continue}}else if(_!==void 0&&(l.push([u,_]),!x))if(cs(_))c=_;else{m.pop();continue}}if(_===void 0&&P&&l.push([u,c]),x)m.pop();else{var g;r={inArray:a,index:o,keys:s,edits:l,prev:r},a=Array.isArray(c),s=a?c:(g=t[c.kind])!==null&&g!==void 0?g:[],o=-1,l=[],d&&p.push(d),d=c}}while(r!==void 0);return l.length!==0?l[l.length-1][1]:e}function lg(e,n){const t=e[n];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:e.enter,leave:e.leave}}function cg(e){return og(e,dg)}const ug=80,dg={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>M(e.definitions,`

`)},OperationDefinition:{leave(e){const n=N("(",M(e.variableDefinitions,", "),")"),t=M([e.operation,M([e.name,n]),M(e.directives," ")]," ");return(t==="query"?"":t+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:n,defaultValue:t,directives:i})=>e+": "+n+N(" = ",t)+N(" ",M(i," "))},SelectionSet:{leave:({selections:e})=>$e(e)},Field:{leave({alias:e,name:n,arguments:t,directives:i,selectionSet:r}){const a=N("",e,": ")+n;let s=a+N("(",M(t,", "),")");return s.length>ug&&(s=a+N(`(
`,kn(M(t,`
`)),`
)`)),M([s,M(i," "),r]," ")}},Argument:{leave:({name:e,value:n})=>e+": "+n},FragmentSpread:{leave:({name:e,directives:n})=>"..."+e+N(" ",M(n," "))},InlineFragment:{leave:({typeCondition:e,directives:n,selectionSet:t})=>M(["...",N("on ",e),M(n," "),t]," ")},FragmentDefinition:{leave:({name:e,typeCondition:n,variableDefinitions:t,directives:i,selectionSet:r})=>`fragment ${e}${N("(",M(t,", "),")")} on ${n} ${N("",M(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:n})=>n?Rp(e):ng(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+M(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+M(e,", ")+"}"},ObjectField:{leave:({name:e,value:n})=>e+": "+n},Directive:{leave:({name:e,arguments:n})=>"@"+e+N("(",M(n,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:n,operationTypes:t})=>N("",e,`
`)+M(["schema",M(n," "),$e(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:n})=>e+": "+n},ScalarTypeDefinition:{leave:({description:e,name:n,directives:t})=>N("",e,`
`)+M(["scalar",n,M(t," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:n,interfaces:t,directives:i,fields:r})=>N("",e,`
`)+M(["type",n,N("implements ",M(t," & ")),M(i," "),$e(r)]," ")},FieldDefinition:{leave:({description:e,name:n,arguments:t,type:i,directives:r})=>N("",e,`
`)+n+(xs(t)?N(`(
`,kn(M(t,`
`)),`
)`):N("(",M(t,", "),")"))+": "+i+N(" ",M(r," "))},InputValueDefinition:{leave:({description:e,name:n,type:t,defaultValue:i,directives:r})=>N("",e,`
`)+M([n+": "+t,N("= ",i),M(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:n,interfaces:t,directives:i,fields:r})=>N("",e,`
`)+M(["interface",n,N("implements ",M(t," & ")),M(i," "),$e(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:n,directives:t,types:i})=>N("",e,`
`)+M(["union",n,M(t," "),N("= ",M(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:n,directives:t,values:i})=>N("",e,`
`)+M(["enum",n,M(t," "),$e(i)]," ")},EnumValueDefinition:{leave:({description:e,name:n,directives:t})=>N("",e,`
`)+M([n,M(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:n,directives:t,fields:i})=>N("",e,`
`)+M(["input",n,M(t," "),$e(i)]," ")},DirectiveDefinition:{leave:({description:e,name:n,arguments:t,repeatable:i,locations:r})=>N("",e,`
`)+"directive @"+n+(xs(t)?N(`(
`,kn(M(t,`
`)),`
)`):N("(",M(t,", "),")"))+(i?" repeatable":"")+" on "+M(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:n})=>M(["extend schema",M(e," "),$e(n)]," ")},ScalarTypeExtension:{leave:({name:e,directives:n})=>M(["extend scalar",e,M(n," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:n,directives:t,fields:i})=>M(["extend type",e,N("implements ",M(n," & ")),M(t," "),$e(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:n,directives:t,fields:i})=>M(["extend interface",e,N("implements ",M(n," & ")),M(t," "),$e(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:n,types:t})=>M(["extend union",e,M(n," "),N("= ",M(t," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:n,values:t})=>M(["extend enum",e,M(n," "),$e(t)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:n,fields:t})=>M(["extend input",e,M(n," "),$e(t)]," ")}};function M(e,n=""){var t;return(t=e==null?void 0:e.filter(i=>i).join(n))!==null&&t!==void 0?t:""}function $e(e){return N(`{
`,kn(M(e,`
`)),`
}`)}function N(e,n,t=""){return n!=null&&n!==""?e+n+t:""}function kn(e){return N("  ",e.replace(/\n/g,`
  `))}function xs(e){var n;return(n=e==null?void 0:e.some(t=>t.includes(`
`)))!==null&&n!==void 0?n:!1}let bs=class extends Error{constructor(t,i,r){const a=t.status||t.status===0?t.status:"",s=t.statusText||"",o=`${a} ${s}`.trim(),l=o?`status code ${o}`:"an unknown error";super(`Request failed with ${l}: ${i.method} ${i.url}`);$(this,"response");$(this,"request");$(this,"options");this.name="HTTPError",this.response=t,this.request=i,this.options=r}};class ys extends Error{constructor(t){super(`Request timed out: ${t.method} ${t.url}`);$(this,"request");this.name="TimeoutError",this.request=t}}const qt=e=>e!==null&&typeof e=="object",Ln=(...e)=>{for(const n of e)if((!qt(n)||Array.isArray(n))&&n!==void 0)throw new TypeError("The `options` argument must be an object");return rr({},...e)},_s=(e={},n={})=>{const t=new globalThis.Headers(e),i=n instanceof globalThis.Headers,r=new globalThis.Headers(n);for(const[a,s]of r.entries())i&&s==="undefined"||s===void 0?t.delete(a):t.set(a,s);return t};function En(e,n,t){return Object.hasOwn(n,t)&&n[t]===void 0?[]:rr(e[t]??[],n[t]??[])}const $s=(e={},n={})=>({beforeRequest:En(e,n,"beforeRequest"),beforeRetry:En(e,n,"beforeRetry"),afterResponse:En(e,n,"afterResponse"),beforeError:En(e,n,"beforeError")}),rr=(...e)=>{let n={},t={},i={};for(const r of e)if(Array.isArray(r))Array.isArray(n)||(n=[]),n=[...n,...r];else if(qt(r)){for(let[a,s]of Object.entries(r))qt(s)&&a in n&&(s=rr(n[a],s)),n={...n,[a]:s};qt(r.hooks)&&(i=$s(i,r.hooks),n.hooks=i),qt(r.headers)&&(t=_s(t,r.headers),n.headers=t)}return n},hg=(()=>{let e=!1,n=!1;const t=typeof globalThis.ReadableStream=="function",i=typeof globalThis.Request=="function";if(t&&i)try{n=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(r){if(r instanceof Error&&r.message==="unsupported BodyInit type")return!1;throw r}return e&&!n})(),fg=typeof globalThis.AbortController=="function",mg=typeof globalThis.ReadableStream=="function",pg=typeof globalThis.FormData=="function",Is=["get","post","put","patch","head","delete"],gg={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},ar=2147483647,ws=Symbol("stop"),vg={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},xg={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},bg=e=>Is.includes(e)?e.toUpperCase():e,As={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},yg=(e={})=>{if(typeof e=="number")return{...As,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...As,...e}};async function _g(e,n,t,i){return new Promise((r,a)=>{const s=setTimeout(()=>{t&&t.abort(),a(new ys(e))},i.timeout);i.fetch(e,n).then(r).catch(a).then(()=>{clearTimeout(s)})})}async function $g(e,{signal:n}){return new Promise((t,i)=>{n&&(n.throwIfAborted(),n.addEventListener("abort",r,{once:!0}));function r(){clearTimeout(a),i(n.reason)}const a=setTimeout(()=>{n==null||n.removeEventListener("abort",r),t()},e)})}const Ig=(e,n)=>{const t={};for(const i in n)!(i in xg)&&!(i in vg)&&!(i in e)&&(t[i]=n[i]);return t};class On{constructor(n,t={}){$(this,"request");$(this,"abortController");$(this,"_retryCount",0);$(this,"_input");$(this,"_options");var i,r;if(this._input=n,this._options={...t,headers:_s(this._input.headers,t.headers),hooks:$s({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:bg(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:yg(t.retry),throwHttpErrors:t.throwHttpErrors!==!1,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(fg){this.abortController=new globalThis.AbortController;const a=this._options.signal??this._input.signal;a==null||a.addEventListener("abort",()=>{this.abortController.abort(a.reason)}),this._options.signal=this.abortController.signal}if(hg&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((r=(i=this._options).stringifyJson)==null?void 0:r.call(i,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const s="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),o=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,s);(pg&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(o,{...this.request}),this._options)}}static create(n,t){const i=new On(n,t),r=async()=>{if(typeof i._options.timeout=="number"&&i._options.timeout>ar)throw new RangeError(`The \`timeout\` option cannot be greater than ${ar}`);await Promise.resolve();let o=await i._fetch();for(const l of i._options.hooks.afterResponse){const c=await l(i.request,i._options,i._decorateResponse(o.clone()));c instanceof globalThis.Response&&(o=c)}if(i._decorateResponse(o),!o.ok&&i._options.throwHttpErrors){let l=new bs(o,i.request,i._options);for(const c of i._options.hooks.beforeError)l=await c(l);throw l}if(i._options.onDownloadProgress){if(typeof i._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!mg)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return i._stream(o.clone(),i._options.onDownloadProgress)}return o},s=i._options.retry.methods.includes(i.request.method.toLowerCase())?i._retry(r):r();for(const[o,l]of Object.entries(gg))s[o]=async()=>{i.request.headers.set("accept",i.request.headers.get("accept")||l);const u=(await s).clone();if(o==="json"){if(u.status===204||(await u.clone().arrayBuffer()).byteLength===0)return"";if(t.parseJson)return t.parseJson(await u.text())}return u[o]()};return s}_calculateRetryDelay(n){if(this._retryCount++,this._retryCount>this._options.retry.limit||n instanceof ys)throw n;if(n instanceof bs){if(!this._options.retry.statusCodes.includes(n.response.status))throw n;const i=n.response.headers.get("Retry-After")??n.response.headers.get("RateLimit-Reset")??n.response.headers.get("X-RateLimit-Reset")??n.response.headers.get("X-Rate-Limit-Reset");if(i&&this._options.retry.afterStatusCodes.includes(n.response.status)){let r=Number(i)*1e3;Number.isNaN(r)?r=Date.parse(i)-Date.now():r>=Date.parse("2024-01-01")&&(r-=Date.now());const a=this._options.retry.maxRetryAfter??r;return r<a?r:a}if(n.response.status===413)throw n}const t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}_decorateResponse(n){return this._options.parseJson&&(n.json=async()=>this._options.parseJson(await n.text())),n}async _retry(n){try{return await n()}catch(t){const i=Math.min(this._calculateRetryDelay(t),ar);if(this._retryCount<1)throw t;await $g(i,{signal:this._options.signal});for(const r of this._options.hooks.beforeRetry)if(await r({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===ws)return;return this._retry(n)}}async _fetch(){for(const i of this._options.hooks.beforeRequest){const r=await i(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}const n=Ig(this.request,this._options),t=this.request;return this.request=t.clone(),this._options.timeout===!1?this._options.fetch(t,n):_g(t,n,this.abortController,this._options)}_stream(n,t){const i=Number(n.headers.get("content-length"))||0;let r=0;return n.status===204?(t&&t({percent:1,totalBytes:i,transferredBytes:r},new Uint8Array),new globalThis.Response(null,{status:n.status,statusText:n.statusText,headers:n.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(a){const s=n.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:i},new Uint8Array);async function o(){const{done:l,value:c}=await s.read();if(l){a.close();return}if(t){r+=c.byteLength;const u=i===0?0:r/i;t({percent:u,transferredBytes:r,totalBytes:i},c)}a.enqueue(c),await o()}await o()}}),{status:n.status,statusText:n.statusText,headers:n.headers})}}/*! MIT License © Sindre Sorhus */const sr=e=>{const n=(t,i)=>On.create(t,Ln(e,i));for(const t of Is)n[t]=(i,r)=>On.create(i,Ln(e,r,{method:t}));return n.create=t=>sr(Ln(t)),n.extend=t=>(typeof t=="function"&&(t=t(e??{})),sr(Ln(e,t))),n.stop=ws,n},wg=sr();var Rn=function(){return Rn=Object.assign||function(n){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Rn.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var Cn=new Map,or=new Map,Ts=!0,Sn=!1;function Ps(e){return e.replace(/[\s,]+/g," ").trim()}function Ag(e){return Ps(e.source.body.substring(e.start,e.end))}function Tg(e){var n=new Set,t=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,a=Ag(i.loc),s=or.get(r);s&&!s.has(a)?Ts&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||or.set(r,s=new Set),s.add(a),n.has(a)||(n.add(a),t.push(i))}else t.push(i)}),Rn(Rn({},e),{definitions:t})}function Pg(e){var n=new Set(e.definitions);n.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var a=i[r];a&&typeof a=="object"&&n.add(a)})});var t=e.loc;return t&&(delete t.startToken,delete t.endToken),e}function Mg(e){var n=Ps(e);if(!Cn.has(n)){var t=eg(e,{experimentalFragmentVariables:Sn,allowLegacyFragmentVariables:Sn});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");Cn.set(n,Pg(Tg(t)))}return Cn.get(n)}function de(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];typeof e=="string"&&(e=[e]);var i=e[0];return n.forEach(function(r,a){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=e[a+1]}),Mg(i)}function Dg(){Cn.clear(),or.clear()}function kg(){Ts=!1}function Lg(){Sn=!0}function Eg(){Sn=!1}var Wt={gql:de,resetCaches:Dg,disableFragmentWarnings:kg,enableExperimentalFragmentVariables:Lg,disableExperimentalFragmentVariables:Eg};(function(e){e.gql=Wt.gql,e.resetCaches=Wt.resetCaches,e.disableFragmentWarnings=Wt.disableFragmentWarnings,e.enableExperimentalFragmentVariables=Wt.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=Wt.disableExperimentalFragmentVariables})(de||(de={})),de.default=de;const Og=de`
    mutation addScience($identifier: String!, $presences: [String], $os: String, $arch: String) {
  addScience(identifier: $identifier, presences: $presences, os: $os, arch: $arch) {
    identifier
  }
}
    `,Rg=de`
    query getAccessType($userId: String) {
  alphaBetaAccess(userId: $userId) {
    alphaAccess
    betaAccess
  }
}
    `,Cg=de`
    mutation sendFeedback($input: String!, $type: FeedbackType!, $email: String, $discord: String) {
  sendFeedback(input: $input, type: $type, email: $email, discord: $discord) {
    success
  }
}
    `,Sg=de`
    mutation heartbeat($identifier: String!, $presence: HeartbeatPresenceInput, $extension: HeartbeatExtensionInput!) {
  heartbeat(identifier: $identifier, presence: $presence, extension: $extension) {
    identifier
  }
}
    `,Ug=de`
    query getAvailableLanguages {
  availableLanguages {
    lang
    direction
    nativeName
  }
}
    `,Fg=de`
    query fetchLangFile($lang: String!) {
  default: strings(lang: "en-US", project: "extension") {
    translations
  }
  strings(lang: $lang, project: "extension") {
    translations
  }
  defaultGeneralStrings: strings(lang: "en-US", project: "presence") {
    translations
  }
  generalStrings: strings(lang: $lang, project: "presence") {
    translations
  }
}
    `,Ng=de`
    query fetchPresenceLangFiles($lang: String!, $services: StringOrStringArray!) {
  default: strings(lang: "en-US", project: "presence", presence: $services) {
    translations
  }
  strings(lang: $lang, project: "presence") {
    translations
  }
}
    `,Bg=de`
    query getAvailablePresenceLanguages($services: StringOrStringArray!) {
  availablePresenceLanguages(presence: $services) {
    presence
    languages {
      lang
      direction
      nativeName
    }
  }
}
    `;function Ms(e){return{addScience(n,t){return e(Og,n,t)},getAccessType(n,t){return e(Rg,n,t)},sendFeedback(n,t){return e(Cg,n,t)},heartbeat(n,t){return e(Sg,n,t)},getAvailableLanguages(n,t){return e(Ug,n,t)},fetchLangFile(n,t){return e(Fg,n,t)},fetchPresenceLangFiles(n,t){return e(Ng,n,t)},getAvailablePresenceLanguages(n,t){return e(Bg,n,t)}}}function Ds(e){return async(t,i)=>(await wg.post(e,{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:cg(t),variables:i}),cache:"no-cache"}).json()).data}const Un=Ms(Ds(`${`https://${_i}`}/v4`));Ms(Ds(`${`https://${_i}`}/v3`));const zt={direction:"ltr",lang:"en-US",nativeName:"English, United States"};class jg extends an{constructor(t){super();$(this,"initialized");$(this,"log",kt.extend("LanguageManager"));$(this,"availableLanguages",[zt]);$(this,"language",this.determineDefaultLanguage().lang);this.pmd=t,this.initialized=nt().then(async i=>{if(await this.getAvailableLanguages(),!i)return;const r=await le.getValue();this.language=r!=null&&r.language&&this.availableLanguages.map(a=>a.lang).includes(r.language)?r.language:this.determineDefaultLanguage().lang,this.log("Loading translations for %s",this.language),await this.fetchLanguage(),le.watch(async({language:a},{language:s})=>{a&&s!==a&&(this.language=a,await this.fetchLanguage())})})}async setLanguage(t){if(this.log("Setting language to %s",t),!this.availableLanguages.some(i=>i.lang===t))return this.log("Language %s not available",t);this.language=t,await Ip("language",t),await this.fetchLanguage(),await this.pmd.presenceManager.setPresencesLanguage(t)}async fetchLanguage(t){var i,r,a,s;t??(t=this.language);try{const{strings:o,default:l,generalStrings:c,defaultGeneralStrings:u}=await Un.fetchLangFile({lang:t});await Ta.setValue({default:(i=l[0])==null?void 0:i.translations,strings:(r=o[0])==null?void 0:r.translations}),await Pa.setValue({default:(a=u[0])==null?void 0:a.translations,strings:(s=c[0])==null?void 0:s.translations}),this.log("Fetched strings for %s",t),this.emit("newLanguageFetched")}catch{this.log("Failed to fetch strings for language %s",t)}}async getAvailableLanguages(){if(await nt()){try{const{availableLanguages:t}=await Un.getAvailableLanguages();this.availableLanguages=t.map(i=>({direction:i.direction,lang:i.lang,nativeName:i.nativeName})),await Oi.setValue(this.availableLanguages),this.log("Fetched available languages")}catch{this.log("Failed to get available languages"),this.availableLanguages=await Oi.getValue()}await this.initializeUserLanguageSettings()}else this.availableLanguages=await Oi.getValue()}async initializeUserLanguageSettings(){const t=await le.getValue();t.language||(t.language=this.determineDefaultLanguage().lang),t.presencesLanguage||(t.presencesLanguage=this.determineDefaultLanguage().lang),await le.setValue(t)}async getStrings(t){const i={},r=await Ta.getValue(),a=await Pa.getValue(),{strings:s,default:o}=r||{},{strings:l,default:c}=a||{};for(const[u,d]of Object.entries(t))i[u]=(s==null?void 0:s[d])??(o==null?void 0:o[d])??(l==null?void 0:l[d])??(c==null?void 0:c[d])??d;return i}async getPresenceStrings(t,i){var o;const r={},{strings:a,default:s}=((o=await this.pmd.storageManager.get("local",`${t}_strings`))==null?void 0:o[`${t}_strings`])||{};for(const[l,c]of Object.entries(i))r[l]=(a==null?void 0:a[c])??(s==null?void 0:s[c])??c;return r}async getPresenceLanguage(t){const i=await this.pmd.presenceManager.getSettingObject(t,"lang"),r=await le.getValue();let a=(r==null?void 0:r.language)??this.language;return i!=null&&i.multiLanguage&&(typeof i.value=="string"||i.value===void 0)&&(a=i.value??(r==null?void 0:r.language)??this.language),a}async fetchPresenceStrings(t){var o,l;const i=await this.pmd.presenceManager.getSettingObject(t,"lang"),r=await le.getValue();let a=(r==null?void 0:r.presencesLanguage)??this.language;const s=[];i!=null&&i.multiLanguage&&(typeof i.value=="string"||i.value===void 0)&&(a=i.value??(r==null?void 0:r.presencesLanguage)??this.language,i.multiLanguage===!0?s.push(t):s.push(...[i.multiLanguage].flat()));try{const{strings:c,default:u}=await Un.fetchPresenceLangFiles({lang:a,services:s});await this.pmd.storageManager.set("local",{[`${t}_strings`]:{default:(o=u[0])==null?void 0:o.translations,strings:(l=c[0])==null?void 0:l.translations}}),this.log("Saved presence strings for %s",t)}catch{this.log("Failed to fetch presence strings for %s",t)}}async fetchPresenceAvailableLanguages(...t){try{const{availablePresenceLanguages:i}=await Un.getAvailablePresenceLanguages({services:t});await Promise.all(i.map(r=>this.pmd.storageManager.set("local",{[`${r.presence}_availableLanguages`]:r.languages.map(a=>({direction:a.direction,lang:a.lang,nativeName:a.nativeName}))}))),this.log("Saved available presence language for %s service(s)",t.length)}catch{this.log("Failed to fetch available presence language for %s services(s)",t.length)}}getBrowserLanguage(){var i,r;if(!((i=A==null?void 0:A.i18n)!=null&&i.getUILanguage))return;const t=A.i18n.getUILanguage();try{const a=Intl.Locale?new Intl.Locale(t).language:t.split(/[_-]/)[0];return(r=this.availableLanguages.find(s=>s.lang.startsWith(a)))==null?void 0:r.lang}catch{return}}determineDefaultLanguage(){const t=this.getBrowserLanguage();if(t&&this.availableLanguages.map(i=>i.lang).includes(t))return this.availableLanguages.find(i=>i.lang===t);if(t){const i=t.split(/[_-]/)[0],r=this.availableLanguages.find(a=>a.lang.startsWith(i));if(r)return r}return zt}}var Vg=Object.defineProperty,Re=(e,n)=>Vg(e,"name",{value:n,configurable:!0});function Gg(e){let n;return()=>n??(n=e())}Re(Gg,"lazy");function*Hg(e){let n,t=0,i=1;typeof e=="number"?n=e:(t=e.start,n=e.end,i=e.step??1);for(let r=t;r<n;r+=i)yield r}Re(Hg,"range");function qg(e,n){return Number(BigInt(e)>>22n)%n}Re(qg,"calculateShardId");function Wg(){return typeof globalThis.process>"u"?"fetch"in globalThis&&"WebSocket"in globalThis:"versions"in globalThis.process?"deno"in globalThis.process.versions||"bun"in globalThis.process.versions:!1}Re(Wg,"shouldUseGlobalFetchAndWebSocket");function ks(){if(typeof globalThis.EdgeRuntime<"u")return"Vercel-Edge-Functions";if(typeof globalThis.R2<"u"&&typeof globalThis.WebSocketPair<"u")return"Cloudflare-Workers";if(typeof globalThis.Netlify<"u")return"Netlify-Edge-Functions";if(typeof globalThis.process!="object")return typeof globalThis.navigator=="object"?globalThis.navigator.userAgent:"UnknownEnvironment";if("versions"in globalThis.process){if("deno"in globalThis.process.versions)return`Deno/${globalThis.process.versions.deno}`;if("bun"in globalThis.process.versions)return`Bun/${globalThis.process.versions.bun}`;if("node"in globalThis.process.versions)return`Node.js/${globalThis.process.versions.node}`}return"UnknownEnvironment"}Re(ks,"getUserAgentAppendix");function zg(){Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"))}Re(zg,"polyfillDispose");function Kg(e){return e!==null&&typeof e=="object"&&"toJSON"in e}Re(Kg,"isJSONEncodable");function Yg(e){return e!==null&&typeof e=="object"&&"equals"in e}Re(Yg,"isEquatable");var Ls={},Es={},Os={};Object.defineProperty(Os,"__esModule",{value:!0}),function(e){var n=D&&D.__createBinding||(Object.create?function(o,l,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(l,c);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(o,u,d)}:function(o,l,c,u){u===void 0&&(u=c),o[u]=l[c]}),t=D&&D.__exportStar||function(o,l){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&n(l,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.GatewayDispatchEvents=e.GatewayIntentBits=e.GatewayCloseCodes=e.GatewayOpcodes=e.GatewayVersion=void 0,t(Os,e),e.GatewayVersion="10";var i;(function(o){o[o.Dispatch=0]="Dispatch",o[o.Heartbeat=1]="Heartbeat",o[o.Identify=2]="Identify",o[o.PresenceUpdate=3]="PresenceUpdate",o[o.VoiceStateUpdate=4]="VoiceStateUpdate",o[o.Resume=6]="Resume",o[o.Reconnect=7]="Reconnect",o[o.RequestGuildMembers=8]="RequestGuildMembers",o[o.InvalidSession=9]="InvalidSession",o[o.Hello=10]="Hello",o[o.HeartbeatAck=11]="HeartbeatAck"})(i||(e.GatewayOpcodes=i={}));var r;(function(o){o[o.UnknownError=4e3]="UnknownError",o[o.UnknownOpcode=4001]="UnknownOpcode",o[o.DecodeError=4002]="DecodeError",o[o.NotAuthenticated=4003]="NotAuthenticated",o[o.AuthenticationFailed=4004]="AuthenticationFailed",o[o.AlreadyAuthenticated=4005]="AlreadyAuthenticated",o[o.InvalidSeq=4007]="InvalidSeq",o[o.RateLimited=4008]="RateLimited",o[o.SessionTimedOut=4009]="SessionTimedOut",o[o.InvalidShard=4010]="InvalidShard",o[o.ShardingRequired=4011]="ShardingRequired",o[o.InvalidAPIVersion=4012]="InvalidAPIVersion",o[o.InvalidIntents=4013]="InvalidIntents",o[o.DisallowedIntents=4014]="DisallowedIntents"})(r||(e.GatewayCloseCodes=r={}));var a;(function(o){o[o.Guilds=1]="Guilds",o[o.GuildMembers=2]="GuildMembers",o[o.GuildModeration=4]="GuildModeration",o[o.GuildBans=4]="GuildBans",o[o.GuildEmojisAndStickers=8]="GuildEmojisAndStickers",o[o.GuildIntegrations=16]="GuildIntegrations",o[o.GuildWebhooks=32]="GuildWebhooks",o[o.GuildInvites=64]="GuildInvites",o[o.GuildVoiceStates=128]="GuildVoiceStates",o[o.GuildPresences=256]="GuildPresences",o[o.GuildMessages=512]="GuildMessages",o[o.GuildMessageReactions=1024]="GuildMessageReactions",o[o.GuildMessageTyping=2048]="GuildMessageTyping",o[o.DirectMessages=4096]="DirectMessages",o[o.DirectMessageReactions=8192]="DirectMessageReactions",o[o.DirectMessageTyping=16384]="DirectMessageTyping",o[o.MessageContent=32768]="MessageContent",o[o.GuildScheduledEvents=65536]="GuildScheduledEvents",o[o.AutoModerationConfiguration=1048576]="AutoModerationConfiguration",o[o.AutoModerationExecution=2097152]="AutoModerationExecution",o[o.GuildMessagePolls=16777216]="GuildMessagePolls",o[o.DirectMessagePolls=33554432]="DirectMessagePolls"})(a||(e.GatewayIntentBits=a={}));var s;(function(o){o.ApplicationCommandPermissionsUpdate="APPLICATION_COMMAND_PERMISSIONS_UPDATE",o.ChannelCreate="CHANNEL_CREATE",o.ChannelDelete="CHANNEL_DELETE",o.ChannelPinsUpdate="CHANNEL_PINS_UPDATE",o.ChannelUpdate="CHANNEL_UPDATE",o.GuildBanAdd="GUILD_BAN_ADD",o.GuildBanRemove="GUILD_BAN_REMOVE",o.GuildCreate="GUILD_CREATE",o.GuildDelete="GUILD_DELETE",o.GuildEmojisUpdate="GUILD_EMOJIS_UPDATE",o.GuildIntegrationsUpdate="GUILD_INTEGRATIONS_UPDATE",o.GuildMemberAdd="GUILD_MEMBER_ADD",o.GuildMemberRemove="GUILD_MEMBER_REMOVE",o.GuildMembersChunk="GUILD_MEMBERS_CHUNK",o.GuildMemberUpdate="GUILD_MEMBER_UPDATE",o.GuildRoleCreate="GUILD_ROLE_CREATE",o.GuildRoleDelete="GUILD_ROLE_DELETE",o.GuildRoleUpdate="GUILD_ROLE_UPDATE",o.GuildStickersUpdate="GUILD_STICKERS_UPDATE",o.GuildUpdate="GUILD_UPDATE",o.IntegrationCreate="INTEGRATION_CREATE",o.IntegrationDelete="INTEGRATION_DELETE",o.IntegrationUpdate="INTEGRATION_UPDATE",o.InteractionCreate="INTERACTION_CREATE",o.InviteCreate="INVITE_CREATE",o.InviteDelete="INVITE_DELETE",o.MessageCreate="MESSAGE_CREATE",o.MessageDelete="MESSAGE_DELETE",o.MessageDeleteBulk="MESSAGE_DELETE_BULK",o.MessageReactionAdd="MESSAGE_REACTION_ADD",o.MessageReactionRemove="MESSAGE_REACTION_REMOVE",o.MessageReactionRemoveAll="MESSAGE_REACTION_REMOVE_ALL",o.MessageReactionRemoveEmoji="MESSAGE_REACTION_REMOVE_EMOJI",o.MessageUpdate="MESSAGE_UPDATE",o.PresenceUpdate="PRESENCE_UPDATE",o.StageInstanceCreate="STAGE_INSTANCE_CREATE",o.StageInstanceDelete="STAGE_INSTANCE_DELETE",o.StageInstanceUpdate="STAGE_INSTANCE_UPDATE",o.Ready="READY",o.Resumed="RESUMED",o.ThreadCreate="THREAD_CREATE",o.ThreadDelete="THREAD_DELETE",o.ThreadListSync="THREAD_LIST_SYNC",o.ThreadMembersUpdate="THREAD_MEMBERS_UPDATE",o.ThreadMemberUpdate="THREAD_MEMBER_UPDATE",o.ThreadUpdate="THREAD_UPDATE",o.TypingStart="TYPING_START",o.UserUpdate="USER_UPDATE",o.VoiceServerUpdate="VOICE_SERVER_UPDATE",o.VoiceStateUpdate="VOICE_STATE_UPDATE",o.WebhooksUpdate="WEBHOOKS_UPDATE",o.MessagePollVoteAdd="MESSAGE_POLL_VOTE_ADD",o.MessagePollVoteRemove="MESSAGE_POLL_VOTE_REMOVE",o.GuildScheduledEventCreate="GUILD_SCHEDULED_EVENT_CREATE",o.GuildScheduledEventUpdate="GUILD_SCHEDULED_EVENT_UPDATE",o.GuildScheduledEventDelete="GUILD_SCHEDULED_EVENT_DELETE",o.GuildScheduledEventUserAdd="GUILD_SCHEDULED_EVENT_USER_ADD",o.GuildScheduledEventUserRemove="GUILD_SCHEDULED_EVENT_USER_REMOVE",o.AutoModerationRuleCreate="AUTO_MODERATION_RULE_CREATE",o.AutoModerationRuleUpdate="AUTO_MODERATION_RULE_UPDATE",o.AutoModerationRuleDelete="AUTO_MODERATION_RULE_DELETE",o.AutoModerationActionExecution="AUTO_MODERATION_ACTION_EXECUTION",o.GuildAuditLogEntryCreate="GUILD_AUDIT_LOG_ENTRY_CREATE",o.EntitlementCreate="ENTITLEMENT_CREATE",o.EntitlementUpdate="ENTITLEMENT_UPDATE",o.EntitlementDelete="ENTITLEMENT_DELETE"})(s||(e.GatewayDispatchEvents=s={}))}(Es);const ct=X(Es),Xg=ct.GatewayCloseCodes,Qg=ct.GatewayDispatchEvents,Zg=ct.GatewayIntentBits,Jg=ct.GatewayOpcodes,ev=ct.GatewayVersion,tv=Ee(Object.freeze(Object.defineProperty({__proto__:null,GatewayCloseCodes:Xg,GatewayDispatchEvents:Qg,GatewayIntentBits:Zg,GatewayOpcodes:Jg,GatewayVersion:ev,default:ct},Symbol.toStringTag,{value:"Module"})));var Rs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingPatterns=void 0,e.FormattingPatterns={User:/<@(?<id>\d{17,20})>/,UserWithNickname:/<@!(?<id>\d{17,20})>/,UserWithOptionalNickname:/<@!?(?<id>\d{17,20})>/,Channel:/<#(?<id>\d{17,20})>/,Role:/<@&(?<id>\d{17,20})>/,SlashCommand:/<\/(?<fullName>(?<name>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32})(?: (?<subcommandOrGroup>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32}))?(?: (?<subcommand>[-_\p{Letter}\p{Number}\p{sc=Deva}\p{sc=Thai}]{1,32}))?):(?<id>\d{17,20})>/u,Emoji:/<(?<animated>a)?:(?<name>\w{2,32}):(?<id>\d{17,20})>/,AnimatedEmoji:/<(?<animated>a):(?<name>\w{2,32}):(?<id>\d{17,20})>/,StaticEmoji:/<:(?<name>\w{2,32}):(?<id>\d{17,20})>/,Timestamp:/<t:(?<timestamp>-?\d{1,13})(:(?<style>[DFRTdft]))?>/,DefaultStyledTimestamp:/<t:(?<timestamp>-?\d{1,13})>/,StyledTimestamp:/<t:(?<timestamp>-?\d{1,13}):(?<style>[DFRTdft])>/},Object.freeze(e.FormattingPatterns)})(Rs);const Cs=X(Rs),nv=Cs.FormattingPatterns,iv=Ee(Object.freeze(Object.defineProperty({__proto__:null,FormattingPatterns:nv,default:Cs},Symbol.toStringTag,{value:"Module"})));var Ss={},Us={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionFlagsBits=void 0,e.PermissionFlagsBits={CreateInstantInvite:1n<<0n,KickMembers:1n<<1n,BanMembers:1n<<2n,Administrator:1n<<3n,ManageChannels:1n<<4n,ManageGuild:1n<<5n,AddReactions:1n<<6n,ViewAuditLog:1n<<7n,PrioritySpeaker:1n<<8n,Stream:1n<<9n,ViewChannel:1n<<10n,SendMessages:1n<<11n,SendTTSMessages:1n<<12n,ManageMessages:1n<<13n,EmbedLinks:1n<<14n,AttachFiles:1n<<15n,ReadMessageHistory:1n<<16n,MentionEveryone:1n<<17n,UseExternalEmojis:1n<<18n,ViewGuildInsights:1n<<19n,Connect:1n<<20n,Speak:1n<<21n,MuteMembers:1n<<22n,DeafenMembers:1n<<23n,MoveMembers:1n<<24n,UseVAD:1n<<25n,ChangeNickname:1n<<26n,ManageNicknames:1n<<27n,ManageRoles:1n<<28n,ManageWebhooks:1n<<29n,ManageEmojisAndStickers:1n<<30n,ManageGuildExpressions:1n<<30n,UseApplicationCommands:1n<<31n,RequestToSpeak:1n<<32n,ManageEvents:1n<<33n,ManageThreads:1n<<34n,CreatePublicThreads:1n<<35n,CreatePrivateThreads:1n<<36n,UseExternalStickers:1n<<37n,SendMessagesInThreads:1n<<38n,UseEmbeddedActivities:1n<<39n,ModerateMembers:1n<<40n,ViewCreatorMonetizationAnalytics:1n<<41n,UseSoundboard:1n<<42n,CreateGuildExpressions:1n<<43n,CreateEvents:1n<<44n,UseExternalSounds:1n<<45n,SendVoiceMessages:1n<<46n,SendPolls:1n<<49n,UseExternalApps:1n<<50n},Object.freeze(e.PermissionFlagsBits)})(Us);var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.ApplicationRoleConnectionMetadataType=ut.ApplicationFlags=void 0;var Fs;(function(e){e[e.EmbeddedReleased=2]="EmbeddedReleased",e[e.ManagedEmoji=4]="ManagedEmoji",e[e.EmbeddedIAP=8]="EmbeddedIAP",e[e.GroupDMCreate=16]="GroupDMCreate",e[e.ApplicationAutoModerationRuleCreateBadge=64]="ApplicationAutoModerationRuleCreateBadge",e[e.RPCHasConnected=2048]="RPCHasConnected",e[e.GatewayPresence=4096]="GatewayPresence",e[e.GatewayPresenceLimited=8192]="GatewayPresenceLimited",e[e.GatewayGuildMembers=16384]="GatewayGuildMembers",e[e.GatewayGuildMembersLimited=32768]="GatewayGuildMembersLimited",e[e.VerificationPendingGuildLimit=65536]="VerificationPendingGuildLimit",e[e.Embedded=131072]="Embedded",e[e.GatewayMessageContent=262144]="GatewayMessageContent",e[e.GatewayMessageContentLimited=524288]="GatewayMessageContentLimited",e[e.EmbeddedFirstParty=1048576]="EmbeddedFirstParty",e[e.ApplicationCommandBadge=8388608]="ApplicationCommandBadge"})(Fs||(ut.ApplicationFlags=Fs={}));var Ns;(function(e){e[e.IntegerLessThanOrEqual=1]="IntegerLessThanOrEqual",e[e.IntegerGreaterThanOrEqual=2]="IntegerGreaterThanOrEqual",e[e.IntegerEqual=3]="IntegerEqual",e[e.IntegerNotEqual=4]="IntegerNotEqual",e[e.DatetimeLessThanOrEqual=5]="DatetimeLessThanOrEqual",e[e.DatetimeGreaterThanOrEqual=6]="DatetimeGreaterThanOrEqual",e[e.BooleanEqual=7]="BooleanEqual",e[e.BooleanNotEqual=8]="BooleanNotEqual"})(Ns||(ut.ApplicationRoleConnectionMetadataType=Ns={}));var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.AuditLogOptionsType=dt.AuditLogEvent=void 0;var Bs;(function(e){e[e.GuildUpdate=1]="GuildUpdate",e[e.ChannelCreate=10]="ChannelCreate",e[e.ChannelUpdate=11]="ChannelUpdate",e[e.ChannelDelete=12]="ChannelDelete",e[e.ChannelOverwriteCreate=13]="ChannelOverwriteCreate",e[e.ChannelOverwriteUpdate=14]="ChannelOverwriteUpdate",e[e.ChannelOverwriteDelete=15]="ChannelOverwriteDelete",e[e.MemberKick=20]="MemberKick",e[e.MemberPrune=21]="MemberPrune",e[e.MemberBanAdd=22]="MemberBanAdd",e[e.MemberBanRemove=23]="MemberBanRemove",e[e.MemberUpdate=24]="MemberUpdate",e[e.MemberRoleUpdate=25]="MemberRoleUpdate",e[e.MemberMove=26]="MemberMove",e[e.MemberDisconnect=27]="MemberDisconnect",e[e.BotAdd=28]="BotAdd",e[e.RoleCreate=30]="RoleCreate",e[e.RoleUpdate=31]="RoleUpdate",e[e.RoleDelete=32]="RoleDelete",e[e.InviteCreate=40]="InviteCreate",e[e.InviteUpdate=41]="InviteUpdate",e[e.InviteDelete=42]="InviteDelete",e[e.WebhookCreate=50]="WebhookCreate",e[e.WebhookUpdate=51]="WebhookUpdate",e[e.WebhookDelete=52]="WebhookDelete",e[e.EmojiCreate=60]="EmojiCreate",e[e.EmojiUpdate=61]="EmojiUpdate",e[e.EmojiDelete=62]="EmojiDelete",e[e.MessageDelete=72]="MessageDelete",e[e.MessageBulkDelete=73]="MessageBulkDelete",e[e.MessagePin=74]="MessagePin",e[e.MessageUnpin=75]="MessageUnpin",e[e.IntegrationCreate=80]="IntegrationCreate",e[e.IntegrationUpdate=81]="IntegrationUpdate",e[e.IntegrationDelete=82]="IntegrationDelete",e[e.StageInstanceCreate=83]="StageInstanceCreate",e[e.StageInstanceUpdate=84]="StageInstanceUpdate",e[e.StageInstanceDelete=85]="StageInstanceDelete",e[e.StickerCreate=90]="StickerCreate",e[e.StickerUpdate=91]="StickerUpdate",e[e.StickerDelete=92]="StickerDelete",e[e.GuildScheduledEventCreate=100]="GuildScheduledEventCreate",e[e.GuildScheduledEventUpdate=101]="GuildScheduledEventUpdate",e[e.GuildScheduledEventDelete=102]="GuildScheduledEventDelete",e[e.ThreadCreate=110]="ThreadCreate",e[e.ThreadUpdate=111]="ThreadUpdate",e[e.ThreadDelete=112]="ThreadDelete",e[e.ApplicationCommandPermissionUpdate=121]="ApplicationCommandPermissionUpdate",e[e.AutoModerationRuleCreate=140]="AutoModerationRuleCreate",e[e.AutoModerationRuleUpdate=141]="AutoModerationRuleUpdate",e[e.AutoModerationRuleDelete=142]="AutoModerationRuleDelete",e[e.AutoModerationBlockMessage=143]="AutoModerationBlockMessage",e[e.AutoModerationFlagToChannel=144]="AutoModerationFlagToChannel",e[e.AutoModerationUserCommunicationDisabled=145]="AutoModerationUserCommunicationDisabled",e[e.CreatorMonetizationRequestCreated=150]="CreatorMonetizationRequestCreated",e[e.CreatorMonetizationTermsAccepted=151]="CreatorMonetizationTermsAccepted",e[e.OnboardingPromptCreate=163]="OnboardingPromptCreate",e[e.OnboardingPromptUpdate=164]="OnboardingPromptUpdate",e[e.OnboardingPromptDelete=165]="OnboardingPromptDelete",e[e.OnboardingCreate=166]="OnboardingCreate",e[e.OnboardingUpdate=167]="OnboardingUpdate",e[e.HomeSettingsCreate=190]="HomeSettingsCreate",e[e.HomeSettingsUpdate=191]="HomeSettingsUpdate"})(Bs||(dt.AuditLogEvent=Bs={}));var js;(function(e){e.Role="0",e.Member="1"})(js||(dt.AuditLogOptionsType=js={}));var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.AutoModerationActionType=we.AutoModerationRuleEventType=we.AutoModerationRuleKeywordPresetType=we.AutoModerationRuleTriggerType=void 0;var Vs;(function(e){e[e.Keyword=1]="Keyword",e[e.Spam=3]="Spam",e[e.KeywordPreset=4]="KeywordPreset",e[e.MentionSpam=5]="MentionSpam",e[e.MemberProfile=6]="MemberProfile"})(Vs||(we.AutoModerationRuleTriggerType=Vs={}));var Gs;(function(e){e[e.Profanity=1]="Profanity",e[e.SexualContent=2]="SexualContent",e[e.Slurs=3]="Slurs"})(Gs||(we.AutoModerationRuleKeywordPresetType=Gs={}));var Hs;(function(e){e[e.MessageSend=1]="MessageSend",e[e.MemberUpdate=2]="MemberUpdate"})(Hs||(we.AutoModerationRuleEventType=Hs={}));var qs;(function(e){e[e.BlockMessage=1]="BlockMessage",e[e.SendAlertMessage=2]="SendAlertMessage",e[e.Timeout=3]="Timeout",e[e.BlockMemberInteraction=4]="BlockMemberInteraction"})(qs||(we.AutoModerationActionType=qs={}));var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.ChannelFlags=U.SelectMenuDefaultValueType=U.TextInputStyle=U.ButtonStyle=U.ComponentType=U.AllowedMentionsTypes=U.AttachmentFlags=U.EmbedType=U.ThreadMemberFlags=U.ThreadAutoArchiveDuration=U.OverwriteType=U.MessageFlags=U.MessageReferenceType=U.MessageActivityType=U.MessageType=U.VideoQualityMode=U.ChannelType=U.ForumLayoutType=U.SortOrderType=void 0;var Ws;(function(e){e[e.LatestActivity=0]="LatestActivity",e[e.CreationDate=1]="CreationDate"})(Ws||(U.SortOrderType=Ws={}));var zs;(function(e){e[e.NotSet=0]="NotSet",e[e.ListView=1]="ListView",e[e.GalleryView=2]="GalleryView"})(zs||(U.ForumLayoutType=zs={}));var Ks;(function(e){e[e.GuildText=0]="GuildText",e[e.DM=1]="DM",e[e.GuildVoice=2]="GuildVoice",e[e.GroupDM=3]="GroupDM",e[e.GuildCategory=4]="GuildCategory",e[e.GuildAnnouncement=5]="GuildAnnouncement",e[e.AnnouncementThread=10]="AnnouncementThread",e[e.PublicThread=11]="PublicThread",e[e.PrivateThread=12]="PrivateThread",e[e.GuildStageVoice=13]="GuildStageVoice",e[e.GuildDirectory=14]="GuildDirectory",e[e.GuildForum=15]="GuildForum",e[e.GuildMedia=16]="GuildMedia",e[e.GuildNews=5]="GuildNews",e[e.GuildNewsThread=10]="GuildNewsThread",e[e.GuildPublicThread=11]="GuildPublicThread",e[e.GuildPrivateThread=12]="GuildPrivateThread"})(Ks||(U.ChannelType=Ks={}));var Ys;(function(e){e[e.Auto=1]="Auto",e[e.Full=2]="Full"})(Ys||(U.VideoQualityMode=Ys={}));var Xs;(function(e){e[e.Default=0]="Default",e[e.RecipientAdd=1]="RecipientAdd",e[e.RecipientRemove=2]="RecipientRemove",e[e.Call=3]="Call",e[e.ChannelNameChange=4]="ChannelNameChange",e[e.ChannelIconChange=5]="ChannelIconChange",e[e.ChannelPinnedMessage=6]="ChannelPinnedMessage",e[e.UserJoin=7]="UserJoin",e[e.GuildBoost=8]="GuildBoost",e[e.GuildBoostTier1=9]="GuildBoostTier1",e[e.GuildBoostTier2=10]="GuildBoostTier2",e[e.GuildBoostTier3=11]="GuildBoostTier3",e[e.ChannelFollowAdd=12]="ChannelFollowAdd",e[e.GuildDiscoveryDisqualified=14]="GuildDiscoveryDisqualified",e[e.GuildDiscoveryRequalified=15]="GuildDiscoveryRequalified",e[e.GuildDiscoveryGracePeriodInitialWarning=16]="GuildDiscoveryGracePeriodInitialWarning",e[e.GuildDiscoveryGracePeriodFinalWarning=17]="GuildDiscoveryGracePeriodFinalWarning",e[e.ThreadCreated=18]="ThreadCreated",e[e.Reply=19]="Reply",e[e.ChatInputCommand=20]="ChatInputCommand",e[e.ThreadStarterMessage=21]="ThreadStarterMessage",e[e.GuildInviteReminder=22]="GuildInviteReminder",e[e.ContextMenuCommand=23]="ContextMenuCommand",e[e.AutoModerationAction=24]="AutoModerationAction",e[e.RoleSubscriptionPurchase=25]="RoleSubscriptionPurchase",e[e.InteractionPremiumUpsell=26]="InteractionPremiumUpsell",e[e.StageStart=27]="StageStart",e[e.StageEnd=28]="StageEnd",e[e.StageSpeaker=29]="StageSpeaker",e[e.StageRaiseHand=30]="StageRaiseHand",e[e.StageTopic=31]="StageTopic",e[e.GuildApplicationPremiumSubscription=32]="GuildApplicationPremiumSubscription",e[e.GuildIncidentAlertModeEnabled=36]="GuildIncidentAlertModeEnabled",e[e.GuildIncidentAlertModeDisabled=37]="GuildIncidentAlertModeDisabled",e[e.GuildIncidentReportRaid=38]="GuildIncidentReportRaid",e[e.GuildIncidentReportFalseAlarm=39]="GuildIncidentReportFalseAlarm"})(Xs||(U.MessageType=Xs={}));var Qs;(function(e){e[e.Join=1]="Join",e[e.Spectate=2]="Spectate",e[e.Listen=3]="Listen",e[e.JoinRequest=5]="JoinRequest"})(Qs||(U.MessageActivityType=Qs={}));var Zs;(function(e){e[e.Default=0]="Default",e[e.Forward=1]="Forward"})(Zs||(U.MessageReferenceType=Zs={}));var Js;(function(e){e[e.Crossposted=1]="Crossposted",e[e.IsCrosspost=2]="IsCrosspost",e[e.SuppressEmbeds=4]="SuppressEmbeds",e[e.SourceMessageDeleted=8]="SourceMessageDeleted",e[e.Urgent=16]="Urgent",e[e.HasThread=32]="HasThread",e[e.Ephemeral=64]="Ephemeral",e[e.Loading=128]="Loading",e[e.FailedToMentionSomeRolesInThread=256]="FailedToMentionSomeRolesInThread",e[e.ShouldShowLinkNotDiscordWarning=1024]="ShouldShowLinkNotDiscordWarning",e[e.SuppressNotifications=4096]="SuppressNotifications",e[e.IsVoiceMessage=8192]="IsVoiceMessage"})(Js||(U.MessageFlags=Js={}));var eo;(function(e){e[e.Role=0]="Role",e[e.Member=1]="Member"})(eo||(U.OverwriteType=eo={}));var to;(function(e){e[e.OneHour=60]="OneHour",e[e.OneDay=1440]="OneDay",e[e.ThreeDays=4320]="ThreeDays",e[e.OneWeek=10080]="OneWeek"})(to||(U.ThreadAutoArchiveDuration=to={}));var no;(function(e){e[e.HasInteracted=1]="HasInteracted",e[e.AllMessages=2]="AllMessages",e[e.OnlyMentions=4]="OnlyMentions",e[e.NoMessages=8]="NoMessages"})(no||(U.ThreadMemberFlags=no={}));var io;(function(e){e.Rich="rich",e.Image="image",e.Video="video",e.GIFV="gifv",e.Article="article",e.Link="link",e.AutoModerationMessage="auto_moderation_message"})(io||(U.EmbedType=io={}));var ro;(function(e){e[e.IsRemix=4]="IsRemix"})(ro||(U.AttachmentFlags=ro={}));var ao;(function(e){e.Everyone="everyone",e.Role="roles",e.User="users"})(ao||(U.AllowedMentionsTypes=ao={}));var so;(function(e){e[e.ActionRow=1]="ActionRow",e[e.Button=2]="Button",e[e.StringSelect=3]="StringSelect",e[e.TextInput=4]="TextInput",e[e.UserSelect=5]="UserSelect",e[e.RoleSelect=6]="RoleSelect",e[e.MentionableSelect=7]="MentionableSelect",e[e.ChannelSelect=8]="ChannelSelect",e[e.SelectMenu=3]="SelectMenu"})(so||(U.ComponentType=so={}));var oo;(function(e){e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Success=3]="Success",e[e.Danger=4]="Danger",e[e.Link=5]="Link",e[e.Premium=6]="Premium"})(oo||(U.ButtonStyle=oo={}));var lo;(function(e){e[e.Short=1]="Short",e[e.Paragraph=2]="Paragraph"})(lo||(U.TextInputStyle=lo={}));var co;(function(e){e.Channel="channel",e.Role="role",e.User="user"})(co||(U.SelectMenuDefaultValueType=co={}));var uo;(function(e){e[e.GuildFeedRemoved=1]="GuildFeedRemoved",e[e.Pinned=2]="Pinned",e[e.ActiveChannelsRemoved=4]="ActiveChannelsRemoved",e[e.RequireTag=16]="RequireTag",e[e.IsSpam=32]="IsSpam",e[e.IsGuildResourceChannel=128]="IsGuildResourceChannel",e[e.ClydeAI=256]="ClydeAI",e[e.IsScheduledForDeletion=512]="IsScheduledForDeletion",e[e.HideMediaDownloadOptions=32768]="HideMediaDownloadOptions"})(uo||(U.ChannelFlags=uo={}));var ho={};Object.defineProperty(ho,"__esModule",{value:!0});var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.ActivityFlags=Ae.ActivityType=Ae.ActivityPlatform=Ae.PresenceUpdateStatus=void 0;var fo;(function(e){e.Online="online",e.DoNotDisturb="dnd",e.Idle="idle",e.Invisible="invisible",e.Offline="offline"})(fo||(Ae.PresenceUpdateStatus=fo={}));var mo;(function(e){e.Desktop="desktop",e.Xbox="xbox",e.Samsung="samsung",e.IOS="ios",e.Android="android",e.Embedded="embedded",e.PS4="ps4",e.PS5="ps5"})(mo||(Ae.ActivityPlatform=mo={}));var po;(function(e){e[e.Playing=0]="Playing",e[e.Streaming=1]="Streaming",e[e.Listening=2]="Listening",e[e.Watching=3]="Watching",e[e.Custom=4]="Custom",e[e.Competing=5]="Competing"})(po||(Ae.ActivityType=po={}));var go;(function(e){e[e.Instance=1]="Instance",e[e.Join=2]="Join",e[e.Spectate=4]="Spectate",e[e.JoinRequest=8]="JoinRequest",e[e.Sync=16]="Sync",e[e.Play=32]="Play",e[e.PartyPrivacyFriends=64]="PartyPrivacyFriends",e[e.PartyPrivacyVoiceChannel=128]="PartyPrivacyVoiceChannel",e[e.Embedded=256]="Embedded"})(go||(Ae.ActivityFlags=go={}));var V={};Object.defineProperty(V,"__esModule",{value:!0}),V.GuildOnboardingPromptType=V.GuildOnboardingMode=V.MembershipScreeningFieldType=V.GuildWidgetStyle=V.IntegrationExpireBehavior=V.GuildMemberFlags=V.GuildFeature=V.GuildSystemChannelFlags=V.GuildHubType=V.GuildPremiumTier=V.GuildVerificationLevel=V.GuildNSFWLevel=V.GuildMFALevel=V.GuildExplicitContentFilter=V.GuildDefaultMessageNotifications=void 0;var vo;(function(e){e[e.AllMessages=0]="AllMessages",e[e.OnlyMentions=1]="OnlyMentions"})(vo||(V.GuildDefaultMessageNotifications=vo={}));var xo;(function(e){e[e.Disabled=0]="Disabled",e[e.MembersWithoutRoles=1]="MembersWithoutRoles",e[e.AllMembers=2]="AllMembers"})(xo||(V.GuildExplicitContentFilter=xo={}));var bo;(function(e){e[e.None=0]="None",e[e.Elevated=1]="Elevated"})(bo||(V.GuildMFALevel=bo={}));var yo;(function(e){e[e.Default=0]="Default",e[e.Explicit=1]="Explicit",e[e.Safe=2]="Safe",e[e.AgeRestricted=3]="AgeRestricted"})(yo||(V.GuildNSFWLevel=yo={}));var _o;(function(e){e[e.None=0]="None",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh"})(_o||(V.GuildVerificationLevel=_o={}));var $o;(function(e){e[e.None=0]="None",e[e.Tier1=1]="Tier1",e[e.Tier2=2]="Tier2",e[e.Tier3=3]="Tier3"})($o||(V.GuildPremiumTier=$o={}));var Io;(function(e){e[e.Default=0]="Default",e[e.HighSchool=1]="HighSchool",e[e.College=2]="College"})(Io||(V.GuildHubType=Io={}));var wo;(function(e){e[e.SuppressJoinNotifications=1]="SuppressJoinNotifications",e[e.SuppressPremiumSubscriptions=2]="SuppressPremiumSubscriptions",e[e.SuppressGuildReminderNotifications=4]="SuppressGuildReminderNotifications",e[e.SuppressJoinNotificationReplies=8]="SuppressJoinNotificationReplies",e[e.SuppressRoleSubscriptionPurchaseNotifications=16]="SuppressRoleSubscriptionPurchaseNotifications",e[e.SuppressRoleSubscriptionPurchaseNotificationReplies=32]="SuppressRoleSubscriptionPurchaseNotificationReplies"})(wo||(V.GuildSystemChannelFlags=wo={}));var Ao;(function(e){e.AnimatedBanner="ANIMATED_BANNER",e.AnimatedIcon="ANIMATED_ICON",e.ApplicationCommandPermissionsV2="APPLICATION_COMMAND_PERMISSIONS_V2",e.AutoModeration="AUTO_MODERATION",e.Banner="BANNER",e.Community="COMMUNITY",e.CreatorMonetizableProvisional="CREATOR_MONETIZABLE_PROVISIONAL",e.CreatorStorePage="CREATOR_STORE_PAGE",e.DeveloperSupportServer="DEVELOPER_SUPPORT_SERVER",e.Discoverable="DISCOVERABLE",e.Featurable="FEATURABLE",e.HasDirectoryEntry="HAS_DIRECTORY_ENTRY",e.Hub="HUB",e.InvitesDisabled="INVITES_DISABLED",e.InviteSplash="INVITE_SPLASH",e.LinkedToHub="LINKED_TO_HUB",e.MemberVerificationGateEnabled="MEMBER_VERIFICATION_GATE_ENABLED",e.MonetizationEnabled="MONETIZATION_ENABLED",e.MoreStickers="MORE_STICKERS",e.News="NEWS",e.Partnered="PARTNERED",e.PreviewEnabled="PREVIEW_ENABLED",e.PrivateThreads="PRIVATE_THREADS",e.RaidAlertsDisabled="RAID_ALERTS_DISABLED",e.RelayEnabled="RELAY_ENABLED",e.RoleIcons="ROLE_ICONS",e.RoleSubscriptionsAvailableForPurchase="ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE",e.RoleSubscriptionsEnabled="ROLE_SUBSCRIPTIONS_ENABLED",e.TicketedEventsEnabled="TICKETED_EVENTS_ENABLED",e.VanityURL="VANITY_URL",e.Verified="VERIFIED",e.VIPRegions="VIP_REGIONS",e.WelcomeScreenEnabled="WELCOME_SCREEN_ENABLED"})(Ao||(V.GuildFeature=Ao={}));var To;(function(e){e[e.DidRejoin=1]="DidRejoin",e[e.CompletedOnboarding=2]="CompletedOnboarding",e[e.BypassesVerification=4]="BypassesVerification",e[e.StartedOnboarding=8]="StartedOnboarding",e[e.StartedHomeActions=32]="StartedHomeActions",e[e.CompletedHomeActions=64]="CompletedHomeActions",e[e.AutomodQuarantinedUsernameOrGuildNickname=128]="AutomodQuarantinedUsernameOrGuildNickname",e[e.AutomodQuarantinedBio=256]="AutomodQuarantinedBio"})(To||(V.GuildMemberFlags=To={}));var Po;(function(e){e[e.RemoveRole=0]="RemoveRole",e[e.Kick=1]="Kick"})(Po||(V.IntegrationExpireBehavior=Po={}));var Mo;(function(e){e.Shield="shield",e.Banner1="banner1",e.Banner2="banner2",e.Banner3="banner3",e.Banner4="banner4"})(Mo||(V.GuildWidgetStyle=Mo={}));var Do;(function(e){e.Terms="TERMS"})(Do||(V.MembershipScreeningFieldType=Do={}));var ko;(function(e){e[e.OnboardingDefault=0]="OnboardingDefault",e[e.OnboardingAdvanced=1]="OnboardingAdvanced"})(ko||(V.GuildOnboardingMode=ko={}));var Lo;(function(e){e[e.MultipleChoice=0]="MultipleChoice",e[e.Dropdown=1]="Dropdown"})(Lo||(V.GuildOnboardingPromptType=Lo={}));var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.GuildScheduledEventPrivacyLevel=ce.GuildScheduledEventStatus=ce.GuildScheduledEventEntityType=ce.GuildScheduledEventRecurrenceRuleMonth=ce.GuildScheduledEventRecurrenceRuleWeekday=ce.GuildScheduledEventRecurrenceRuleFrequency=void 0;var Eo;(function(e){e[e.Yearly=0]="Yearly",e[e.Monthly=1]="Monthly",e[e.Weekly=2]="Weekly",e[e.Daily=3]="Daily"})(Eo||(ce.GuildScheduledEventRecurrenceRuleFrequency=Eo={}));var Oo;(function(e){e[e.Monday=0]="Monday",e[e.Tuesday=1]="Tuesday",e[e.Wednesday=2]="Wednesday",e[e.Thursday=3]="Thursday",e[e.Friday=4]="Friday",e[e.Saturday=5]="Saturday",e[e.Sunday=6]="Sunday"})(Oo||(ce.GuildScheduledEventRecurrenceRuleWeekday=Oo={}));var Ro;(function(e){e[e.January=1]="January",e[e.February=2]="February",e[e.March=3]="March",e[e.April=4]="April",e[e.May=5]="May",e[e.June=6]="June",e[e.July=7]="July",e[e.August=8]="August",e[e.September=9]="September",e[e.October=10]="October",e[e.November=11]="November",e[e.December=12]="December"})(Ro||(ce.GuildScheduledEventRecurrenceRuleMonth=Ro={}));var Co;(function(e){e[e.StageInstance=1]="StageInstance",e[e.Voice=2]="Voice",e[e.External=3]="External"})(Co||(ce.GuildScheduledEventEntityType=Co={}));var So;(function(e){e[e.Scheduled=1]="Scheduled",e[e.Active=2]="Active",e[e.Completed=3]="Completed",e[e.Canceled=4]="Canceled"})(So||(ce.GuildScheduledEventStatus=So={}));var Uo;(function(e){e[e.GuildOnly=2]="GuildOnly"})(Uo||(ce.GuildScheduledEventPrivacyLevel=Uo={}));var Fo={},No={},Bo={},jo={};Object.defineProperty(jo,"__esModule",{value:!0});var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});var Go={};Object.defineProperty(Go,"__esModule",{value:!0});var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});var qo={};Object.defineProperty(qo,"__esModule",{value:!0});var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});var zo={};Object.defineProperty(zo,"__esModule",{value:!0});var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.ApplicationCommandOptionType=void 0;var Yo;(function(e){e[e.Subcommand=1]="Subcommand",e[e.SubcommandGroup=2]="SubcommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionable=9]="Mentionable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(Yo||(Fn.ApplicationCommandOptionType=Yo={}));var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0}),function(e){var n=D&&D.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),t=D&&D.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(jo,e),t(Vo,e),t(Go,e),t(Ho,e),t(qo,e),t(Wo,e),t(zo,e),t(Ko,e),t(Fn,e),t(Xo,e),t(Qo,e),t(Zo,e),t(Jo,e)}(Bo);var el={};Object.defineProperty(el,"__esModule",{value:!0});var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.APIApplicationCommandPermissionsConstant=ht.ApplicationCommandPermissionType=void 0;var tl;(function(e){e[e.Role=1]="Role",e[e.User=2]="User",e[e.Channel=3]="Channel"})(tl||(ht.ApplicationCommandPermissionType=tl={})),ht.APIApplicationCommandPermissionsConstant={Everyone:e=>String(e),AllChannels:e=>String(BigInt(e)-1n)},function(e){var n=D&&D.__createBinding||(Object.create?function(s,o,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(o,l);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(s,c,u)}:function(s,o,l,c){c===void 0&&(c=l),s[c]=o[l]}),t=D&&D.__exportStar||function(s,o){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&n(o,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionContextType=e.ApplicationIntegrationType=e.ApplicationCommandType=void 0,t(Bo,e),t(el,e),t(ht,e);var i;(function(s){s[s.ChatInput=1]="ChatInput",s[s.User=2]="User",s[s.Message=3]="Message"})(i||(e.ApplicationCommandType=i={}));var r;(function(s){s[s.GuildInstall=0]="GuildInstall",s[s.UserInstall=1]="UserInstall"})(r||(e.ApplicationIntegrationType=r={}));var a;(function(s){s[s.Guild=0]="Guild",s[s.BotDM=1]="BotDM",s[s.PrivateChannel=2]="PrivateChannel"})(a||(e.InteractionContextType=a={}))}(No);var nl={};Object.defineProperty(nl,"__esModule",{value:!0});var il={};Object.defineProperty(il,"__esModule",{value:!0});var rl={};Object.defineProperty(rl,"__esModule",{value:!0});var al={};Object.defineProperty(al,"__esModule",{value:!0});var sl={};Object.defineProperty(sl,"__esModule",{value:!0});var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.InteractionResponseType=ft.InteractionType=void 0;var ol;(function(e){e[e.Ping=1]="Ping",e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent",e[e.ApplicationCommandAutocomplete=4]="ApplicationCommandAutocomplete",e[e.ModalSubmit=5]="ModalSubmit"})(ol||(ft.InteractionType=ol={}));var ll;(function(e){e[e.Pong=1]="Pong",e[e.ChannelMessageWithSource=4]="ChannelMessageWithSource",e[e.DeferredChannelMessageWithSource=5]="DeferredChannelMessageWithSource",e[e.DeferredMessageUpdate=6]="DeferredMessageUpdate",e[e.UpdateMessage=7]="UpdateMessage",e[e.ApplicationCommandAutocompleteResult=8]="ApplicationCommandAutocompleteResult",e[e.Modal=9]="Modal",e[e.PremiumRequired=10]="PremiumRequired"})(ll||(ft.InteractionResponseType=ll={})),function(e){var n=D&&D.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),t=D&&D.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(No,e),t(nl,e),t(il,e),t(rl,e),t(al,e),t(sl,e),t(ft,e)}(Fo);var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.InviteTargetType=mt.InviteType=void 0;var cl;(function(e){e[e.Guild=0]="Guild",e[e.GroupDM=1]="GroupDM",e[e.Friend=2]="Friend"})(cl||(mt.InviteType=cl={}));var ul;(function(e){e[e.Stream=1]="Stream",e[e.EmbeddedApplication=2]="EmbeddedApplication"})(ul||(mt.InviteTargetType=ul={}));var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.OAuth2Scopes=void 0;var dl;(function(e){e.Bot="bot",e.Connections="connections",e.DMChannelsRead="dm_channels.read",e.Email="email",e.Identify="identify",e.Guilds="guilds",e.GuildsJoin="guilds.join",e.GuildsMembersRead="guilds.members.read",e.GroupDMJoins="gdm.join",e.MessagesRead="messages.read",e.RoleConnectionsWrite="role_connections.write",e.RPC="rpc",e.RPCNotificationsRead="rpc.notifications.read",e.WebhookIncoming="webhook.incoming",e.Voice="voice",e.ApplicationsBuildsUpload="applications.builds.upload",e.ApplicationsBuildsRead="applications.builds.read",e.ApplicationsStoreUpdate="applications.store.update",e.ApplicationsEntitlements="applications.entitlements",e.RelationshipsRead="relationships.read",e.ActivitiesRead="activities.read",e.ActivitiesWrite="activities.write",e.ApplicationsCommands="applications.commands",e.ApplicationsCommandsUpdate="applications.commands.update",e.ApplicationCommandsPermissionsUpdate="applications.commands.permissions.update"})(dl||(Nn.OAuth2Scopes=dl={}));var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.PollLayoutType=void 0;var hl;(function(e){e[e.Default=1]="Default"})(hl||(Bn.PollLayoutType=hl={}));var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.RoleFlags=void 0;var fl;(function(e){e[e.InPrompt=1]="InPrompt"})(fl||(jn.RoleFlags=fl={}));var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.StageInstancePrivacyLevel=void 0;var ml;(function(e){e[e.Public=1]="Public",e[e.GuildOnly=2]="GuildOnly"})(ml||(Vn.StageInstancePrivacyLevel=ml={}));var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.StickerFormatType=pt.StickerType=void 0;var pl;(function(e){e[e.Standard=1]="Standard",e[e.Guild=2]="Guild"})(pl||(pt.StickerType=pl={}));var gl;(function(e){e[e.PNG=1]="PNG",e[e.APNG=2]="APNG",e[e.Lottie=3]="Lottie",e[e.GIF=4]="GIF"})(gl||(pt.StickerFormatType=gl={}));var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.TeamMemberRole=gt.TeamMemberMembershipState=void 0;var vl;(function(e){e[e.Invited=1]="Invited",e[e.Accepted=2]="Accepted"})(vl||(gt.TeamMemberMembershipState=vl={}));var xl;(function(e){e.Admin="admin",e.Developer="developer",e.ReadOnly="read_only"})(xl||(gt.TeamMemberRole=xl={}));var bl={};Object.defineProperty(bl,"__esModule",{value:!0});var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.ConnectionVisibility=Te.ConnectionService=Te.UserPremiumType=Te.UserFlags=void 0;var yl;(function(e){e[e.Staff=1]="Staff",e[e.Partner=2]="Partner",e[e.Hypesquad=4]="Hypesquad",e[e.BugHunterLevel1=8]="BugHunterLevel1",e[e.MFASMS=16]="MFASMS",e[e.PremiumPromoDismissed=32]="PremiumPromoDismissed",e[e.HypeSquadOnlineHouse1=64]="HypeSquadOnlineHouse1",e[e.HypeSquadOnlineHouse2=128]="HypeSquadOnlineHouse2",e[e.HypeSquadOnlineHouse3=256]="HypeSquadOnlineHouse3",e[e.PremiumEarlySupporter=512]="PremiumEarlySupporter",e[e.TeamPseudoUser=1024]="TeamPseudoUser",e[e.HasUnreadUrgentMessages=8192]="HasUnreadUrgentMessages",e[e.BugHunterLevel2=16384]="BugHunterLevel2",e[e.VerifiedBot=65536]="VerifiedBot",e[e.VerifiedDeveloper=131072]="VerifiedDeveloper",e[e.CertifiedModerator=262144]="CertifiedModerator",e[e.BotHTTPInteractions=524288]="BotHTTPInteractions",e[e.Spammer=1048576]="Spammer",e[e.DisablePremium=2097152]="DisablePremium",e[e.ActiveDeveloper=4194304]="ActiveDeveloper",e[e.Quarantined=17592186044416]="Quarantined",e[e.Collaborator=0x4000000000000]="Collaborator",e[e.RestrictedCollaborator=0x8000000000000]="RestrictedCollaborator"})(yl||(Te.UserFlags=yl={}));var _l;(function(e){e[e.None=0]="None",e[e.NitroClassic=1]="NitroClassic",e[e.Nitro=2]="Nitro",e[e.NitroBasic=3]="NitroBasic"})(_l||(Te.UserPremiumType=_l={}));var $l;(function(e){e.BattleNet="battlenet",e.BungieNet="bungie",e.Domain="domain",e.eBay="ebay",e.EpicGames="epicgames",e.Facebook="facebook",e.GitHub="github",e.Instagram="instagram",e.LeagueOfLegends="leagueoflegends",e.PayPal="paypal",e.PlayStationNetwork="playstation",e.Reddit="reddit",e.RiotGames="riotgames",e.Roblox="roblox",e.Spotify="spotify",e.Skype="skype",e.Steam="steam",e.TikTok="tiktok",e.Twitch="twitch",e.X="twitter",e.Twitter="twitter",e.Xbox="xbox",e.YouTube="youtube"})($l||(Te.ConnectionService=$l={}));var Il;(function(e){e[e.None=0]="None",e[e.Everyone=1]="Everyone"})(Il||(Te.ConnectionVisibility=Il={}));var wl={};Object.defineProperty(wl,"__esModule",{value:!0});var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.WebhookType=void 0;var Al;(function(e){e[e.Incoming=1]="Incoming",e[e.ChannelFollower=2]="ChannelFollower",e[e.Application=3]="Application"})(Al||(Gn.WebhookType=Al={}));var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.SKUType=Ce.SKUFlags=Ce.EntitlementType=void 0;var Tl;(function(e){e[e.Purchase=1]="Purchase",e[e.PremiumSubscription=2]="PremiumSubscription",e[e.DeveloperGift=3]="DeveloperGift",e[e.TestModePurchase=4]="TestModePurchase",e[e.FreePurchase=5]="FreePurchase",e[e.UserGift=6]="UserGift",e[e.PremiumPurchase=7]="PremiumPurchase",e[e.ApplicationSubscription=8]="ApplicationSubscription"})(Tl||(Ce.EntitlementType=Tl={}));var Pl;(function(e){e[e.Available=4]="Available",e[e.GuildSubscription=128]="GuildSubscription",e[e.UserSubscription=256]="UserSubscription"})(Pl||(Ce.SKUFlags=Pl={}));var Ml;(function(e){e[e.Durable=2]="Durable",e[e.Consumable=3]="Consumable",e[e.Subscription=5]="Subscription",e[e.SubscriptionGroup=6]="SubscriptionGroup"})(Ml||(Ce.SKUType=Ml={})),function(e){var n=D&&D.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),t=D&&D.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Us,e),t(ut,e),t(dt,e),t(we,e),t(U,e),t(ho,e),t(Ae,e),t(V,e),t(ce,e),t(Fo,e),t(mt,e),t(Nn,e),t(Bn,e),t(jn,e),t(Vn,e),t(pt,e),t(gt,e),t(bl,e),t(Te,e),t(wl,e),t(Gn,e),t(Ce,e)}(Ss);const I=X(Ss),rv=I.APIApplicationCommandPermissionsConstant,av=I.ActivityFlags,sv=I.ActivityPlatform,ov=I.ActivityType,lv=I.AllowedMentionsTypes,cv=I.ApplicationCommandOptionType,uv=I.ApplicationCommandPermissionType,dv=I.ApplicationCommandType,hv=I.ApplicationFlags,fv=I.ApplicationIntegrationType,mv=I.ApplicationRoleConnectionMetadataType,pv=I.AttachmentFlags,gv=I.AuditLogEvent,vv=I.AuditLogOptionsType,xv=I.AutoModerationActionType,bv=I.AutoModerationRuleEventType,yv=I.AutoModerationRuleKeywordPresetType,_v=I.AutoModerationRuleTriggerType,$v=I.ButtonStyle,Iv=I.ChannelFlags,wv=I.ChannelType,Av=I.ComponentType,Tv=I.ConnectionService,Pv=I.ConnectionVisibility,Mv=I.EmbedType,Dv=I.EntitlementType,kv=I.ForumLayoutType,Lv=I.GuildDefaultMessageNotifications,Ev=I.GuildExplicitContentFilter,Ov=I.GuildFeature,Rv=I.GuildHubType,Cv=I.GuildMFALevel,Sv=I.GuildMemberFlags,Uv=I.GuildNSFWLevel,Fv=I.GuildOnboardingMode,Nv=I.GuildOnboardingPromptType,Bv=I.GuildPremiumTier,jv=I.GuildScheduledEventEntityType,Vv=I.GuildScheduledEventPrivacyLevel,Gv=I.GuildScheduledEventRecurrenceRuleFrequency,Hv=I.GuildScheduledEventRecurrenceRuleMonth,qv=I.GuildScheduledEventRecurrenceRuleWeekday,Wv=I.GuildScheduledEventStatus,zv=I.GuildSystemChannelFlags,Kv=I.GuildVerificationLevel,Yv=I.GuildWidgetStyle,Xv=I.IntegrationExpireBehavior,Qv=I.InteractionContextType,Zv=I.InteractionResponseType,Jv=I.InteractionType,ex=I.InviteTargetType,tx=I.InviteType,nx=I.MembershipScreeningFieldType,ix=I.MessageActivityType,rx=I.MessageFlags,ax=I.MessageReferenceType,sx=I.MessageType,ox=I.OAuth2Scopes,lx=I.OverwriteType,cx=I.PermissionFlagsBits,ux=I.PollLayoutType,dx=I.PresenceUpdateStatus,hx=I.RoleFlags,fx=I.SKUFlags,mx=I.SKUType,px=I.SelectMenuDefaultValueType,gx=I.SortOrderType,vx=I.StageInstancePrivacyLevel,xx=I.StickerFormatType,bx=I.StickerType,yx=I.TeamMemberMembershipState,_x=I.TeamMemberRole,$x=I.TextInputStyle,Ix=I.ThreadAutoArchiveDuration,wx=I.ThreadMemberFlags,Ax=I.UserFlags,Tx=I.UserPremiumType,Px=I.VideoQualityMode,Mx=I.WebhookType,Dl=Ee(Object.freeze(Object.defineProperty({__proto__:null,APIApplicationCommandPermissionsConstant:rv,ActivityFlags:av,ActivityPlatform:sv,ActivityType:ov,AllowedMentionsTypes:lv,ApplicationCommandOptionType:cv,ApplicationCommandPermissionType:uv,ApplicationCommandType:dv,ApplicationFlags:hv,ApplicationIntegrationType:fv,ApplicationRoleConnectionMetadataType:mv,AttachmentFlags:pv,AuditLogEvent:gv,AuditLogOptionsType:vv,AutoModerationActionType:xv,AutoModerationRuleEventType:bv,AutoModerationRuleKeywordPresetType:yv,AutoModerationRuleTriggerType:_v,ButtonStyle:$v,ChannelFlags:Iv,ChannelType:wv,ComponentType:Av,ConnectionService:Tv,ConnectionVisibility:Pv,EmbedType:Mv,EntitlementType:Dv,ForumLayoutType:kv,GuildDefaultMessageNotifications:Lv,GuildExplicitContentFilter:Ev,GuildFeature:Ov,GuildHubType:Rv,GuildMFALevel:Cv,GuildMemberFlags:Sv,GuildNSFWLevel:Uv,GuildOnboardingMode:Fv,GuildOnboardingPromptType:Nv,GuildPremiumTier:Bv,GuildScheduledEventEntityType:jv,GuildScheduledEventPrivacyLevel:Vv,GuildScheduledEventRecurrenceRuleFrequency:Gv,GuildScheduledEventRecurrenceRuleMonth:Hv,GuildScheduledEventRecurrenceRuleWeekday:qv,GuildScheduledEventStatus:Wv,GuildSystemChannelFlags:zv,GuildVerificationLevel:Kv,GuildWidgetStyle:Yv,IntegrationExpireBehavior:Xv,InteractionContextType:Qv,InteractionResponseType:Zv,InteractionType:Jv,InviteTargetType:ex,InviteType:tx,MembershipScreeningFieldType:nx,MessageActivityType:ix,MessageFlags:rx,MessageReferenceType:ax,MessageType:sx,OAuth2Scopes:ox,OverwriteType:lx,PermissionFlagsBits:cx,PollLayoutType:ux,PresenceUpdateStatus:dx,RoleFlags:hx,SKUFlags:fx,SKUType:mx,SelectMenuDefaultValueType:px,SortOrderType:gx,StageInstancePrivacyLevel:vx,StickerFormatType:xx,StickerType:bx,TeamMemberMembershipState:yx,TeamMemberRole:_x,TextInputStyle:$x,ThreadAutoArchiveDuration:Ix,ThreadMemberFlags:wx,UserFlags:Ax,UserPremiumType:Tx,VideoQualityMode:Px,WebhookType:Mx,default:I},Symbol.toStringTag,{value:"Module"})));var kl={},vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.Locale=vt.RESTJSONErrorCodes=void 0;var Ll;(function(e){e[e.GeneralError=0]="GeneralError",e[e.UnknownAccount=10001]="UnknownAccount",e[e.UnknownApplication=10002]="UnknownApplication",e[e.UnknownChannel=10003]="UnknownChannel",e[e.UnknownGuild=10004]="UnknownGuild",e[e.UnknownIntegration=10005]="UnknownIntegration",e[e.UnknownInvite=10006]="UnknownInvite",e[e.UnknownMember=10007]="UnknownMember",e[e.UnknownMessage=10008]="UnknownMessage",e[e.UnknownPermissionOverwrite=10009]="UnknownPermissionOverwrite",e[e.UnknownProvider=10010]="UnknownProvider",e[e.UnknownRole=10011]="UnknownRole",e[e.UnknownToken=10012]="UnknownToken",e[e.UnknownUser=10013]="UnknownUser",e[e.UnknownEmoji=10014]="UnknownEmoji",e[e.UnknownWebhook=10015]="UnknownWebhook",e[e.UnknownWebhookService=10016]="UnknownWebhookService",e[e.UnknownSession=10020]="UnknownSession",e[e.UnknownBan=10026]="UnknownBan",e[e.UnknownSKU=10027]="UnknownSKU",e[e.UnknownStoreListing=10028]="UnknownStoreListing",e[e.UnknownEntitlement=10029]="UnknownEntitlement",e[e.UnknownBuild=10030]="UnknownBuild",e[e.UnknownLobby=10031]="UnknownLobby",e[e.UnknownBranch=10032]="UnknownBranch",e[e.UnknownStoreDirectoryLayout=10033]="UnknownStoreDirectoryLayout",e[e.UnknownRedistributable=10036]="UnknownRedistributable",e[e.UnknownGiftCode=10038]="UnknownGiftCode",e[e.UnknownStream=10049]="UnknownStream",e[e.UnknownPremiumServerSubscribeCooldown=10050]="UnknownPremiumServerSubscribeCooldown",e[e.UnknownGuildTemplate=10057]="UnknownGuildTemplate",e[e.UnknownDiscoverableServerCategory=10059]="UnknownDiscoverableServerCategory",e[e.UnknownSticker=10060]="UnknownSticker",e[e.UnknownStickerPack=10061]="UnknownStickerPack",e[e.UnknownInteraction=10062]="UnknownInteraction",e[e.UnknownApplicationCommand=10063]="UnknownApplicationCommand",e[e.UnknownVoiceState=10065]="UnknownVoiceState",e[e.UnknownApplicationCommandPermissions=10066]="UnknownApplicationCommandPermissions",e[e.UnknownStageInstance=10067]="UnknownStageInstance",e[e.UnknownGuildMemberVerificationForm=10068]="UnknownGuildMemberVerificationForm",e[e.UnknownGuildWelcomeScreen=10069]="UnknownGuildWelcomeScreen",e[e.UnknownGuildScheduledEvent=10070]="UnknownGuildScheduledEvent",e[e.UnknownGuildScheduledEventUser=10071]="UnknownGuildScheduledEventUser",e[e.UnknownTag=10087]="UnknownTag",e[e.BotsCannotUseThisEndpoint=20001]="BotsCannotUseThisEndpoint",e[e.OnlyBotsCanUseThisEndpoint=20002]="OnlyBotsCanUseThisEndpoint",e[e.ExplicitContentCannotBeSentToTheDesiredRecipient=20009]="ExplicitContentCannotBeSentToTheDesiredRecipient",e[e.NotAuthorizedToPerformThisActionOnThisApplication=20012]="NotAuthorizedToPerformThisActionOnThisApplication",e[e.ActionCannotBePerformedDueToSlowmodeRateLimit=20016]="ActionCannotBePerformedDueToSlowmodeRateLimit",e[e.TheMazeIsntMeantForYou=20017]="TheMazeIsntMeantForYou",e[e.OnlyTheOwnerOfThisAccountCanPerformThisAction=20018]="OnlyTheOwnerOfThisAccountCanPerformThisAction",e[e.AnnouncementEditLimitExceeded=20022]="AnnouncementEditLimitExceeded",e[e.UnderMinimumAge=20024]="UnderMinimumAge",e[e.ChannelSendRateLimit=20028]="ChannelSendRateLimit",e[e.ServerSendRateLimit=20029]="ServerSendRateLimit",e[e.StageTopicServerNameServerDescriptionOrChannelNamesContainDisallowedWords=20031]="StageTopicServerNameServerDescriptionOrChannelNamesContainDisallowedWords",e[e.GuildPremiumSubscriptionLevelTooLow=20035]="GuildPremiumSubscriptionLevelTooLow",e[e.MaximumNumberOfGuildsReached=30001]="MaximumNumberOfGuildsReached",e[e.MaximumNumberOfFriendsReached=30002]="MaximumNumberOfFriendsReached",e[e.MaximumNumberOfPinsReachedForTheChannel=30003]="MaximumNumberOfPinsReachedForTheChannel",e[e.MaximumNumberOfRecipientsReached=30004]="MaximumNumberOfRecipientsReached",e[e.MaximumNumberOfGuildRolesReached=30005]="MaximumNumberOfGuildRolesReached",e[e.MaximumNumberOfWebhooksReached=30007]="MaximumNumberOfWebhooksReached",e[e.MaximumNumberOfEmojisReached=30008]="MaximumNumberOfEmojisReached",e[e.MaximumNumberOfReactionsReached=30010]="MaximumNumberOfReactionsReached",e[e.MaximumNumberOfGroupDMsReached=30011]="MaximumNumberOfGroupDMsReached",e[e.MaximumNumberOfGuildChannelsReached=30013]="MaximumNumberOfGuildChannelsReached",e[e.MaximumNumberOfAttachmentsInAMessageReached=30015]="MaximumNumberOfAttachmentsInAMessageReached",e[e.MaximumNumberOfInvitesReached=30016]="MaximumNumberOfInvitesReached",e[e.MaximumNumberOfAnimatedEmojisReached=30018]="MaximumNumberOfAnimatedEmojisReached",e[e.MaximumNumberOfServerMembersReached=30019]="MaximumNumberOfServerMembersReached",e[e.MaximumNumberOfServerCategoriesReached=30030]="MaximumNumberOfServerCategoriesReached",e[e.GuildAlreadyHasTemplate=30031]="GuildAlreadyHasTemplate",e[e.MaximumNumberOfApplicationCommandsReached=30032]="MaximumNumberOfApplicationCommandsReached",e[e.MaximumThreadParticipantsReached=30033]="MaximumThreadParticipantsReached",e[e.MaximumDailyApplicationCommandCreatesReached=30034]="MaximumDailyApplicationCommandCreatesReached",e[e.MaximumNumberOfNonGuildMemberBansHasBeenExceeded=30035]="MaximumNumberOfNonGuildMemberBansHasBeenExceeded",e[e.MaximumNumberOfBanFetchesHasBeenReached=30037]="MaximumNumberOfBanFetchesHasBeenReached",e[e.MaximumNumberOfUncompletedGuildScheduledEventsReached=30038]="MaximumNumberOfUncompletedGuildScheduledEventsReached",e[e.MaximumNumberOfStickersReached=30039]="MaximumNumberOfStickersReached",e[e.MaximumNumberOfPruneRequestsHasBeenReached=30040]="MaximumNumberOfPruneRequestsHasBeenReached",e[e.MaximumNumberOfGuildWidgetSettingsUpdatesHasBeenReached=30042]="MaximumNumberOfGuildWidgetSettingsUpdatesHasBeenReached",e[e.MaximumNumberOfEditsToMessagesOlderThanOneHourReached=30046]="MaximumNumberOfEditsToMessagesOlderThanOneHourReached",e[e.MaximumNumberOfPinnedThreadsInForumHasBeenReached=30047]="MaximumNumberOfPinnedThreadsInForumHasBeenReached",e[e.MaximumNumberOfTagsInForumHasBeenReached=30048]="MaximumNumberOfTagsInForumHasBeenReached",e[e.BitrateIsTooHighForChannelOfThisType=30052]="BitrateIsTooHighForChannelOfThisType",e[e.MaximumNumberOfPremiumEmojisReached=30056]="MaximumNumberOfPremiumEmojisReached",e[e.MaximumNumberOfWebhooksPerGuildReached=30058]="MaximumNumberOfWebhooksPerGuildReached",e[e.MaximumNumberOfChannelPermissionOverwritesReached=30060]="MaximumNumberOfChannelPermissionOverwritesReached",e[e.TheChannelsForThisGuildAreTooLarge=30061]="TheChannelsForThisGuildAreTooLarge",e[e.Unauthorized=40001]="Unauthorized",e[e.VerifyYourAccount=40002]="VerifyYourAccount",e[e.OpeningDirectMessagesTooFast=40003]="OpeningDirectMessagesTooFast",e[e.SendMessagesHasBeenTemporarilyDisabled=40004]="SendMessagesHasBeenTemporarilyDisabled",e[e.RequestEntityTooLarge=40005]="RequestEntityTooLarge",e[e.FeatureTemporarilyDisabledServerSide=40006]="FeatureTemporarilyDisabledServerSide",e[e.UserBannedFromThisGuild=40007]="UserBannedFromThisGuild",e[e.ConnectionHasBeenRevoked=40012]="ConnectionHasBeenRevoked",e[e.TargetUserIsNotConnectedToVoice=40032]="TargetUserIsNotConnectedToVoice",e[e.ThisMessageWasAlreadyCrossposted=40033]="ThisMessageWasAlreadyCrossposted",e[e.ApplicationCommandWithThatNameAlreadyExists=40041]="ApplicationCommandWithThatNameAlreadyExists",e[e.ApplicationInteractionFailedToSend=40043]="ApplicationInteractionFailedToSend",e[e.CannotSendAMessageInAForumChannel=40058]="CannotSendAMessageInAForumChannel",e[e.InteractionHasAlreadyBeenAcknowledged=40060]="InteractionHasAlreadyBeenAcknowledged",e[e.TagNamesMustBeUnique=40061]="TagNamesMustBeUnique",e[e.ServiceResourceIsBeingRateLimited=40062]="ServiceResourceIsBeingRateLimited",e[e.ThereAreNoTagsAvailableThatCanBeSetByNonModerators=40066]="ThereAreNoTagsAvailableThatCanBeSetByNonModerators",e[e.TagRequiredToCreateAForumPostInThisChannel=40067]="TagRequiredToCreateAForumPostInThisChannel",e[e.AnEntitlementHasAlreadyBeenGrantedForThisResource=40074]="AnEntitlementHasAlreadyBeenGrantedForThisResource",e[e.CloudflareIsBlockingYourRequest=40333]="CloudflareIsBlockingYourRequest",e[e.MissingAccess=50001]="MissingAccess",e[e.InvalidAccountType=50002]="InvalidAccountType",e[e.CannotExecuteActionOnDMChannel=50003]="CannotExecuteActionOnDMChannel",e[e.GuildWidgetDisabled=50004]="GuildWidgetDisabled",e[e.CannotEditMessageAuthoredByAnotherUser=50005]="CannotEditMessageAuthoredByAnotherUser",e[e.CannotSendAnEmptyMessage=50006]="CannotSendAnEmptyMessage",e[e.CannotSendMessagesToThisUser=50007]="CannotSendMessagesToThisUser",e[e.CannotSendMessagesInNonTextChannel=50008]="CannotSendMessagesInNonTextChannel",e[e.ChannelVerificationLevelTooHighForYouToGainAccess=50009]="ChannelVerificationLevelTooHighForYouToGainAccess",e[e.OAuth2ApplicationDoesNotHaveBot=50010]="OAuth2ApplicationDoesNotHaveBot",e[e.OAuth2ApplicationLimitReached=50011]="OAuth2ApplicationLimitReached",e[e.InvalidOAuth2State=50012]="InvalidOAuth2State",e[e.MissingPermissions=50013]="MissingPermissions",e[e.InvalidToken=50014]="InvalidToken",e[e.NoteWasTooLong=50015]="NoteWasTooLong",e[e.ProvidedTooFewOrTooManyMessagesToDelete=50016]="ProvidedTooFewOrTooManyMessagesToDelete",e[e.InvalidMFALevel=50017]="InvalidMFALevel",e[e.MessageCanOnlyBePinnedInTheChannelItWasSentIn=50019]="MessageCanOnlyBePinnedInTheChannelItWasSentIn",e[e.InviteCodeInvalidOrTaken=50020]="InviteCodeInvalidOrTaken",e[e.CannotExecuteActionOnSystemMessage=50021]="CannotExecuteActionOnSystemMessage",e[e.CannotExecuteActionOnThisChannelType=50024]="CannotExecuteActionOnThisChannelType",e[e.InvalidOAuth2AccessToken=50025]="InvalidOAuth2AccessToken",e[e.MissingRequiredOAuth2Scope=50026]="MissingRequiredOAuth2Scope",e[e.InvalidWebhookToken=50027]="InvalidWebhookToken",e[e.InvalidRole=50028]="InvalidRole",e[e.InvalidRecipients=50033]="InvalidRecipients",e[e.OneOfTheMessagesProvidedWasTooOldForBulkDelete=50034]="OneOfTheMessagesProvidedWasTooOldForBulkDelete",e[e.InvalidFormBodyOrContentType=50035]="InvalidFormBodyOrContentType",e[e.InviteAcceptedToGuildWithoutTheBotBeingIn=50036]="InviteAcceptedToGuildWithoutTheBotBeingIn",e[e.InvalidActivityAction=50039]="InvalidActivityAction",e[e.InvalidAPIVersion=50041]="InvalidAPIVersion",e[e.FileUploadedExceedsMaximumSize=50045]="FileUploadedExceedsMaximumSize",e[e.InvalidFileUploaded=50046]="InvalidFileUploaded",e[e.CannotSelfRedeemThisGift=50054]="CannotSelfRedeemThisGift",e[e.InvalidGuild=50055]="InvalidGuild",e[e.InvalidSKU=50057]="InvalidSKU",e[e.InvalidRequestOrigin=50067]="InvalidRequestOrigin",e[e.InvalidMessageType=50068]="InvalidMessageType",e[e.PaymentSourceRequiredToRedeemGift=50070]="PaymentSourceRequiredToRedeemGift",e[e.CannotModifyASystemWebhook=50073]="CannotModifyASystemWebhook",e[e.CannotDeleteChannelRequiredForCommunityGuilds=50074]="CannotDeleteChannelRequiredForCommunityGuilds",e[e.CannotEditStickersWithinMessage=50080]="CannotEditStickersWithinMessage",e[e.InvalidStickerSent=50081]="InvalidStickerSent",e[e.InvalidActionOnArchivedThread=50083]="InvalidActionOnArchivedThread",e[e.InvalidThreadNotificationSettings=50084]="InvalidThreadNotificationSettings",e[e.ParameterEarlierThanCreation=50085]="ParameterEarlierThanCreation",e[e.CommunityServerChannelsMustBeTextChannels=50086]="CommunityServerChannelsMustBeTextChannels",e[e.TheEntityTypeOfTheEventIsDifferentFromTheEntityYouAreTryingToStartTheEventFor=50091]="TheEntityTypeOfTheEventIsDifferentFromTheEntityYouAreTryingToStartTheEventFor",e[e.ServerNotAvailableInYourLocation=50095]="ServerNotAvailableInYourLocation",e[e.ServerNeedsMonetizationEnabledToPerformThisAction=50097]="ServerNeedsMonetizationEnabledToPerformThisAction",e[e.ServerNeedsMoreBoostsToPerformThisAction=50101]="ServerNeedsMoreBoostsToPerformThisAction",e[e.RequestBodyContainsInvalidJSON=50109]="RequestBodyContainsInvalidJSON",e[e.OwnerCannotBePendingMember=50131]="OwnerCannotBePendingMember",e[e.OwnershipCannotBeMovedToABotUser=50132]="OwnershipCannotBeMovedToABotUser",e[e.FailedToResizeAssetBelowTheMinimumSize=50138]="FailedToResizeAssetBelowTheMinimumSize",e[e.CannotMixSubscriptionAndNonSubscriptionRolesForAnEmoji=50144]="CannotMixSubscriptionAndNonSubscriptionRolesForAnEmoji",e[e.CannotConvertBetweenPremiumEmojiAndNormalEmoji=50145]="CannotConvertBetweenPremiumEmojiAndNormalEmoji",e[e.UploadedFileNotFound=50146]="UploadedFileNotFound",e[e.VoiceMessagesDoNotSupportAdditionalContent=50159]="VoiceMessagesDoNotSupportAdditionalContent",e[e.VoiceMessagesMustHaveASingleAudioAttachment=50160]="VoiceMessagesMustHaveASingleAudioAttachment",e[e.VoiceMessagesMustHaveSupportingMetadata=50161]="VoiceMessagesMustHaveSupportingMetadata",e[e.VoiceMessagesCannotBeEdited=50162]="VoiceMessagesCannotBeEdited",e[e.CannotDeleteGuildSubscriptionIntegration=50163]="CannotDeleteGuildSubscriptionIntegration",e[e.YouCannotSendVoiceMessagesInThisChannel=50173]="YouCannotSendVoiceMessagesInThisChannel",e[e.TheUserAccountMustFirstBeVerified=50178]="TheUserAccountMustFirstBeVerified",e[e.YouDoNotHavePermissionToSendThisSticker=50600]="YouDoNotHavePermissionToSendThisSticker",e[e.TwoFactorAuthenticationIsRequired=60003]="TwoFactorAuthenticationIsRequired",e[e.NoUsersWithDiscordTagExist=80004]="NoUsersWithDiscordTagExist",e[e.ReactionWasBlocked=90001]="ReactionWasBlocked",e[e.UserCannotUseBurstReactions=90002]="UserCannotUseBurstReactions",e[e.ApplicationNotYetAvailable=110001]="ApplicationNotYetAvailable",e[e.APIResourceOverloaded=13e4]="APIResourceOverloaded",e[e.TheStageIsAlreadyOpen=150006]="TheStageIsAlreadyOpen",e[e.CannotReplyWithoutPermissionToReadMessageHistory=160002]="CannotReplyWithoutPermissionToReadMessageHistory",e[e.ThreadAlreadyCreatedForMessage=160004]="ThreadAlreadyCreatedForMessage",e[e.ThreadLocked=160005]="ThreadLocked",e[e.MaximumActiveThreads=160006]="MaximumActiveThreads",e[e.MaximumActiveAnnouncementThreads=160007]="MaximumActiveAnnouncementThreads",e[e.InvalidJSONForUploadedLottieFile=170001]="InvalidJSONForUploadedLottieFile",e[e.UploadedLottiesCannotContainRasterizedImages=170002]="UploadedLottiesCannotContainRasterizedImages",e[e.StickerMaximumFramerateExceeded=170003]="StickerMaximumFramerateExceeded",e[e.StickerFrameCountExceedsMaximumOf1000Frames=170004]="StickerFrameCountExceedsMaximumOf1000Frames",e[e.LottieAnimationMaximumDimensionsExceeded=170005]="LottieAnimationMaximumDimensionsExceeded",e[e.StickerFramerateIsTooSmallOrTooLarge=170006]="StickerFramerateIsTooSmallOrTooLarge",e[e.StickerAnimationDurationExceedsMaximumOf5Seconds=170007]="StickerAnimationDurationExceedsMaximumOf5Seconds",e[e.CannotUpdateAFinishedEvent=18e4]="CannotUpdateAFinishedEvent",e[e.FailedToCreateStageNeededForStageEvent=180002]="FailedToCreateStageNeededForStageEvent",e[e.MessageWasBlockedByAutomaticModeration=2e5]="MessageWasBlockedByAutomaticModeration",e[e.TitleWasBlockedByAutomaticModeration=200001]="TitleWasBlockedByAutomaticModeration",e[e.WebhooksPostedToForumChannelsMustHaveAThreadNameOrThreadId=220001]="WebhooksPostedToForumChannelsMustHaveAThreadNameOrThreadId",e[e.WebhooksPostedToForumChannelsCannotHaveBothAThreadNameAndThreadId=220002]="WebhooksPostedToForumChannelsCannotHaveBothAThreadNameAndThreadId",e[e.WebhooksCanOnlyCreateThreadsInForumChannels=220003]="WebhooksCanOnlyCreateThreadsInForumChannels",e[e.WebhookServicesCannotBeUsedInForumChannels=220004]="WebhookServicesCannotBeUsedInForumChannels",e[e.MessageBlockedByHarmfulLinksFilter=24e4]="MessageBlockedByHarmfulLinksFilter",e[e.CannotEnableOnboardingRequirementsAreNotMet=35e4]="CannotEnableOnboardingRequirementsAreNotMet",e[e.CannotUpdateOnboardingWhileBelowRequirements=350001]="CannotUpdateOnboardingWhileBelowRequirements",e[e.FailedToBanUsers=5e5]="FailedToBanUsers",e[e.PollVotingBlocked=52e4]="PollVotingBlocked",e[e.PollExpired=520001]="PollExpired",e[e.InvalidChannelTypeForPollCreation=520002]="InvalidChannelTypeForPollCreation",e[e.CannotEditAPollMessage=520003]="CannotEditAPollMessage",e[e.CannotUseAnEmojiIncludedWithThePoll=520004]="CannotUseAnEmojiIncludedWithThePoll",e[e.CannotExpireANonPollMessage=520006]="CannotExpireANonPollMessage"})(Ll||(vt.RESTJSONErrorCodes=Ll={}));var El;(function(e){e.Indonesian="id",e.EnglishUS="en-US",e.EnglishGB="en-GB",e.Bulgarian="bg",e.ChineseCN="zh-CN",e.ChineseTW="zh-TW",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.Finnish="fi",e.French="fr",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Lithuanian="lt",e.Norwegian="no",e.Polish="pl",e.PortugueseBR="pt-BR",e.Romanian="ro",e.Russian="ru",e.SpanishES="es-ES",e.SpanishLATAM="es-419",e.Swedish="sv-SE",e.Thai="th",e.Turkish="tr",e.Ukrainian="uk",e.Vietnamese="vi"})(El||(vt.Locale=El={}));var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.ReactionType=void 0;var Sl;(function(e){e[e.Normal=0]="Normal",e[e.Super=1]="Super"})(Sl||(Hn.ReactionType=Sl={}));var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});var Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});var jl={};Object.defineProperty(jl,"__esModule",{value:!0});var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});var ql={};Object.defineProperty(ql,"__esModule",{value:!0});var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});var zl={};Object.defineProperty(zl,"__esModule",{value:!0});var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});var Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});var qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.EntitlementOwnerType=void 0;var Ql;(function(e){e[e.Guild=1]="Guild",e[e.User=2]="User"})(Ql||(qn.EntitlementOwnerType=Ql={})),function(e){var n=D&&D.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,l)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),t=D&&D.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&n(a,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2Routes=e.RouteBases=e.CDNRoutes=e.ImageFormat=e.StickerPackApplicationId=e.Routes=e.APIVersion=void 0,t(vt,e),t(Ol,e),t(Rl,e),t(Cl,e),t(Hn,e),t(Ul,e),t(Fl,e),t(Nl,e),t(Bl,e),t(jl,e),t(Vl,e),t(Gl,e),t(Hl,e),t(ql,e),t(Wl,e),t(zl,e),t(Kl,e),t(Yl,e),t(Xl,e),t(qn,e),e.APIVersion="10",e.Routes={applicationRoleConnectionMetadata(r){return`/applications/${r}/role-connections/metadata`},guildAutoModerationRules(r){return`/guilds/${r}/auto-moderation/rules`},guildAutoModerationRule(r,a){return`/guilds/${r}/auto-moderation/rules/${a}`},guildAuditLog(r){return`/guilds/${r}/audit-logs`},channel(r){return`/channels/${r}`},channelMessages(r){return`/channels/${r}/messages`},channelMessage(r,a){return`/channels/${r}/messages/${a}`},channelMessageCrosspost(r,a){return`/channels/${r}/messages/${a}/crosspost`},channelMessageOwnReaction(r,a,s){return`/channels/${r}/messages/${a}/reactions/${s}/@me`},channelMessageUserReaction(r,a,s,o){return`/channels/${r}/messages/${a}/reactions/${s}/${o}`},channelMessageReaction(r,a,s){return`/channels/${r}/messages/${a}/reactions/${s}`},channelMessageAllReactions(r,a){return`/channels/${r}/messages/${a}/reactions`},channelBulkDelete(r){return`/channels/${r}/messages/bulk-delete`},channelPermission(r,a){return`/channels/${r}/permissions/${a}`},channelInvites(r){return`/channels/${r}/invites`},channelFollowers(r){return`/channels/${r}/followers`},channelTyping(r){return`/channels/${r}/typing`},channelPins(r){return`/channels/${r}/pins`},channelPin(r,a){return`/channels/${r}/pins/${a}`},channelRecipient(r,a){return`/channels/${r}/recipients/${a}`},guildEmojis(r){return`/guilds/${r}/emojis`},guildEmoji(r,a){return`/guilds/${r}/emojis/${a}`},guilds(){return"/guilds"},guild(r){return`/guilds/${r}`},guildPreview(r){return`/guilds/${r}/preview`},guildChannels(r){return`/guilds/${r}/channels`},guildMember(r,a="@me"){return`/guilds/${r}/members/${a}`},guildMembers(r){return`/guilds/${r}/members`},guildMembersSearch(r){return`/guilds/${r}/members/search`},guildCurrentMemberNickname(r){return`/guilds/${r}/members/@me/nick`},guildMemberRole(r,a,s){return`/guilds/${r}/members/${a}/roles/${s}`},guildMFA(r){return`/guilds/${r}/mfa`},guildBans(r){return`/guilds/${r}/bans`},guildBan(r,a){return`/guilds/${r}/bans/${a}`},guildRoles(r){return`/guilds/${r}/roles`},guildRole(r,a){return`/guilds/${r}/roles/${a}`},guildPrune(r){return`/guilds/${r}/prune`},guildVoiceRegions(r){return`/guilds/${r}/regions`},guildInvites(r){return`/guilds/${r}/invites`},guildIntegrations(r){return`/guilds/${r}/integrations`},guildIntegration(r,a){return`/guilds/${r}/integrations/${a}`},guildWidgetSettings(r){return`/guilds/${r}/widget`},guildWidgetJSON(r){return`/guilds/${r}/widget.json`},guildVanityUrl(r){return`/guilds/${r}/vanity-url`},guildWidgetImage(r){return`/guilds/${r}/widget.png`},invite(r){return`/invites/${r}`},template(r){return`/guilds/templates/${r}`},guildTemplates(r){return`/guilds/${r}/templates`},guildTemplate(r,a){return`/guilds/${r}/templates/${a}`},pollAnswerVoters(r,a,s){return`/channels/${r}/polls/${a}/answers/${s}`},expirePoll(r,a){return`/channels/${r}/polls/${a}/expire`},threads(r,a){const s=["","channels",r];return a&&s.push("messages",a),s.push("threads"),s.join("/")},guildActiveThreads(r){return`/guilds/${r}/threads/active`},channelThreads(r,a){return`/channels/${r}/threads/archived/${a}`},channelJoinedArchivedThreads(r){return`/channels/${r}/users/@me/threads/archived/private`},threadMembers(r,a){const s=["","channels",r,"thread-members"];return a&&s.push(a),s.join("/")},user(r="@me"){return`/users/${r}`},userApplicationRoleConnection(r){return`/users/@me/applications/${r}/role-connection`},userGuilds(){return"/users/@me/guilds"},userGuildMember(r){return`/users/@me/guilds/${r}/member`},userGuild(r){return`/users/@me/guilds/${r}`},userChannels(){return"/users/@me/channels"},userConnections(){return"/users/@me/connections"},voiceRegions(){return"/voice/regions"},channelWebhooks(r){return`/channels/${r}/webhooks`},guildWebhooks(r){return`/guilds/${r}/webhooks`},webhook(r,a){const s=["","webhooks",r];return a&&s.push(a),s.join("/")},webhookMessage(r,a,s="@original"){return`/webhooks/${r}/${a}/messages/${s}`},webhookPlatform(r,a,s){return`/webhooks/${r}/${a}/${s}`},gateway(){return"/gateway"},gatewayBot(){return"/gateway/bot"},oauth2CurrentApplication(){return"/oauth2/applications/@me"},oauth2CurrentAuthorization(){return"/oauth2/@me"},oauth2Authorization(){return"/oauth2/authorize"},oauth2TokenExchange(){return"/oauth2/token"},oauth2TokenRevocation(){return"/oauth2/token/revoke"},applicationCommands(r){return`/applications/${r}/commands`},applicationCommand(r,a){return`/applications/${r}/commands/${a}`},applicationGuildCommands(r,a){return`/applications/${r}/guilds/${a}/commands`},applicationGuildCommand(r,a,s){return`/applications/${r}/guilds/${a}/commands/${s}`},interactionCallback(r,a){return`/interactions/${r}/${a}/callback`},guildMemberVerification(r){return`/guilds/${r}/member-verification`},guildVoiceState(r,a="@me"){return`/guilds/${r}/voice-states/${a}`},guildApplicationCommandsPermissions(r,a){return`/applications/${r}/guilds/${a}/commands/permissions`},applicationCommandPermissions(r,a,s){return`/applications/${r}/guilds/${a}/commands/${s}/permissions`},guildWelcomeScreen(r){return`/guilds/${r}/welcome-screen`},stageInstances(){return"/stage-instances"},stageInstance(r){return`/stage-instances/${r}`},sticker(r){return`/stickers/${r}`},stickerPacks(){return"/sticker-packs"},stickerPack(r){return`/sticker-packs/${r}`},nitroStickerPacks(){return"/sticker-packs"},guildStickers(r){return`/guilds/${r}/stickers`},guildSticker(r,a){return`/guilds/${r}/stickers/${a}`},guildScheduledEvents(r){return`/guilds/${r}/scheduled-events`},guildScheduledEvent(r,a){return`/guilds/${r}/scheduled-events/${a}`},guildScheduledEventUsers(r,a){return`/guilds/${r}/scheduled-events/${a}/users`},guildOnboarding(r){return`/guilds/${r}/onboarding`},currentApplication(){return"/applications/@me"},entitlements(r){return`/applications/${r}/entitlements`},entitlement(r,a){return`/applications/${r}/entitlements/${a}`},skus(r){return`/applications/${r}/skus`},guildBulkBan(r){return`/guilds/${r}/bulk-ban`},consumeEntitlement(r,a){return`/applications/${r}/entitlements/${a}/consume`},applicationEmojis(r){return`/applications/${r}/emojis`},applicationEmoji(r,a){return`/applications/${r}/emojis/${a}`}},e.StickerPackApplicationId="710982414301790216";var i;(function(r){r.JPEG="jpeg",r.PNG="png",r.WebP="webp",r.GIF="gif",r.Lottie="json"})(i||(e.ImageFormat=i={})),e.CDNRoutes={emoji(r,a){return`/emojis/${r}.${a}`},guildIcon(r,a,s){return`/icons/${r}/${a}.${s}`},guildSplash(r,a,s){return`/splashes/${r}/${a}.${s}`},guildDiscoverySplash(r,a,s){return`/discovery-splashes/${r}/${a}.${s}`},guildBanner(r,a,s){return`/banners/${r}/${a}.${s}`},userBanner(r,a,s){return`/banners/${r}/${a}.${s}`},defaultUserAvatar(r){return`/embed/avatars/${r}.png`},userAvatar(r,a,s){return`/avatars/${r}/${a}.${s}`},guildMemberAvatar(r,a,s,o){return`/guilds/${r}/users/${a}/avatars/${s}.${o}`},userAvatarDecoration(r,a){return`/avatar-decorations/${r}/${a}.png`},avatarDecoration(r){return`/avatar-decoration-presets/${r}.png`},applicationIcon(r,a,s){return`/app-icons/${r}/${a}.${s}`},applicationCover(r,a,s){return`/app-icons/${r}/${a}.${s}`},applicationAsset(r,a,s){return`/app-assets/${r}/${a}.${s}`},achievementIcon(r,a,s,o){return`/app-assets/${r}/achievements/${a}/icons/${s}.${o}`},stickerPackBanner(r,a){return`/app-assets/${e.StickerPackApplicationId}/store/${r}.${a}`},storePageAsset(r,a,s=i.PNG){return`/app-assets/${r}/store/${a}.${s}`},teamIcon(r,a,s){return`/team-icons/${r}/${a}.${s}`},sticker(r,a){return`/stickers/${r}.${a}`},roleIcon(r,a,s){return`/role-icons/${r}/${a}.${s}`},guildScheduledEventCover(r,a,s){return`/guild-events/${r}/${a}.${s}`},guildMemberBanner(r,a,s,o){return`/guilds/${r}/users/${a}/banners/${s}.${o}`}},e.RouteBases={api:`https://discord.com/api/v${e.APIVersion}`,cdn:"https://cdn.discordapp.com",media:"https://media.discordapp.net",invite:"https://discord.gg",template:"https://discord.new",gift:"https://discord.gift",scheduledEvent:"https://discord.com/events"},Object.freeze(e.RouteBases),e.OAuth2Routes={authorizationURL:`${e.RouteBases.api}${e.Routes.oauth2Authorization()}`,tokenURL:`${e.RouteBases.api}${e.Routes.oauth2TokenExchange()}`,tokenRevocationURL:`${e.RouteBases.api}${e.Routes.oauth2TokenRevocation()}`},Object.freeze(e.OAuth2Routes)}(kl);const ge=X(kl),Dx=ge.APIVersion,kx=ge.CDNRoutes,Lx=ge.EntitlementOwnerType,Ex=ge.ImageFormat,Ox=ge.Locale,Rx=ge.OAuth2Routes,Zl=ge.RESTJSONErrorCodes,Cx=ge.ReactionType,Sx=ge.RouteBases,Jl=ge.Routes,Ux=ge.StickerPackApplicationId,Fx=Ee(Object.freeze(Object.defineProperty({__proto__:null,APIVersion:Dx,CDNRoutes:kx,EntitlementOwnerType:Lx,ImageFormat:Ex,Locale:Ox,OAuth2Routes:Rx,RESTJSONErrorCodes:Zl,ReactionType:Cx,RouteBases:Sx,Routes:Jl,StickerPackApplicationId:Ux,default:ge},Symbol.toStringTag,{value:"Module"})));var ec={},xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.RPCCloseEventCodes=xt.RPCErrorCodes=void 0;var tc;(function(e){e[e.UnknownError=1e3]="UnknownError",e[e.InvalidPayload=4e3]="InvalidPayload",e[e.InvalidCommand=4002]="InvalidCommand",e[e.InvalidGuild=4003]="InvalidGuild",e[e.InvalidEvent=4004]="InvalidEvent",e[e.InvalidChannel=4005]="InvalidChannel",e[e.InvalidPermissions=4006]="InvalidPermissions",e[e.InvalidClientId=4007]="InvalidClientId",e[e.InvalidOrigin=4008]="InvalidOrigin",e[e.InvalidToken=4009]="InvalidToken",e[e.InvalidUser=4010]="InvalidUser",e[e.OAuth2Error=5e3]="OAuth2Error",e[e.SelectChannelTimedOut=5001]="SelectChannelTimedOut",e[e.GetGuildTimedOut=5002]="GetGuildTimedOut",e[e.SelectVoiceForceRequired=5003]="SelectVoiceForceRequired",e[e.CaptureShortcutAlreadyListening=5004]="CaptureShortcutAlreadyListening"})(tc||(xt.RPCErrorCodes=tc={}));var nc;(function(e){e[e.InvalidClientId=4e3]="InvalidClientId",e[e.InvalidOrigin=4001]="InvalidOrigin",e[e.RateLimited=4002]="RateLimited",e[e.TokenRevoked=4003]="TokenRevoked",e[e.InvalidVersion=4004]="InvalidVersion",e[e.InvalidEncoding=4005]="InvalidEncoding"})(nc||(xt.RPCCloseEventCodes=nc={})),function(e){var n=D&&D.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),t=D&&D.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(xt,e)}(ec);const lr=X(ec),Nx=lr.RPCCloseEventCodes,Bx=lr.RPCErrorCodes,jx=Ee(Object.freeze(Object.defineProperty({__proto__:null,RPCCloseEventCodes:Nx,RPCErrorCodes:Bx,default:lr},Symbol.toStringTag,{value:"Module"})));var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.isDMInteraction=cr,G.isGuildInteraction=ur,G.isApplicationCommandDMInteraction=Vx,G.isApplicationCommandGuildInteraction=Gx,G.isMessageComponentDMInteraction=Hx,G.isMessageComponentGuildInteraction=qx,G.isLinkButton=Wx,G.isInteractionButton=zx,G.isMessageComponentInteraction=Kx,G.isMessageComponentButtonInteraction=Yx,G.isMessageComponentSelectMenuInteraction=Xx,G.isChatInputApplicationCommandInteraction=Qx,G.isContextMenuApplicationCommandInteraction=Zx;const ve=Dl;function cr(e){return Reflect.has(e,"user")}function ur(e){return Reflect.has(e,"guild_id")}function Vx(e){return cr(e)}function Gx(e){return ur(e)}function Hx(e){return cr(e)}function qx(e){return ur(e)}function Wx(e){return e.style===ve.ButtonStyle.Link}function zx(e){return e.style!==ve.ButtonStyle.Link}function Kx(e){return e.type===ve.InteractionType.MessageComponent}function Yx(e){return e.data.component_type===ve.ComponentType.Button}function Xx(e){return[ve.ComponentType.StringSelect,ve.ComponentType.UserSelect,ve.ComponentType.RoleSelect,ve.ComponentType.MentionableSelect,ve.ComponentType.ChannelSelect].includes(e.data.component_type)}function Qx(e){return e.data.type===ve.ApplicationCommandType.ChatInput}function Zx(e){return e.data.type===ve.ApplicationCommandType.Message||e.data.type===ve.ApplicationCommandType.User}const Jx=G.isApplicationCommandDMInteraction,eb=G.isApplicationCommandGuildInteraction,tb=G.isChatInputApplicationCommandInteraction,nb=G.isContextMenuApplicationCommandInteraction,ib=G.isDMInteraction,rb=G.isGuildInteraction,ab=G.isInteractionButton,sb=G.isLinkButton,ob=G.isMessageComponentButtonInteraction,lb=G.isMessageComponentDMInteraction,cb=G.isMessageComponentGuildInteraction,ub=G.isMessageComponentInteraction,db=G.isMessageComponentSelectMenuInteraction,hb=Ee(Object.freeze(Object.defineProperty({__proto__:null,default:G,isApplicationCommandDMInteraction:Jx,isApplicationCommandGuildInteraction:eb,isChatInputApplicationCommandInteraction:tb,isContextMenuApplicationCommandInteraction:nb,isDMInteraction:ib,isGuildInteraction:rb,isInteractionButton:ab,isLinkButton:sb,isMessageComponentButtonInteraction:ob,isMessageComponentDMInteraction:lb,isMessageComponentGuildInteraction:cb,isMessageComponentInteraction:ub,isMessageComponentSelectMenuInteraction:db},Symbol.toStringTag,{value:"Module"})));(function(e){var n=D&&D.__createBinding||(Object.create?function(i,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(i,s,o)}:function(i,r,a,s){s===void 0&&(s=a),i[s]=r[a]}),t=D&&D.__exportStar||function(i,r){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&n(r,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0,t(tv,e),t(iv,e),t(Dl,e),t(Fx,e),t(jx,e),e.Utils=hb})(Ls);const y=X(Ls);y.APIApplicationCommandPermissionsConstant;const fb=y.APIVersion;y.ActivityFlags,y.ActivityPlatform,y.ActivityType,y.AllowedMentionsTypes,y.ApplicationCommandOptionType,y.ApplicationCommandPermissionType,y.ApplicationCommandType,y.ApplicationFlags,y.ApplicationIntegrationType,y.ApplicationRoleConnectionMetadataType,y.AttachmentFlags,y.AuditLogEvent,y.AuditLogOptionsType,y.AutoModerationActionType,y.AutoModerationRuleEventType,y.AutoModerationRuleKeywordPresetType,y.AutoModerationRuleTriggerType,y.ButtonStyle,y.CDNRoutes,y.ChannelFlags,y.ChannelType,y.ComponentType,y.ConnectionService,y.ConnectionVisibility,y.EmbedType,y.EntitlementOwnerType,y.EntitlementType,y.FormattingPatterns,y.ForumLayoutType,y.GatewayCloseCodes,y.GatewayDispatchEvents,y.GatewayIntentBits,y.GatewayOpcodes,y.GatewayVersion,y.GuildDefaultMessageNotifications,y.GuildExplicitContentFilter,y.GuildFeature,y.GuildHubType,y.GuildMFALevel,y.GuildMemberFlags,y.GuildNSFWLevel,y.GuildOnboardingMode,y.GuildOnboardingPromptType,y.GuildPremiumTier,y.GuildScheduledEventEntityType,y.GuildScheduledEventPrivacyLevel,y.GuildScheduledEventRecurrenceRuleFrequency,y.GuildScheduledEventRecurrenceRuleMonth,y.GuildScheduledEventRecurrenceRuleWeekday,y.GuildScheduledEventStatus,y.GuildSystemChannelFlags,y.GuildVerificationLevel,y.GuildWidgetStyle,y.ImageFormat,y.IntegrationExpireBehavior,y.InteractionContextType,y.InteractionResponseType,y.InteractionType,y.InviteTargetType,y.InviteType,y.Locale,y.MembershipScreeningFieldType,y.MessageActivityType,y.MessageFlags,y.MessageReferenceType,y.MessageType,y.OAuth2Routes,y.OAuth2Scopes,y.OverwriteType,y.PermissionFlagsBits,y.PollLayoutType,y.PresenceUpdateStatus,y.RESTJSONErrorCodes,y.RPCCloseEventCodes,y.RPCErrorCodes,y.ReactionType,y.RoleFlags,y.RouteBases,y.Routes,y.SKUFlags,y.SKUType,y.SelectMenuDefaultValueType,y.SortOrderType,y.StageInstancePrivacyLevel,y.StickerFormatType,y.StickerPackApplicationId,y.StickerType,y.TeamMemberMembershipState,y.TeamMemberRole,y.TextInputStyle,y.ThreadAutoArchiveDuration,y.ThreadMemberFlags,y.UserFlags,y.UserPremiumType,y.Utils,y.VideoQualityMode,y.WebhookType;var mb=Object.defineProperty,pb=(e,n)=>mb(e,"name",{value:n,configurable:!0}),Wn=(De=class extends Map{ensure(n,t){if(this.has(n))return this.get(n);if(typeof t!="function")throw new TypeError(`${t} is not a function`);const i=t(n,this);return this.set(n,i),i}hasAll(...n){return n.every(t=>super.has(t))}hasAny(...n){return n.some(t=>super.has(t))}first(n){if(n===void 0)return this.values().next().value;if(n<0)return this.last(n*-1);n=Math.min(this.size,n);const t=this.values();return Array.from({length:n},()=>t.next().value)}firstKey(n){if(n===void 0)return this.keys().next().value;if(n<0)return this.lastKey(n*-1);n=Math.min(this.size,n);const t=this.keys();return Array.from({length:n},()=>t.next().value)}last(n){const t=[...this.values()];return n===void 0?t[t.length-1]:n<0?this.first(n*-1):n?t.slice(-n):[]}lastKey(n){const t=[...this.keys()];return n===void 0?t[t.length-1]:n<0?this.firstKey(n*-1):n?t.slice(-n):[]}at(n){return n=Math.floor(n),[...this.values()].at(n)}keyAt(n){return n=Math.floor(n),[...this.keys()].at(n)}random(n){const t=[...this.values()];return n===void 0?t[Math.floor(Math.random()*t.length)]:!t.length||!n?[]:Array.from({length:Math.min(n,t.length)},()=>t.splice(Math.floor(Math.random()*t.length),1)[0])}randomKey(n){const t=[...this.keys()];return n===void 0?t[Math.floor(Math.random()*t.length)]:!t.length||!n?[]:Array.from({length:Math.min(n,t.length)},()=>t.splice(Math.floor(Math.random()*t.length),1)[0])}reverse(){const n=[...this.entries()].reverse();this.clear();for(const[t,i]of n)this.set(t,i);return this}find(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));for(const[i,r]of this)if(n(r,i,this))return r}findKey(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));for(const[i,r]of this)if(n(r,i,this))return i}findLast(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));const i=[...this.entries()];for(let r=i.length-1;r>=0;r--){const a=i[r][1],s=i[r][0];if(n(a,s,this))return a}}findLastKey(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));const i=[...this.entries()];for(let r=i.length-1;r>=0;r--){const a=i[r][0],s=i[r][1];if(n(s,a,this))return a}}sweep(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));const i=this.size;for(const[r,a]of this)n(a,r,this)&&this.delete(r);return i-this.size}filter(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));const i=new this.constructor[Symbol.species];for(const[r,a]of this)n(a,r,this)&&i.set(r,a);return i}partition(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));const i=[new this.constructor[Symbol.species],new this.constructor[Symbol.species]];for(const[r,a]of this)n(a,r,this)?i[0].set(r,a):i[1].set(r,a);return i}flatMap(n,t){const i=this.map(n,t);return new this.constructor[Symbol.species]().concat(...i)}map(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));const i=this.entries();return Array.from({length:this.size},()=>{const[r,a]=i.next().value;return n(a,r,this)})}mapValues(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));const i=new this.constructor[Symbol.species];for(const[r,a]of this)i.set(r,n(a,r,this));return i}some(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));for(const[i,r]of this)if(n(r,i,this))return!0;return!1}every(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));for(const[i,r]of this)if(!n(r,i,this))return!1;return!0}reduce(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);let i;const r=this.entries();if(t===void 0){if(this.size===0)throw new TypeError("Reduce of empty collection with no initial value");i=r.next().value[1]}else i=t;for(const[a,s]of r)i=n(i,s,a,this);return i}reduceRight(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);const i=[...this.entries()];let r,a;if(t===void 0){if(i.length===0)throw new TypeError("Reduce of empty collection with no initial value");r=i[i.length-1][1],a=i.length-1}else r=t,a=i.length;for(;--a>=0;){const s=i[a][0],o=i[a][1];r=n(r,o,s,this)}return r}each(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);t!==void 0&&(n=n.bind(t));for(const[i,r]of this)n(r,i,this);return this}tap(n,t){if(typeof n!="function")throw new TypeError(`${n} is not a function`);return t!==void 0&&(n=n.bind(t)),n(this),this}clone(){return new this.constructor[Symbol.species](this)}concat(...n){const t=this.clone();for(const i of n)for(const[r,a]of i)t.set(r,a);return t}equals(n){if(!n)return!1;if(this===n)return!0;if(this.size!==n.size)return!1;for(const[t,i]of this)if(!n.has(t)||i!==n.get(t))return!1;return!0}sort(n=De.defaultSort){const t=[...this.entries()];t.sort((i,r)=>n(i[1],r[1],i[0],r[0])),super.clear();for(const[i,r]of t)super.set(i,r);return this}intersection(n){const t=new this.constructor[Symbol.species];for(const[i,r]of this)n.has(i)&&t.set(i,r);return t}union(n){const t=new this.constructor[Symbol.species](this);for(const[i,r]of n)t.has(i)||t.set(i,r);return t}difference(n){const t=new this.constructor[Symbol.species];for(const[i,r]of this)n.has(i)||t.set(i,r);return t}symmetricDifference(n){const t=new this.constructor[Symbol.species];for(const[i,r]of this)n.has(i)||t.set(i,r);for(const[i,r]of n)this.has(i)||t.set(i,r);return t}merge(n,t,i,r){const a=new this.constructor[Symbol.species],s=new Set([...this.keys(),...n.keys()]);for(const o of s){const l=this.has(o),c=n.has(o);if(l&&c){const u=r(this.get(o),n.get(o),o);u.keep&&a.set(o,u.value)}else if(l){const u=t(this.get(o),o);u.keep&&a.set(o,u.value)}else if(c){const u=i(n.get(o),o);u.keep&&a.set(o,u.value)}}return a}toReversed(){return new this.constructor[Symbol.species](this).reverse()}toSorted(n=De.defaultSort){return new this.constructor[Symbol.species](this).sort((t,i,r,a)=>n(t,i,r,a))}toJSON(){return[...this.entries()]}static defaultSort(n,t){return+(n>t)||+(n===t)-1}static combineEntries(n,t){const i=new De;for(const[r,a]of n)i.has(r)?i.set(r,t(i.get(r),a,r)):i.set(r,a);return i}},pb(De,"Collection"),De),ic=Object.defineProperty,gb=(e,n,t)=>n in e?ic(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,dr=(e,n)=>ic(e,"name",{value:n,configurable:!0}),Kt=(e,n,t)=>(gb(e,typeof n!="symbol"?n+"":n,t),t),hr=Symbol("@sapphire/snowflake.increment"),bt=Symbol("@sapphire/snowflake.epoch"),zn=Symbol("@sapphire/snowflake.processId"),Kn=Symbol("@sapphire/snowflake.workerId"),fr=0b11111n,mr=0b11111n,pr=0b111111111111n,rc,ac,sc,oc,lc=class{constructor(n){Kt(this,"decode",this.deconstruct),Kt(this,rc),Kt(this,ac,0n),Kt(this,sc,1n),Kt(this,oc,0n),this[bt]=BigInt(n instanceof Date?n.getTime():n)}get epoch(){return this[bt]}get processId(){return this[zn]}set processId(n){this[zn]=BigInt(n)&mr}get workerId(){return this[Kn]}set workerId(n){this[Kn]=BigInt(n)&fr}generate({increment:n,timestamp:t=Date.now(),workerId:i=this[Kn],processId:r=this[zn]}={}){if(t instanceof Date)t=BigInt(t.getTime());else if(typeof t=="number")t=BigInt(t);else if(typeof t!="bigint")throw new TypeError(`"timestamp" argument must be a number, bigint, or Date (received ${typeof t})`);return typeof n!="bigint"&&(n=this[hr],this[hr]=n+1n&pr),t-this[bt]<<22n|(i&fr)<<17n|(r&mr)<<12n|n&pr}deconstruct(n){const t=BigInt(n),i=this[bt];return{id:t,timestamp:(t>>22n)+i,workerId:t>>17n&fr,processId:t>>12n&mr,increment:t&pr,epoch:i}}timestampFrom(n){return Number((BigInt(n)>>22n)+this[bt])}static compare(n,t){const i=typeof n;return i===typeof t?i==="string"?uc(n,t):gr(n,t):gr(BigInt(n),BigInt(t))}};rc=bt,ac=hr,sc=zn,oc=Kn,dr(lc,"Snowflake");var cc=lc;function gr(e,n){return e===n?0:e<n?-1:1}dr(gr,"cmpBigInt");function uc(e,n){return e===n?0:e.length<n.length?-1:e.length>n.length?1:e<n?-1:1}dr(uc,"cmpString");var vb=new cc(1420070400000n);new cc(1288834974657n);var xb=Object.defineProperty,ee=(e,n)=>xb(e,"name",{value:n,configurable:!0});function yt(e){if(typeof e!="function")throw new TypeError(`The listener argument must be a function. Received ${typeof e}`)}ee(yt,"validateListener");function vr(e){if(e&&!(e instanceof AbortSignal))throw new TypeError(`The signal option must be an AbortSignal. Received ${e}`)}ee(vr,"validateAbortSignal");function dc(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}ee(dc,"spliceOne");function Yn(e){switch(e.length){case 2:return[e[0],e[1]];case 3:return[e[0],e[1],e[2]];case 4:return[e[0],e[1],e[2],e[3]];case 5:return[e[0],e[1],e[2],e[3],e[4]];case 6:return[e[0],e[1],e[2],e[3],e[4],e[5]]}return e.slice()}ee(Yn,"arrayClone");function hc(e,n){for(let t=0;t<e.length-3;t++){const i=n.indexOf(e[t]);if(i!==-1){const r=n.length-i;if(r>3){let a=1;const s=Math.min(e.length-t,r);for(;s>a&&e[t+a]===n[i+a];)a++;if(a>3)return[a,t]}}}return[0,0]}ee(hc,"identicalSequenceRange");function fc(e,n){let t="";try{const{name:l}=this.constructor;l!=="AsyncEventEmitter"&&(t=` on ${l} instance`)}catch{}const i=`
Emitted 'error' event${t} at:
`,r=e.stack.split(`
`).slice(1),a=n.stack.split(`
`).slice(1),{0:s,1:o}=hc(a,r);return s>0&&a.splice(o+1,s-2,"    [... lines matching original stack trace ...]"),e.stack+i+a.join(`
`)}ee(fc,"enhanceStackTrace");var mc=class Xu{constructor(){this._events={__proto__:null},this._eventCount=0,this._maxListeners=10,this._internalPromiseMap=new Map,this._wrapperId=0n}addListener(n,t){yt(t);const i=this._wrapListener(n,t,!1);return this._addListener(n,i,!1),this}on(n,t){return this.addListener(n,t)}once(n,t){yt(t);const i=this._wrapListener(n,t,!0);return this._addListener(n,i,!1),this}removeListener(n,t){yt(t);const i=this._events,r=i[n];if(r===void 0)return this;if(r===t||r.listener===t)--this._eventCount===0?this._events={__proto__:null}:(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener??r));else if(typeof r!="function"){let a=-1;for(let s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=s;break}if(a<0)return this;a===0?r.shift():dc(r,a),r.length===0&&(delete i[n],--this._eventCount),i.removeListener!==void 0&&this.emit("removeListener",n,t)}return this}off(n,t){return this.removeListener(n,t)}removeAllListeners(n){const t=this._events;if(t.removeListener===void 0)return n?t[n]!==void 0&&(--this._eventCount===0?this._events={__proto__:null}:delete t[n]):(this._events={__proto__:null},this._eventCount=0),this;if(!n){for(const r of Reflect.ownKeys(t))r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={__proto__:null},this._eventCount=0,this}const i=t[n];if(typeof i=="function")this.removeListener(n,i);else if(i!==void 0)for(let r=i.length-1;r>=0;r--)this.removeListener(n,i[r]);return this}setMaxListeners(n){if(typeof n!="number"||n<0||Number.isNaN(n))throw new RangeError(`Expected to get a non-negative number for "setMaxListeners", got ${n} instead`);return this._maxListeners=n,this}getMaxListeners(){return this._maxListeners}listeners(n){const t=this._events[n];if(t===void 0)return[];if(typeof t=="function")return[t.listener??t];const i=Yn(t);for(let r=0;r<i.length;++r){const a=i[r].listener;typeof a=="function"&&(i[r]=a)}return i}rawListeners(n){const t=this._events[n];return t===void 0?[]:typeof t=="function"?[t]:Yn(t)}emit(n,...t){let i=n==="error";const r=this._events;if(r!==void 0)i=i&&r.error===void 0;else if(!i)return!1;if(i){let s;if(t.length>0&&(s=t[0]),s instanceof Error){try{const c={};Error.captureStackTrace(c,Xu.prototype.emit),Object.defineProperty(s,"stack",{value:fc.call(this,s,c),configurable:!0})}catch{}throw s}const o=String(s),l=new Error(`Unhandled 'error' event emitted, received ${o}`);throw l.context=s,l}const a=r[n];if(a===void 0)return!1;if(typeof a=="function"){const s=a.apply(this,t);s!=null&&br(this,s)}else{const s=a.length,o=Yn(a);for(let l=0;l<s;++l){const c=o[l].apply(this,t);c!=null&&br(this,c)}}return!0}listenerCount(n){const t=this._events;if(t===void 0)return 0;const i=t[n];return typeof i=="function"?1:(i==null?void 0:i.length)??0}prependListener(n,t){yt(t);const i=this._wrapListener(n,t,!1);return this._addListener(n,i,!0),this}prependOnceListener(n,t){yt(t);const i=this._wrapListener(n,t,!0);return this._addListener(n,i,!0),this}eventNames(){return this._eventCount>0?Reflect.ownKeys(this._events):[]}async waitForAllListenersToComplete(){const n=[...this._internalPromiseMap.values()];return n.length===0?!1:(await Promise.all(n),!0)}_addListener(n,t,i){this._events.newListener!==void 0&&this.emit("newListener",n,t.listener??t);let r=this._events[n];r===void 0?(r=this._events[n]=t,++this._eventCount):typeof r=="function"?r=this._events[n]=i?[t,r]:[r,t]:i?r.unshift(t):r.push(t);const a=Reflect.get(r,"_hasWarnedAboutMaxListeners");if(this._maxListeners>0&&r.length>this._maxListeners&&!a){Reflect.set(r,"_hasWarnedAboutMaxListeners",!0);const s=[`Possible AsyncEventEmitter memory leak detected. ${r.length} ${String(n)} listeners added to ${this.constructor.name}.`,"Use emitter.setMaxListeners() to increase the limit."].join(" ");console.warn(s)}}_wrapListener(n,t,i){if(!i)return t;const r={fired:!1,wrapFn:void 0,eventEmitter:this,eventName:n,listener:t},s=pc.bind(r);return s.listener=t,r.wrapFn=s,s}static listenerCount(n,t){return n.listenerCount(t)}static async once(n,t,i={}){const r=i==null?void 0:i.signal;if(vr(r),r!=null&&r.aborted)throw new Xn(void 0,{cause:Yt(r)});return new Promise((a,s)=>{const o=ee(u=>{n.removeListener(t,l),r&&_t(n,t,c),s(u)},"errorListener"),l=ee((...u)=>{n.removeListener("error",o),r&&_t(r,"abort",c),a(u)},"resolver");n.once(t,l),t!=="error"&&n.once("error",o);const c=ee(()=>{_t(n,t,l),_t(n,"error",o),s(new Xn(void 0,{cause:Yt(r)}))},"abortListener");r&&xr(r,"abort",c,{once:!0})})}static on(n,t,i={}){const r=i==null?void 0:i.signal;if(vr(r),r!=null&&r.aborted)throw new Xn(void 0,{cause:Yt(r)});const a=[],s=[];let o=null,l=!1;const c=ee(()=>{d(new Xn(void 0,{cause:Yt(r)}))},"abortListener"),u=ee((...p)=>{const h=s.shift();h?h.resolve(Xt(p,!1)):a.push(p)},"eventHandler"),d=ee(p=>{l=!0;const h=s.shift();h?h.reject(p):o=p,m.return()},"errorHandler"),m=Object.setPrototypeOf({next(){const p=a.shift();if(p)return Promise.resolve(Xt(p,!1));if(o){const h=Promise.reject(o);return o=null,h}return l?Promise.resolve(Xt(void 0,!0)):new Promise((h,v)=>{s.push({resolve:h,reject:v})})},return(){n.off(t,u),n.off("error",d),r&&_t(r,"abort",c),l=!0;const p=Xt(void 0,!0);for(const h of s)h.resolve(p);return Promise.resolve(p)},throw(p){if(!p||!(p instanceof Error))throw new TypeError(`Expected Error instance to be thrown in AsyncEventEmitter.AsyncIterator. Got ${p}`);o=p,n.off(t,u),n.off("error",d)},[Symbol.asyncIterator](){return this}},yb);return n.on(t,u),t!=="error"&&n.on("error",d),r&&xr(r,"abort",c),m}};ee(mc,"AsyncEventEmitter");var bb=mc;function pc(){if(!this.fired)return this.eventEmitter.removeListener(this.eventName,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.eventEmitter):this.listener.apply(this.eventEmitter,arguments)}ee(pc,"onceWrapper");function Yt(e){return e==null?void 0:e.reason}ee(Yt,"getReason");function _t(e,n,t,i){typeof e.off=="function"?e.off(n,t):typeof e.removeEventListener=="function"&&e.removeEventListener(n,t,i)}ee(_t,"eventTargetAgnosticRemoveListener");function xr(e,n,t,i){typeof e.on=="function"?i!=null&&i.once?e.once(n,t):e.on(n,t):typeof e.addEventListener=="function"&&e.addEventListener(n,t,i)}ee(xr,"eventTargetAgnosticAddListener");var yb=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function Xt(e,n){return{value:e,done:n}}ee(Xt,"createIterResult");var gc=class extends Error{constructor(n="The operation was aborted",t=void 0){if(t!==void 0&&typeof t!="object")throw new TypeError("Failed to create AbortError: options is not an object or undefined");super(n,t),this.code="ABORT_ERR",this.name="AbortError"}};ee(gc,"AbortError");var Xn=gc;function br(e,n){try{const t=n.then,i=n.finally;if(typeof t=="function"&&t.call(n,void 0,r=>{setTimeout(()=>{e.emit("error",r)},0)}),typeof i=="function"){const r=String(++e._wrapperId);e._internalPromiseMap.set(r,n),i.call(n,ee(function(){e._internalPromiseMap.delete(r)},"final"))}}catch(t){e.emit("error",t)}}ee(br,"handleMaybeAsync");var vc={},yr={},qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.fromHex=qe.toHex=void 0;const _r=e=>new Number(e).toString(16).toLowerCase(),_b=e=>`0x${_r(e).length===1?"0"+_r(e):_r(e)}`;qe.toHex=_b;const $b=e=>new Number(e);qe.fromHex=$b;var xc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const n=l=>({typename:l.typename,mime:l.info.mime,extension:l.info.extension}),t=(l,c)=>l&&c.length===0,i=l=>l[0],r=l=>l.slice(1,l.length),a=(l,c)=>{if(l.bytes.length===0)return c;const u=i(l.bytes),d=r(l.bytes),m=c.bytes[u];if(t(m,d)){const p=c.bytes[u];return c.bytes[u]={...p,matches:[...p.matches?p.matches:[],n(l)]},c}return c.bytes[u]?(c.bytes[u]=e.merge(e.createNode(l.typename,d,l.info),c.bytes[u]),c):(c.bytes[u]||(c.bytes[u]={...c.bytes[u],...e.createComplexNode(l.typename,d,l.info)}),c)};e.merge=a;const s=(l,c,u)=>({typename:l,bytes:c,info:u||{}});e.createNode=s;const o=(l,c,u)=>{let d={bytes:{},matches:void 0};const m=i(c),p=r(c);return c.length===0?{matches:[n({typename:l,info:u?{extension:u.extension,mime:u.mime}:{}})],bytes:{}}:(d.bytes[m]=e.createComplexNode(l,p,u),d)};e.createComplexNode=o})(xc),Object.defineProperty(yr,"__esModule",{value:!0});const $r=qe,$t=xc;let Se={noOffset:null,offset:{}};const f=(e,n,t,i)=>{if(i){const r=Se.offset[$r.toHex(i)];if(!r)Se.offset[$r.toHex(i)]=$t.createComplexNode(e,n.map(a=>a.toLowerCase()),t);else{const a=$t.merge($t.createNode(e,n.map(s=>s.toLowerCase()),t),{...r});Se.offset[$r.toHex(i)]=a}}else Se.noOffset===null?Se.noOffset=$t.createComplexNode(e,n.map(r=>r.toLowerCase()),t):Se.noOffset=$t.merge($t.createNode(e,n.map(r=>r.toLowerCase()),t),Se.noOffset)};f("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),f("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),f("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),f("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),f("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),f("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),f("rpm",["0xed","0xab","0xee","0xdb"]),f("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),f("pic",["0x00"]),f("pif",["0x00"]),f("sea",["0x00"]),f("ytr",["0x00"]),f("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),f("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),f("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),f("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),f("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),f("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),f("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),f("dba",["0xBE","0xBA","0xFE","0xCA"]),f("dba2",["0x00","0x01","0x42","0x44"]),f("tda",["0x00","0x01","0x44","0x54"]),f("tda2",["0x00","0x01","0x00","0x00"]),f("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),f("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),f("z",["0x1F","0x9D"]),f("tar.z",["0x1F","0xA0"]),f("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),f("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),f("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),f("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),f("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),f("cin",["0x80","0x2A","0x5F","0xD7"]),f("cin1",["0x52","0x4E","0x43","0x01"]),f("cin2",["0x52","0x4E","0x43","0x02"]),f("dpx",["0x53","0x44","0x50","0x58"]),f("dpx2",["0x58","0x50","0x44","0x53"]),f("exr",["0x76","0x2F","0x31","0x01"]),f("bpg",["0x42","0x50","0x47","0xFB"]),f("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),f("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),f("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),f("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),f("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),f("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),f("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),f("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),f("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),f("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),f("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),f("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),f("idx",["0x49","0x4E","0x44","0x58"]),f("lz",["0x4C","0x5A","0x49","0x50"]),f("exe",["0x4D","0x5A"]),f("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),f("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),f("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),f("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),f("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),f("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),f("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),f("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),f("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),f("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),f("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),f("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),f("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),f("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),f("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),f("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),f("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),f("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),f("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),f("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),f("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),f("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),f("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),f("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),f("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),f("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),f("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),f("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),f("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),f("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),f("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),f("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),f("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),f("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),f("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),f("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),f("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),f("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),f("class",["0xCA","0xFE","0xBA","0xBE"]),f("class",["0xEF","0xBB","0xBF"]),f("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),f("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),f("class",["0xCE","0xFA","0xed","0xFE"]),f("class",["0xCF","0xFA","0xed","0xFE"]),f("class",["0xFF","0xFE"]),f("class",["0xFF","0xFE"]),f("class",["0xFF","0xFE","0x00","0x00"]),f("ps",["0x25","0x21","0x50","0x53"],{mime:"application/postscript",extension:".ps"}),f("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),f("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),f("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),f("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),f("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),f("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),f("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),f("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),f("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),f("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),f("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),f("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),f("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),f("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),f("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),f("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),f("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),f("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),f("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),f("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),f("iso",["0x43","0x44","0x30","0x30","0x31"]),f("flac",["0x66","0x4C","0x61","0x43"]),f("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),f("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),f("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),f("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),f("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),f("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),f("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),f("vmdk",["0x4B","0x44","0x4D"]),f("crx",["0x43","0x72","0x32","0x34"]),f("fh8",["0x41","0x47","0x44","0x33"]),f("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),f("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),f("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),f("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),f("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),f("xar",["0x78","0x61","0x72","0x21"]),f("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),f("nes",["0x4E","0x45","0x53","0x1A"]),f("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],{mime:"application/x-tar",extension:"tar"},257),f("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],{mime:"application/x-tar",extension:"tar"},257),f("tox",["0x74","0x6F","0x78","0x33"]),f("mlv",["0x4D","0x4C","0x56","0x49"]),f("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),f("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),f("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),f("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),f("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),f("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),f("lz2",["0x04","0x22","0x4D","0x18"]),f("cab",["0x4D","0x53","0x43","0x46"]),f("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),f("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),f("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),f("mk3d",["0x1A","0x45","0xDF","0xA3"]),f("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),f("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),f("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),f("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),f("lep",["0xCF","0x84","0x01"]),f("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),f("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),f("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),f("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),f("m2p",["0x00","0x00","0x01","0xBA"]),f("vob",["0x00","0x00","0x01","0xBA"]),f("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),f("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),f("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),f("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),f("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),f("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),f("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),f("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),f("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),f("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),f("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),f("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),f("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),f("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),f("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),f("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),f("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),f("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),f("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),f("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),f("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),f("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),f("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),f("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),f("Json",["0x7B"],{mime:"application/json",extension:".json"}),f("Json",["0x5B"],{mime:"application/json",extension:".json"}),f("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),f("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),f("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),f("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),f("SVG",["0x3c","0x73","0x76","0x67"],{mime:"image/svg+xml",extension:"svg"}),yr.default=()=>Se,function(e){var n=D&&D.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const t=n(yr),i=qe,r=t.default(),a=u=>{let d=r;for(const m of Object.keys(d.offset)){const p=i.fromHex(m);if(p>=u.length)continue;const v=r.offset[m],g=s(p,u,v);if(g.length>0)return g}return d.noOffset===null?[]:s(0,u,d.noOffset)};e.filetypeinfo=a;const s=(u,d,m)=>{let p=m,h=[];for(;;){const v=i.toHex(d[u]);if(p.bytes["?"]&&!p.bytes[v]?p=p.bytes["?"]:p=p.bytes[v],!p)return h;p&&p.matches&&(h=p.matches.slice(0)),u+=1}};e.default=e.filetypeinfo;const o=u=>e.filetypeinfo(u).map(d=>d.typename);e.filetypename=o;const l=u=>e.filetypeinfo(u).map(d=>d.mime?d.mime:null).filter(d=>d!==null);e.filetypemime=l;const c=u=>e.filetypeinfo(u).map(d=>d.extension?d.extension:null).filter(d=>d!==null);e.filetypeextension=c}(vc);var bc=Object.defineProperty,Ib=(e,n,t)=>n in e?bc(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,yc=(e,n)=>bc(e,"name",{value:n,configurable:!0}),We=(e,n,t)=>Ib(e,typeof n!="symbol"?n+"":n,t),_c=class{constructor(n){We(this,"promise"),We(this,"resolve"),We(this,"reject"),We(this,"queue"),We(this,"signal",null),We(this,"signalListener",null),this.queue=n,this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}setSignal(n){return n.aborted?this:(this.signal=n,this.signalListener=()=>{const t=this.queue.promises.indexOf(this);t!==-1&&this.queue.promises.splice(t,1),this.reject(new Error("Request aborted manually"))},this.signal.addEventListener("abort",this.signalListener),this)}use(){return this.dispose(),this.resolve(),this}abort(){return this.dispose(),this.reject(new Error("Request aborted manually")),this}dispose(){this.signal&&(this.signal.removeEventListener("abort",this.signalListener),this.signal=null,this.signalListener=null)}};yc(_c,"AsyncQueueEntry");var wb=_c,$c=class{constructor(){We(this,"promises",[])}get remaining(){return this.promises.length}get queued(){return this.remaining===0?0:this.remaining-1}wait(n){const t=new wb(this);return this.promises.length===0?(this.promises.push(t),Promise.resolve()):(this.promises.push(t),n!=null&&n.signal&&t.setSignal(n.signal),t.promise)}shift(){if(this.promises.length!==0){if(this.promises.length===1){this.promises.shift();return}this.promises.shift(),this.promises[0].use()}}abortAll(){if(this.queued!==0){for(let n=1;n<this.promises.length;++n)this.promises[n].abort();this.promises.length=1}}};yc($c,"AsyncQueue");var Ic=$c,Ab=Object.defineProperty,W=(e,n)=>Ab(e,"name",{value:n,configurable:!0}),wc;function Ac(e){wc=e}W(Ac,"setDefaultStrategy");function Tc(){return wc}W(Tc,"getDefaultStrategy");var Tb="DiscordBot (https://discord.js.org, 2.4.0)",Pb=ks(),Qt={agent:null,api:"https://discord.com/api",authPrefix:"Bot",cdn:"https://cdn.discordapp.com",headers:{},invalidRequestWarningInterval:0,globalRequestsPerSecond:50,offset:50,rejectOnRateLimit:null,retries:3,timeout:15e3,userAgentAppendix:Pb,version:fb,hashSweepInterval:144e5,hashLifetime:864e5,handlerSweepInterval:36e5,async makeRequest(...e){return Tc()(...e)},mediaProxy:"https://media.discordapp.net"},Mb=["webp","png","jpg","jpeg","gif"],Db=["png","json","gif"],Pc=[16,32,64,128,256,512,1024,2048,4096],kb={"image/apng":"image/png"},Mc="burst",Dc="DeprecationWarning",Lb=(ze=class extends Error{constructor({timeToReset:t,limit:i,method:r,hash:a,url:s,route:o,majorParameter:l,global:c,retryAfter:u,sublimitTimeout:d,scope:m}){super();$(this,"timeToReset");$(this,"limit");$(this,"method");$(this,"hash");$(this,"url");$(this,"route");$(this,"majorParameter");$(this,"global");$(this,"retryAfter");$(this,"sublimitTimeout");$(this,"scope");this.timeToReset=t,this.limit=i,this.method=r,this.hash=a,this.url=s,this.route=o,this.majorParameter=l,this.global=c,this.retryAfter=u,this.sublimitTimeout=d,this.scope=m}get name(){return`${ze.name}[${this.route}]`}},W(ze,"RateLimitError"),ze);function kc(e){switch(typeof e){case"string":return e;case"number":case"bigint":case"boolean":return e.toString();case"object":return e===null?null:e instanceof Date?Number.isNaN(e.getTime())?null:e.toISOString():typeof e.toString=="function"&&e.toString!==Object.prototype.toString?e.toString():null;default:return null}}W(kc,"serializeSearchParam");function Eb(e){const n=new URLSearchParams;if(!e)return n;for(const[t,i]of Object.entries(e)){const r=kc(i);r!==null&&n.append(t,r)}return n}W(Eb,"makeURLSearchParams");async function Ir(e){var n;return(n=e.headers.get("Content-Type"))!=null&&n.startsWith("application/json")?e.json():e.arrayBuffer()}W(Ir,"parseResponse");function wr(e,n,t){if(e==="/channels/:id"){if(typeof n!="object"||n===null||t!=="PATCH")return!1;const i=n;return["name","topic"].some(r=>Reflect.has(i,r))}return!0}W(wr,"hasSublimit");function Lc(e){return e.name==="AbortError"?!0:"code"in e&&e.code==="ECONNRESET"||e.message.includes("ECONNRESET")}W(Lc,"shouldRetry");async function Qn(e,n){const{options:t}=e;if(!t.rejectOnRateLimit)return;if(typeof t.rejectOnRateLimit=="function"?await t.rejectOnRateLimit(n):t.rejectOnRateLimit.some(r=>n.route.startsWith(r.toLowerCase())))throw new Lb(n)}W(Qn,"onRateLimit");function Ob(e){return Number(BigInt(e)>>22n)%6}W(Ob,"calculateUserDefaultAvatarIndex");async function Zt(e){return new Promise(n=>{setTimeout(()=>n(),e)})}W(Zt,"sleep");function Ec(e){return e instanceof ArrayBuffer||e instanceof Uint8Array||e instanceof Uint8ClampedArray}W(Ec,"isBufferLike");function Oc(e){typeof globalThis.process>"u"?console.warn(`${Dc}: ${e}`):process.emitWarning(e,Dc)}W(Oc,"deprecationWarning");function It(e,n){if(typeof e=="number")return Math.max(0,e);const t=e(n);return Math.max(0,t)}W(It,"normalizeRateLimitOffset");var Rc=!1,Rb=(Lt=class{constructor(n=Qt.cdn,t=Qt.mediaProxy){this.cdn=n,this.mediaProxy=t}appAsset(n,t,i){return this.makeURL(`/app-assets/${n}/${t}`,i)}appIcon(n,t,i){return this.makeURL(`/app-icons/${n}/${t}`,i)}avatar(n,t,i){return this.dynamicMakeURL(`/avatars/${n}/${t}`,t,i)}avatarDecoration(n,t,i){return t?this.makeURL(`/avatar-decorations/${n}/${t}`,i):this.makeURL(`/avatar-decoration-presets/${n}`,{extension:"png"})}banner(n,t,i){return this.dynamicMakeURL(`/banners/${n}/${t}`,t,i)}channelIcon(n,t,i){return this.makeURL(`/channel-icons/${n}/${t}`,i)}defaultAvatar(n){return this.makeURL(`/embed/avatars/${n}`,{extension:"png"})}discoverySplash(n,t,i){return this.makeURL(`/discovery-splashes/${n}/${t}`,i)}emoji(n,t){let i;return typeof t=="string"?(Rc||(Oc("Passing a string for the second parameter of CDN#emoji() is deprecated. Use an object instead."),Rc=!0),i={extension:t}):i=t,this.makeURL(`/emojis/${n}`,i)}guildMemberAvatar(n,t,i,r){return this.dynamicMakeURL(`/guilds/${n}/users/${t}/avatars/${i}`,i,r)}guildMemberBanner(n,t,i,r){return this.dynamicMakeURL(`/guilds/${n}/users/${t}/banner`,i,r)}icon(n,t,i){return this.dynamicMakeURL(`/icons/${n}/${t}`,t,i)}roleIcon(n,t,i){return this.makeURL(`/role-icons/${n}/${t}`,i)}splash(n,t,i){return this.makeURL(`/splashes/${n}/${t}`,i)}sticker(n,t="png"){return this.makeURL(`/stickers/${n}`,{allowedExtensions:Db,base:t==="gif"?this.mediaProxy:this.cdn,extension:t})}stickerPackBanner(n,t){return this.makeURL(`/app-assets/710982414301790216/store/${n}`,t)}teamIcon(n,t,i){return this.makeURL(`/team-icons/${n}/${t}`,i)}guildScheduledEventCover(n,t,i){return this.makeURL(`/guild-events/${n}/${t}`,i)}dynamicMakeURL(n,t,{forceStatic:i=!1,...r}={}){return this.makeURL(n,!i&&t.startsWith("a_")?{...r,extension:"gif"}:r)}makeURL(n,{allowedExtensions:t=Mb,base:i=this.cdn,extension:r="webp",size:a}={}){if(r=String(r).toLowerCase(),!t.includes(r))throw new RangeError(`Invalid extension provided: ${r}
Must be one of: ${t.join(", ")}`);if(a&&!Pc.includes(a))throw new RangeError(`Invalid size provided: ${a}
Must be one of: ${Pc.join(", ")}`);const s=new URL(`${i}${n}.${r}`);return a&&s.searchParams.set("size",String(a)),s.toString()}},W(Lt,"CDN"),Lt);function Cc(e){return Reflect.has(e,"_errors")}W(Cc,"isErrorGroupWrapper");function Sc(e){return typeof Reflect.get(e,"message")=="string"}W(Sc,"isErrorResponse");var Uc=(Ue=class extends Error{constructor(t,i,r,a,s,o){super(Ue.getMessage(t));$(this,"requestBody");this.rawError=t,this.code=i,this.status=r,this.method=a,this.url=s,this.requestBody={files:o.files,json:o.body}}get name(){return`${Ue.name}[${this.code}]`}static getMessage(t){let i="";return"code"in t?(t.errors&&(i=[...this.flattenDiscordError(t.errors)].join(`
`)),t.message&&i?`${t.message}
${i}`:t.message||i||"Unknown Error"):t.error_description??"No Description"}static*flattenDiscordError(t,i=""){if(Sc(t))return yield`${i.length?`${i}[${t.code}]`:`${t.code}`}: ${t.message}`.trim();for(const[r,a]of Object.entries(t)){const s=r.startsWith("_")?i:i?Number.isNaN(Number(r))?`${i}.${r}`:`${i}[${r}]`:r;if(typeof a=="string")yield a;else if(Cc(a))for(const o of a._errors)yield*this.flattenDiscordError(o,s);else yield*this.flattenDiscordError(a,s)}}},W(Ue,"DiscordAPIError"),Ue),Cb=(Ke=class extends Error{constructor(t,i,r,a,s){super(i);$(this,"requestBody");$(this,"name",Ke.name);this.status=t,this.method=r,this.url=a,this.requestBody={files:s.files,json:s.body}}},W(Ke,"HTTPError"),Ke),Zn=0,Jn=null;function Ar(e){(!Jn||Jn<Date.now())&&(Jn=Date.now()+6e5,Zn=0),Zn++,e.options.invalidRequestWarningInterval>0&&Zn%e.options.invalidRequestWarningInterval===0&&e.emit("invalidRequestWarning",{count:Zn,remainingTime:Jn-Date.now()})}W(Ar,"incrementInvalidCount");async function Tr(e,n,t,i,r,a){const s=new AbortController,o=setTimeout(()=>s.abort(),e.options.timeout);r.signal&&(r.signal.aborted?s.abort():r.signal.addEventListener("abort",()=>s.abort()));let l;try{l=await e.options.makeRequest(t,{...i,signal:s.signal})}catch(c){if(!(c instanceof Error))throw c;if(Lc(c)&&a!==e.options.retries)return null;throw c}finally{clearTimeout(o)}return e.listenerCount("response")&&e.emit("response",{method:i.method??"get",path:n.original,route:n.bucketRoute,options:i,data:r,retries:a},l instanceof Response?l.clone():{...l}),l}W(Tr,"makeNetworkRequest");async function Pr(e,n,t,i,r,a){const s=n.status;if(s>=500&&s<600){if(a!==e.options.retries)return null;throw new Cb(s,n.statusText,t,i,r)}else{if(s>=400&&s<500){s===401&&r.auth&&e.setToken(null);const o=await Ir(n);throw new Uc(o,"code"in o?o.code:o.error,s,t,i,r)}return n}}W(Pr,"handleErrors");var Sb=(Et=class{constructor(n,t,i){$(this,"id");$(this,"inactive",!1);this.manager=n,this.hash=t,this.majorParameter=i,this.id=`${t}:${i}`}debug(n){this.manager.emit("restDebug",`[REST ${this.id}] ${n}`)}async queueRequest(n,t,i,r){return this.runRequest(n,t,i,r)}async runRequest(n,t,i,r,a=0){const s=i.method??"get",o=await Tr(this.manager,n,t,i,r,a);if(o===null)return this.runRequest(n,t,i,r,++a);const l=o.status;let c=0;const u=o.headers.get("Retry-After"),d=It(this.manager.options.offset,n.bucketRoute);if(u&&(c=Number(u)*1e3+d),(l===401||l===403||l===429)&&Ar(this.manager),l>=200&&l<300)return o;if(l===429){const m=o.headers.has("X-RateLimit-Global"),p=o.headers.get("X-RateLimit-Scope")??"user";return await Qn(this.manager,{global:m,method:s,url:t,route:n.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:Number.POSITIVE_INFINITY,timeToReset:c,retryAfter:c,sublimitTimeout:0,scope:p}),this.debug(["Encountered unexpected 429 rate limit",`  Global         : ${m}`,`  Method         : ${s}`,`  URL            : ${t}`,`  Bucket         : ${n.bucketRoute}`,`  Major parameter: ${n.majorParameter}`,`  Hash           : ${this.hash}`,`  Limit          : ${Number.POSITIVE_INFINITY}`,`  Retry After    : ${c}ms`,"  Sublimit       : None",`  Scope          : ${p}`].join(`
`)),await Zt(c),this.runRequest(n,t,i,r,a)}else{const m=await Pr(this.manager,o,s,t,r,a);return m===null?this.runRequest(n,t,i,r,++a):m}}},W(Et,"BurstHandler"),Et),Ub=(Rt=class{constructor(n,t,i){$(this,"id");$(this,"reset",-1);$(this,"remaining",1);$(this,"limit",Number.POSITIVE_INFINITY);me(this,Fe,new Ic);me(this,oe,null);me(this,ke,null);me(this,Ot,!1);this.manager=n,this.hash=t,this.majorParameter=i,this.id=`${t}:${i}`}get inactive(){return j(this,Fe).remaining===0&&(j(this,oe)===null||j(this,oe).remaining===0)&&!this.limited}get globalLimited(){return this.manager.globalRemaining<=0&&Date.now()<this.manager.globalReset}get localLimited(){return this.remaining<=0&&Date.now()<this.reset}get limited(){return this.globalLimited||this.localLimited}getTimeToReset(n){const t=It(this.manager.options.offset,n.bucketRoute);return this.reset+t-Date.now()}debug(n){this.manager.emit("restDebug",`[REST ${this.id}] ${n}`)}async globalDelayFor(n){await Zt(n),this.manager.globalDelay=null}async queueRequest(n,t,i,r){var o,l,c;let a=j(this,Fe),s=0;if(j(this,oe)&&wr(n.bucketRoute,r.body,i.method)&&(a=j(this,oe),s=1),await a.wait({signal:r.signal}),s===0)if(j(this,oe)&&wr(n.bucketRoute,r.body,i.method)){a=j(this,oe);const u=a.wait();j(this,Fe).shift(),await u}else j(this,ke)&&await j(this,ke).promise;try{return await this.runRequest(n,t,i,r)}finally{a.shift(),j(this,Ot)&&(ae(this,Ot,!1),(o=j(this,oe))==null||o.shift()),((l=j(this,oe))==null?void 0:l.remaining)===0&&((c=j(this,ke))==null||c.resolve(),ae(this,oe,null))}}async runRequest(n,t,i,r,a=0){var P;for(;this.limited;){const _=this.globalLimited;let S,E,Q;if(_){const he=It(this.manager.options.offset,n.bucketRoute);S=this.manager.options.globalRequestsPerSecond,E=this.manager.globalReset+he-Date.now(),this.manager.globalDelay||(this.manager.globalDelay=this.globalDelayFor(E)),Q=this.manager.globalDelay}else S=this.limit,E=this.getTimeToReset(n),Q=Zt(E);const K={global:_,method:i.method??"get",url:t,route:n.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:S,timeToReset:E,retryAfter:E,sublimitTimeout:0,scope:"user"};this.manager.emit("rateLimited",K),await Qn(this.manager,K),_?this.debug(`Global rate limit hit, blocking all requests for ${E}ms`):this.debug(`Waiting ${E}ms for rate limit to pass`),await Q}(!this.manager.globalReset||this.manager.globalReset<Date.now())&&(this.manager.globalReset=Date.now()+1e3,this.manager.globalRemaining=this.manager.options.globalRequestsPerSecond),this.manager.globalRemaining--;const s=i.method??"get",o=await Tr(this.manager,n,t,i,r,a);if(o===null)return this.runRequest(n,t,i,r,++a);const l=o.status;let c=0;const u=o.headers.get("X-RateLimit-Limit"),d=o.headers.get("X-RateLimit-Remaining"),m=o.headers.get("X-RateLimit-Reset-After"),p=o.headers.get("X-RateLimit-Bucket"),h=o.headers.get("Retry-After"),v=o.headers.get("X-RateLimit-Scope")??"user",g=It(this.manager.options.offset,n.bucketRoute);if(this.limit=u?Number(u):Number.POSITIVE_INFINITY,this.remaining=d?Number(d):1,this.reset=m?Number(m)*1e3+Date.now()+g:Date.now(),h&&(c=Number(h)*1e3+g),p&&p!==this.hash)this.debug(["Received bucket hash update",`  Old Hash  : ${this.hash}`,`  New Hash  : ${p}`].join(`
`)),this.manager.hashes.set(`${s}:${n.bucketRoute}`,{value:p,lastAccess:Date.now()});else if(p){const _=this.manager.hashes.get(`${s}:${n.bucketRoute}`);_&&(_.lastAccess=Date.now())}let x=null;if(c>0&&(o.headers.has("X-RateLimit-Global")?(this.manager.globalRemaining=0,this.manager.globalReset=Date.now()+c):this.localLimited||(x=c)),(l===401||l===403||l===429)&&Ar(this.manager),o.ok)return o;if(l===429){const _=this.globalLimited;let S,E;if(_){const Q=It(this.manager.options.offset,n.bucketRoute);S=this.manager.options.globalRequestsPerSecond,E=this.manager.globalReset+Q-Date.now()}else S=this.limit,E=this.getTimeToReset(n);if(await Qn(this.manager,{global:_,method:s,url:t,route:n.bucketRoute,majorParameter:this.majorParameter,hash:this.hash,limit:S,timeToReset:E,retryAfter:c,sublimitTimeout:x??0,scope:v}),this.debug(["Encountered unexpected 429 rate limit",`  Global         : ${_.toString()}`,`  Method         : ${s}`,`  URL            : ${t}`,`  Bucket         : ${n.bucketRoute}`,`  Major parameter: ${n.majorParameter}`,`  Hash           : ${this.hash}`,`  Limit          : ${S}`,`  Retry After    : ${c}ms`,`  Sublimit       : ${x?`${x}ms`:"None"}`,`  Scope          : ${v}`].join(`
`)),x){const Q=!j(this,oe);Q&&(ae(this,oe,new Ic),j(this,oe).wait(),j(this,Fe).shift()),(P=j(this,ke))==null||P.resolve(),ae(this,ke,null),await Zt(x);let K;const he=new Promise(Z=>K=Z);ae(this,ke,{promise:he,resolve:K}),Q&&(await j(this,Fe).wait(),ae(this,Ot,!0))}return this.runRequest(n,t,i,r,a)}else{const _=await Pr(this.manager,o,s,t,r,a);return _===null?this.runRequest(n,t,i,r,++a):_}}},Fe=new WeakMap,oe=new WeakMap,ke=new WeakMap,Ot=new WeakMap,W(Rt,"SequentialHandler"),Rt),Fb=(Ye=class extends bb{constructor(t={}){super();$(this,"agent",null);$(this,"cdn");$(this,"globalRemaining");$(this,"globalDelay",null);$(this,"globalReset",-1);$(this,"hashes",new Wn);$(this,"handlers",new Wn);me(this,Ct,null);$(this,"hashTimer");$(this,"handlerTimer");$(this,"options");this.cdn=new Rb(t.cdn??Qt.cdn,t.mediaProxy??Qt.mediaProxy),this.options={...Qt,...t},this.globalRemaining=Math.max(1,this.options.globalRequestsPerSecond),this.agent=t.agent??null,this.setupSweepers()}setupSweepers(){var i,r,a,s;const t=W(o=>{if(o>144e5)throw new Error("Cannot set an interval greater than 4 hours")},"validateMaxInterval");this.options.hashSweepInterval!==0&&this.options.hashSweepInterval!==Number.POSITIVE_INFINITY&&(t(this.options.hashSweepInterval),this.hashTimer=setInterval(()=>{const o=new Wn,l=Date.now();this.hashes.sweep((c,u)=>{if(c.lastAccess===-1)return!1;const d=Math.floor(l-c.lastAccess)>this.options.hashLifetime;return d&&(o.set(u,c),this.emit("restDebug",`Hash ${c.value} for ${u} swept due to lifetime being exceeded`)),d}),this.emit("hashSweep",o)},this.options.hashSweepInterval),(r=(i=this.hashTimer).unref)==null||r.call(i)),this.options.handlerSweepInterval!==0&&this.options.handlerSweepInterval!==Number.POSITIVE_INFINITY&&(t(this.options.handlerSweepInterval),this.handlerTimer=setInterval(()=>{const o=new Wn;this.handlers.sweep((l,c)=>{const{inactive:u}=l;return u&&(o.set(c,l),this.emit("restDebug",`Handler ${l.id} for ${c} swept due to being inactive`)),u}),this.emit("handlerSweep",o)},this.options.handlerSweepInterval),(s=(a=this.handlerTimer).unref)==null||s.call(a))}async get(t,i={}){return this.request({...i,fullRoute:t,method:"GET"})}async delete(t,i={}){return this.request({...i,fullRoute:t,method:"DELETE"})}async post(t,i={}){return this.request({...i,fullRoute:t,method:"POST"})}async put(t,i={}){return this.request({...i,fullRoute:t,method:"PUT"})}async patch(t,i={}){return this.request({...i,fullRoute:t,method:"PATCH"})}async request(t){const i=await this.queueRequest(t);return Ir(i)}setAgent(t){return this.agent=t,this}setToken(t){return ae(this,Ct,t),this}async queueRequest(t){const i=Ye.generateRouteData(t.fullRoute,t.method),r=this.hashes.get(`${t.method}:${i.bucketRoute}`)??{value:`Global(${t.method}:${i.bucketRoute})`,lastAccess:-1},a=this.handlers.get(`${r.value}:${i.majorParameter}`)??this.createHandler(r.value,i.majorParameter),{url:s,fetchOptions:o}=await this.resolveRequest(t);return a.queueRequest(i,s,o,{body:t.body,files:t.files,auth:t.auth!==!1,signal:t.signal})}createHandler(t,i){const r=i===Mc?new Sb(this,t,i):new Ub(this,t,i);return this.handlers.set(r.id,r),r}async resolveRequest(t){var d,m;const{options:i}=this;let r="";if(t.query){const p=t.query.toString();p!==""&&(r=`?${p}`)}const a={...this.options.headers,"User-Agent":`${Tb} ${i.userAgentAppendix}`.trim()};if(t.auth!==!1){if(!j(this,Ct))throw new Error("Expected token to be set for this request, but none was present");a.Authorization=`${t.authPrefix??this.options.authPrefix} ${j(this,Ct)}`}(d=t.reason)!=null&&d.length&&(a["X-Audit-Log-Reason"]=encodeURIComponent(t.reason));const s=`${i.api}${t.versioned===!1?"":`/v${i.version}`}${t.fullRoute}${r}`;let o,l={};if((m=t.files)!=null&&m.length){const p=new FormData;for(const[h,v]of t.files.entries()){const g=v.key??`files[${h}]`;if(Ec(v.data)){let x=v.contentType;if(!x){const[P]=vc.filetypeinfo(v.data);P&&(x=kb[P.mime]??P.mime??"application/octet-stream")}p.append(g,new Blob([v.data],{type:x}),v.name)}else p.append(g,new Blob([`${v.data}`],{type:v.contentType}),v.name)}if(t.body!=null)if(t.appendToFormData)for(const[h,v]of Object.entries(t.body))p.append(h,v);else p.append("payload_json",JSON.stringify(t.body));o=p}else t.body!=null&&(t.passThroughBody?o=t.body:(o=JSON.stringify(t.body),l={"Content-Type":"application/json"}));const c=t.method.toUpperCase(),u={body:["GET","HEAD"].includes(c)?null:o,headers:{...t.headers,...l,...a},method:c,dispatcher:t.dispatcher??this.agent??void 0};return{url:s,fetchOptions:u}}clearHashSweeper(){clearInterval(this.hashTimer)}clearHandlerSweeper(){clearInterval(this.handlerTimer)}static generateRouteData(t,i){if(t.startsWith("/interactions/")&&t.endsWith("/callback"))return{majorParameter:Mc,bucketRoute:"/interactions/:id/:token/callback",original:t};const r=/(?:^\/webhooks\/(\d{17,19}\/[^/?]+))|(?:^\/(?:channels|guilds|webhooks)\/(\d{17,19}))/.exec(t),a=(r==null?void 0:r[2])??(r==null?void 0:r[1])??"global",s=t.replaceAll(/\d{17,19}/g,":id").replace(/\/reactions\/(.*)/,"/reactions/:reaction").replace(/\/webhooks\/:id\/[^/?]+/,"/webhooks/:id/:token");let o="";if(i==="DELETE"&&s==="/channels/:id/messages/:id"){const l=/\d{17,19}$/.exec(t)[0],c=vb.timestampFrom(l);Date.now()-c>1e3*60*60*24*14&&(o+="/Delete Old Message")}return{majorParameter:a,bucketRoute:s+o,original:t}}},Ct=new WeakMap,W(Ye,"REST"),Ye);Ac(fetch);var Fc={};function xe(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Nb=xe;xe.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},xe.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},xe.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},t),this._options.unref&&this._timer.unref(),!0},xe.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},xe.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},xe.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},xe.prototype.start=xe.prototype.try,xe.prototype.errors=function(){return this._errors},xe.prototype.attempts=function(){return this._attempts},xe.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,t=0,i=0;i<this._errors.length;i++){var r=this._errors[i],a=r.message,s=(e[a]||0)+1;e[a]=s,s>=t&&(n=r,t=s)}return n},function(e){var n=Nb;e.operation=function(t){var i=e.timeouts(t);return new n(i,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var i={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in t)i[r]=t[r];if(i.minTimeout>i.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<i.retries;s++)a.push(this.createTimeout(s,i));return t&&t.forever&&!a.length&&a.push(this.createTimeout(s,i)),a.sort(function(o,l){return o-l}),a},e.createTimeout=function(t,i){var r=i.randomize?Math.random()+1:1,a=Math.round(r*Math.max(i.minTimeout,1)*Math.pow(i.factor,t));return a=Math.min(a,i.maxTimeout),a},e.wrap=function(t,i,r){if(i instanceof Array&&(r=i,i=null),!r){r=[];for(var a in t)typeof t[a]=="function"&&r.push(a)}for(var s=0;s<r.length;s++){var o=r[s],l=t[o];t[o]=(function(u){var d=e.operation(i),m=Array.prototype.slice.call(arguments,1),p=m.pop();m.push(function(h){d.retry(h)||(h&&(arguments[0]=d.mainError()),p.apply(this,arguments))}),d.attempt(function(){u.apply(t,m)})}).bind(t,l),t[o].options=i}}}(Fc);var Bb=Fc;const jb=X(Bb),Vb=Object.prototype.toString,Gb=e=>Vb.call(e)==="[object Error]",Hb=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function qb(e){return e&&Gb(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:Hb.has(e.message):!1}class ei extends Error{constructor(n){super(),n instanceof Error?(this.originalError=n,{message:n}=n):(this.originalError=new Error(n),this.originalError.stack=this.stack),this.name="AbortError",this.message=n}}const Nc=(e,n,t)=>{const i=t.retries-(n-1);return e.attemptNumber=n,e.retriesLeft=i,e};async function Wb(e,n){return new Promise((t,i)=>{n={onFailedAttempt(){},retries:10,shouldRetry:()=>!0,...n};const r=jb.operation(n),a=()=>{var o;r.stop(),i((o=n.signal)==null?void 0:o.reason)};n.signal&&!n.signal.aborted&&n.signal.addEventListener("abort",a,{once:!0});const s=()=>{var o;(o=n.signal)==null||o.removeEventListener("abort",a),r.stop()};r.attempt(async o=>{try{const l=await e(o);s(),t(l)}catch(l){try{if(!(l instanceof Error))throw new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`);if(l instanceof ei)throw l.originalError;if(l instanceof TypeError&&!qb(l))throw l;if(Nc(l,o,n),await n.shouldRetry(l)||(r.stop(),i(l)),await n.onFailedAttempt(l),!r.retry(l))throw r.mainError()}catch(c){Nc(c,o,n),s(),i(c)}}})})}const Bc=`https://${_i}`;class zb{constructor(n){$(this,"log",kt.extend("OAuthManager"));$(this,"clientId","503557087041683458");$(this,"redirectUri","https://login.premid.app");$(this,"refreshAlarm");$(this,"rest",new Fb({authPrefix:"Bearer",version:"10"}));this.pmd=n,Bt.watch(t=>{t&&this.setDiscordUser(t),Ci()}),this.init()}async openOAuth2Window(){const n=jc(32),{codeVerifier:t,codeChallenge:i}=await Xb(),r=new URL("https://discord.com/oauth2/authorize");await ue.setValue({state:n,verifier:t}),r.searchParams.set("client_id",this.clientId),r.searchParams.set("redirect_uri",this.redirectUri),r.searchParams.set("response_type","code"),r.searchParams.set("scope","identify activities.write"),r.searchParams.set("state",n),r.searchParams.set("code_challenge",i),r.searchParams.set("code_challenge_method","S256"),await A.tabs.create({url:r.toString()}),this.log("Opened OAuth2 window")}async init(){var i,r;const n=await ue.getValue(),t=await nt();n&&"token"in n&&(this.rest=this.rest.setToken(n.token),(i=this.pmd.websocketManager)==null||i.send({type:"token",token:n.token,expires:n.expires}),(r=this.pmd.sessionKeepAlive)==null||r.setToken(n.token),t&&this.createRefreshTokenAlarm()),t&&(le.watch((a,s)=>{(s==null?void 0:s.usePlayingStatus)!==(a==null?void 0:a.usePlayingStatus)&&this.createHeadlessSession()}),A.tabs.onUpdated.addListener(async(a,s,o)=>{var h,v;if(s.status!=="complete"||!((h=o.url)!=null&&h.startsWith("https://login.premid.app")))return;await A.tabs.remove(a).catch(()=>{});const{searchParams:l}=new URL(((v=o.url)==null?void 0:v.toString())??""),c=l.get("code"),u=l.get("state"),d=l.get("error"),m=l.get("error_description");if(d){this.log(d,m);return}if(!c||!u)return this.log("No code or state");const p=await ue.getValue();if(!p)return this.log("No oauth2");if(!("state"in p))return this.log("No state in oauth2");if(u!==p.state)return this.log("State doesn't match");this.getAuthorizationCode(c)}),await Promise.allSettled([this.deleteHeadlessSession(),this.fetchUser()]),A.alarms.onAlarm.addListener(async a=>{a.name==="headlessSessionRefresh"&&(this.log("Refreshing headless session due to expiration"),await this.createHeadlessSession()),a.name==="requestRefreshToken"&&(this.log("Requesting refresh token"),await this.refreshToken())}),this.log("Initialized"))}async getAuthorizationCode(n){var a,s;const t=await ue.getValue();if(!t||!("verifier"in t))return this.log("No verifier in oauth2");const i=await fetch("https://discord.com/api/oauth2/token",{body:new URLSearchParams({client_id:this.clientId,code:n,code_verifier:t.verifier,grant_type:"authorization_code",redirect_uri:this.redirectUri}),method:"POST"});if(!i.ok)return this.openOAuth2Window();const r=await i.json();this.rest=this.rest.setToken(r.access_token),(a=this.pmd.websocketManager)==null||a.send({type:"token",token:r.access_token,expires:Date.now()+r.expires_in*1e3}),(s=this.pmd.sessionKeepAlive)==null||s.setToken(r.access_token),await ue.setValue({expires:Date.now()+r.expires_in*1e3,refreshToken:r.refresh_token,scope:r.scope,token:r.access_token}),await this.fetchUser(),this.log("Got authorization code")}async createHeadlessSession(){var l,c,u,d,m;if(!this.pmd.tabPriority)return this.log("Not in background");this.refreshAlarm||(A.alarms.create("headlessSessionRefresh",{delayInMinutes:15}),this.refreshAlarm=await A.alarms.get("headlessSessionRefresh"));const n=await ue.getValue();if(!n||!("token"in n))return this.log("No token in oauth2");const{usePlayingStatus:t}=await le.getValue(),i=(l=this.pmd.tabPriority.activityManager.currentPresence)==null?void 0:l.presenceData,r=(i==null?void 0:i.largeImageKey)||(i==null?void 0:i.smallImageKey)||(i==null?void 0:i.smallImageText),a=t?0:(i==null?void 0:i.type)??0,s={application_id:((c=this.pmd.tabPriority.activityManager.currentPresence)==null?void 0:c.clientId)??this.clientId,name:(i==null?void 0:i.name)??((u=this.pmd.tabPriority.currentTabPresence)==null?void 0:u.service),platform:"desktop",type:a};i!=null&&i.details&&(s.details=i.details),i!=null&&i.state&&(s.state=i.state),r&&(s.assets={}),i!=null&&i.largeImageText&&(s.assets.large_text=i.largeImageText),i!=null&&i.largeImageKey&&(s.assets.large_image=i.largeImageKey),i!=null&&i.smallImageKey&&(s.assets.small_image=i.smallImageKey),i!=null&&i.smallImageText&&(s.assets.small_text=i.smallImageText),(i!=null&&i.startTimestamp||i!=null&&i.endTimestamp)&&(s.timestamps={}),i!=null&&i.startTimestamp&&(s.timestamps.start=typeof i.startTimestamp=="number"?i.startTimestamp:i.startTimestamp.getTime()),i!=null&&i.endTimestamp&&(s.timestamps.end=typeof i.endTimestamp=="number"?i.endTimestamp:i.endTimestamp.getTime()),i!=null&&i.buttons&&(s.buttons=i.buttons);const o=await Nt.getValue();try{const p=await this.rest.post("/users/@me/headless-sessions",{body:{...(o==null?void 0:o.token)&&{token:o.token},activities:[s]}});await Nt.setValue({expires:Date.now()+12e5,token:p.token}),(d=this.pmd.websocketManager)==null||d.send({type:"session",token:p.token}),(m=this.pmd.sessionKeepAlive)==null||m.setSession(p.token)}catch(p){typeof p=="object"&&p&&!Array.isArray(p)&&"code"in p&&p.code===Zl.InvalidToken&&Nt.removeValue()}}async deleteHeadlessSession(){await A.alarms.clear("headlessSessionRefresh"),this.refreshAlarm=void 0;const n=await ue.getValue(),t=await Nt.getValue();if(!(!n||!("token"in n)||!(t!=null&&t.token))){try{await this.rest.post("/users/@me/headless-sessions/delete",{body:{token:t.token}})}finally{await Nt.removeValue()}this.log("Deleted headless session")}}async fetchUser(){const n=await ue.getValue();if(!(!n||!("token"in n)))try{const t=await this.rest.get(Jl.user());return this.setDiscordUser(t),this.log("Fetched user %s",t.global_name),t}catch(t){t instanceof Uc&&t.status===401&&(this.log("Token expired"),await this.refreshToken())}}async refreshToken(){const n=await ue.getValue();if(!(!n||!("refreshToken"in n)))try{await Wb(async()=>{var s,o;const t=new URLSearchParams;t.append("refresh_token",n.refreshToken);const i=await fetch(`${Bc}/oauth2/refreshtoken?${t.toString()}`,{method:"POST"}),r=await i.json();if("error"in r)throw this.log("Error refreshing token",r.error),i.status===400&&this.pmd.oAuthManager.logout(),new ei("Error refreshing token");if(!("access_token"in r))throw new ei("No access token in response");this.rest=this.rest.setToken(r.access_token),(s=this.pmd.websocketManager)==null||s.send({type:"token",token:r.access_token,expires:Date.now()+r.expires_in*1e3}),(o=this.pmd.sessionKeepAlive)==null||o.setToken(r.access_token);const a=r;await ue.setValue({expires:Date.now()+r.expires_in*1e3,refreshToken:a.refresh_token,scope:a.scope,token:a.access_token}),this.createRefreshTokenAlarm(),this.log("Refreshed token")})}catch(t){t instanceof ei&&await this.logout()}}async createRefreshTokenAlarm(){const n=await ue.getValue();!n||!("token"in n)||A.alarms.create("requestRefreshToken",{delayInMinutes:Math.floor((n.expires-Date.now())/1e3/60)-15})}async logout(){await this.deleteHeadlessSession();const n=await ue.getValue();if(n&&"token"in n)try{const t=new URLSearchParams({token:n.token});await fetch(`${Bc}/oauth2/revoke?${t.toString()}`,{method:"POST"}),this.log("Revoked token")}catch(t){this.log("Error revoking token",t)}await ue.removeValue(),await Bt.removeValue(),A.alarms.clear("requestRefreshToken"),this.log("Logged out")}async setDiscordUser(n){if(await y0.setValue(!0),!n){await Bt.removeValue(),this.log("Removed discord user");return}await Bt.setValue(n),this.log("Updated discord user %s",n.global_name)}}function jc(e){let n="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*i));return n}async function Kb(e){const t=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",t);return Yb(i)}function Yb(e){const n=String.fromCodePoint(...new Uint8Array(e));return btoa(n).replace("+","-").replace("/","_").replace(/=+$/,"")}async function Xb(){const e=jc(128);return{codeChallenge:await Kb(e),codeVerifier:e}}function Qb(){this.__data__=[],this.size=0}var Zb=Qb;function Jb(e,n){return e===n||e!==e&&n!==n}var Jt=Jb,ey=Jt;function ty(e,n){for(var t=e.length;t--;)if(ey(e[t][0],n))return t;return-1}var ti=ty,ny=ti,iy=Array.prototype,ry=iy.splice;function ay(e){var n=this.__data__,t=ny(n,e);if(t<0)return!1;var i=n.length-1;return t==i?n.pop():ry.call(n,t,1),--this.size,!0}var sy=ay,oy=ti;function ly(e){var n=this.__data__,t=oy(n,e);return t<0?void 0:n[t][1]}var cy=ly,uy=ti;function dy(e){return uy(this.__data__,e)>-1}var hy=dy,fy=ti;function my(e,n){var t=this.__data__,i=fy(t,e);return i<0?(++this.size,t.push([e,n])):t[i][1]=n,this}var py=my,gy=Zb,vy=sy,xy=cy,by=hy,yy=py;function wt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}wt.prototype.clear=gy,wt.prototype.delete=vy,wt.prototype.get=xy,wt.prototype.has=by,wt.prototype.set=yy;var ni=wt,_y=ni;function $y(){this.__data__=new _y,this.size=0}var Iy=$y;function wy(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}var Ay=wy;function Ty(e){return this.__data__.get(e)}var Py=Ty;function My(e){return this.__data__.has(e)}var Dy=My,ky=Be,Ly=ky(Object,"create"),ii=Ly,Vc=ii;function Ey(){this.__data__=Vc?Vc(null):{},this.size=0}var Oy=Ey;function Ry(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var Cy=Ry,Sy=ii,Uy="__lodash_hash_undefined__",Fy=Object.prototype,Ny=Fy.hasOwnProperty;function By(e){var n=this.__data__;if(Sy){var t=n[e];return t===Uy?void 0:t}return Ny.call(n,e)?n[e]:void 0}var jy=By,Vy=ii,Gy=Object.prototype,Hy=Gy.hasOwnProperty;function qy(e){var n=this.__data__;return Vy?n[e]!==void 0:Hy.call(n,e)}var Wy=qy,zy=ii,Ky="__lodash_hash_undefined__";function Yy(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=zy&&n===void 0?Ky:n,this}var Xy=Yy,Qy=Oy,Zy=Cy,Jy=jy,e_=Wy,t_=Xy;function At(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}At.prototype.clear=Qy,At.prototype.delete=Zy,At.prototype.get=Jy,At.prototype.has=e_,At.prototype.set=t_;var n_=At,Gc=n_,i_=ni,r_=Ii;function a_(){this.size=0,this.__data__={hash:new Gc,map:new(r_||i_),string:new Gc}}var s_=a_;function o_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}var l_=o_,c_=l_;function u_(e,n){var t=e.__data__;return c_(n)?t[typeof n=="string"?"string":"hash"]:t.map}var ri=u_,d_=ri;function h_(e){var n=d_(this,e).delete(e);return this.size-=n?1:0,n}var f_=h_,m_=ri;function p_(e){return m_(this,e).get(e)}var g_=p_,v_=ri;function x_(e){return v_(this,e).has(e)}var b_=x_,y_=ri;function __(e,n){var t=y_(this,e),i=t.size;return t.set(e,n),this.size+=t.size==i?0:1,this}var $_=__,I_=s_,w_=f_,A_=g_,T_=b_,P_=$_;function Tt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var i=e[n];this.set(i[0],i[1])}}Tt.prototype.clear=I_,Tt.prototype.delete=w_,Tt.prototype.get=A_,Tt.prototype.has=T_,Tt.prototype.set=P_;var Mr=Tt,M_=ni,D_=Ii,k_=Mr,L_=200;function E_(e,n){var t=this.__data__;if(t instanceof M_){var i=t.__data__;if(!D_||i.length<L_-1)return i.push([e,n]),this.size=++t.size,this;t=this.__data__=new k_(i)}return t.set(e,n),this.size=t.size,this}var O_=E_,R_=ni,C_=Iy,S_=Ay,U_=Py,F_=Dy,N_=O_;function Pt(e){var n=this.__data__=new R_(e);this.size=n.size}Pt.prototype.clear=C_,Pt.prototype.delete=S_,Pt.prototype.get=U_,Pt.prototype.has=F_,Pt.prototype.set=N_;var Dr=Pt;function B_(e,n){for(var t=-1,i=e==null?0:e.length;++t<i&&n(e[t],t,e)!==!1;);return e}var j_=B_,V_=Be,G_=function(){try{var e=V_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Hc=G_,qc=Hc;function H_(e,n,t){n=="__proto__"&&qc?qc(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}var kr=H_,q_=kr,W_=Jt,z_=Object.prototype,K_=z_.hasOwnProperty;function Y_(e,n,t){var i=e[n];(!(K_.call(e,n)&&W_(i,t))||t===void 0&&!(n in e))&&q_(e,n,t)}var Lr=Y_,X_=Lr,Q_=kr;function Z_(e,n,t,i){var r=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var o=n[a],l=i?i(t[o],e[o],o,t,e):void 0;l===void 0&&(l=e[o]),r?Q_(t,o,l):X_(t,o,l)}return t}var en=Z_;function J_(e,n){for(var t=-1,i=Array(e);++t<e;)i[t]=n(t);return i}var e1=J_,t1=9007199254740991,n1=/^(?:0|[1-9]\d*)$/;function i1(e,n){var t=typeof e;return n=n??t1,!!n&&(t=="number"||t!="symbol"&&n1.test(e))&&e>-1&&e%1==0&&e<n}var ai=i1,r1=e1,a1=ln,s1=pe,o1=un,l1=ai,c1=Li,u1=Object.prototype,d1=u1.hasOwnProperty;function h1(e,n){var t=s1(e),i=!t&&a1(e),r=!t&&!i&&o1(e),a=!t&&!i&&!r&&c1(e),s=t||i||r||a,o=s?r1(e.length,String):[],l=o.length;for(var c in e)(n||d1.call(e,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||l1(c,l)))&&o.push(c);return o}var Wc=h1,f1=Wc,m1=ua,p1=rt;function g1(e){return p1(e)?f1(e):m1(e)}var tn=g1,v1=en,x1=tn;function b1(e,n){return e&&v1(n,x1(n),e)}var y1=b1;function _1(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var $1=_1,I1=Oe,w1=on,A1=$1,T1=Object.prototype,P1=T1.hasOwnProperty;function M1(e){if(!I1(e))return A1(e);var n=w1(e),t=[];for(var i in e)i=="constructor"&&(n||!P1.call(e,i))||t.push(i);return t}var D1=M1,k1=Wc,L1=D1,E1=rt;function O1(e){return E1(e)?k1(e,!0):L1(e)}var si=O1,R1=en,C1=si;function S1(e,n){return e&&R1(n,C1(n),e)}var U1=S1,oi={exports:{}};oi.exports,function(e,n){var t=Ie,i=n&&!n.nodeType&&n,r=i&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===i,s=a?t.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,m=o?o(d):new c.constructor(d);return c.copy(m),m}e.exports=l}(oi,oi.exports);var F1=oi.exports;function N1(e,n){var t=-1,i=e.length;for(n||(n=Array(i));++t<i;)n[t]=e[t];return n}var B1=N1;function j1(e,n){for(var t=-1,i=e==null?0:e.length,r=0,a=[];++t<i;){var s=e[t];n(s,t,e)&&(a[r++]=s)}return a}var V1=j1;function G1(){return[]}var zc=G1,H1=V1,q1=zc,W1=Object.prototype,z1=W1.propertyIsEnumerable,Kc=Object.getOwnPropertySymbols,K1=Kc?function(e){return e==null?[]:(e=Object(e),H1(Kc(e),function(n){return z1.call(e,n)}))}:q1,Er=K1,Y1=en,X1=Er;function Q1(e,n){return Y1(e,X1(e),n)}var Z1=Q1;function J1(e,n){for(var t=-1,i=n.length,r=e.length;++t<i;)e[r+t]=n[t];return e}var Or=J1,e$=ca,t$=e$(Object.getPrototypeOf,Object),Rr=t$,n$=Or,i$=Rr,r$=Er,a$=zc,s$=Object.getOwnPropertySymbols,o$=s$?function(e){for(var n=[];e;)n$(n,r$(e)),e=i$(e);return n}:a$,Yc=o$,l$=en,c$=Yc;function u$(e,n){return l$(e,c$(e),n)}var d$=u$,h$=Or,f$=pe;function m$(e,n,t){var i=n(e);return f$(e)?i:h$(i,t(e))}var Xc=m$,p$=Xc,g$=Er,v$=tn;function x$(e){return p$(e,v$,g$)}var Qc=x$,b$=Xc,y$=Yc,_$=si;function $$(e){return b$(e,_$,y$)}var Cr=$$,I$=Object.prototype,w$=I$.hasOwnProperty;function A$(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&w$.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var T$=A$,P$=Ie,M$=P$.Uint8Array,Zc=M$,Jc=Zc;function D$(e){var n=new e.constructor(e.byteLength);return new Jc(n).set(new Jc(e)),n}var Sr=D$,k$=Sr;function L$(e,n){var t=n?k$(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var E$=L$,O$=/\w*$/;function R$(e){var n=new e.constructor(e.source,O$.exec(e));return n.lastIndex=e.lastIndex,n}var C$=R$,eu=et,tu=eu?eu.prototype:void 0,nu=tu?tu.valueOf:void 0;function S$(e){return nu?Object(nu.call(e)):{}}var U$=S$,F$=Sr;function N$(e,n){var t=n?F$(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var B$=N$,j$=Sr,V$=E$,G$=C$,H$=U$,q$=B$,W$="[object Boolean]",z$="[object Date]",K$="[object Map]",Y$="[object Number]",X$="[object RegExp]",Q$="[object Set]",Z$="[object String]",J$="[object Symbol]",eI="[object ArrayBuffer]",tI="[object DataView]",nI="[object Float32Array]",iI="[object Float64Array]",rI="[object Int8Array]",aI="[object Int16Array]",sI="[object Int32Array]",oI="[object Uint8Array]",lI="[object Uint8ClampedArray]",cI="[object Uint16Array]",uI="[object Uint32Array]";function dI(e,n,t){var i=e.constructor;switch(n){case eI:return j$(e);case W$:case z$:return new i(+e);case tI:return V$(e,t);case nI:case iI:case rI:case aI:case sI:case oI:case lI:case cI:case uI:return q$(e,t);case K$:return new i;case Y$:case Z$:return new i(e);case X$:return G$(e);case Q$:return new i;case J$:return H$(e)}}var hI=dI,fI=Oe,iu=Object.create,mI=function(){function e(){}return function(n){if(!fI(n))return{};if(iu)return iu(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}(),pI=mI,gI=pI,vI=Rr,xI=on;function bI(e){return typeof e.constructor=="function"&&!xI(e)?gI(vI(e)):{}}var yI=bI,_I=Ft,$I=Me,II="[object Map]";function wI(e){return $I(e)&&_I(e)==II}var AI=wI,TI=AI,PI=dn,ru=ki,au=ru&&ru.isMap,MI=au?PI(au):TI,DI=MI,kI=Ft,LI=Me,EI="[object Set]";function OI(e){return LI(e)&&kI(e)==EI}var RI=OI,CI=RI,SI=dn,su=ki,ou=su&&su.isSet,UI=ou?SI(ou):CI,FI=UI,NI=Dr,BI=j_,jI=Lr,VI=y1,GI=U1,HI=F1,qI=B1,WI=Z1,zI=d$,KI=Qc,YI=Cr,XI=Ft,QI=T$,ZI=hI,JI=yI,ew=pe,tw=un,nw=DI,iw=Oe,rw=FI,aw=tn,sw=si,ow=1,lw=2,cw=4,lu="[object Arguments]",uw="[object Array]",dw="[object Boolean]",hw="[object Date]",fw="[object Error]",cu="[object Function]",mw="[object GeneratorFunction]",pw="[object Map]",gw="[object Number]",uu="[object Object]",vw="[object RegExp]",xw="[object Set]",bw="[object String]",yw="[object Symbol]",_w="[object WeakMap]",$w="[object ArrayBuffer]",Iw="[object DataView]",ww="[object Float32Array]",Aw="[object Float64Array]",Tw="[object Int8Array]",Pw="[object Int16Array]",Mw="[object Int32Array]",Dw="[object Uint8Array]",kw="[object Uint8ClampedArray]",Lw="[object Uint16Array]",Ew="[object Uint32Array]",z={};z[lu]=z[uw]=z[$w]=z[Iw]=z[dw]=z[hw]=z[ww]=z[Aw]=z[Tw]=z[Pw]=z[Mw]=z[pw]=z[gw]=z[uu]=z[vw]=z[xw]=z[bw]=z[yw]=z[Dw]=z[kw]=z[Lw]=z[Ew]=!0,z[fw]=z[cu]=z[_w]=!1;function li(e,n,t,i,r,a){var s,o=n&ow,l=n&lw,c=n&cw;if(t&&(s=r?t(e,i,r,a):t(e)),s!==void 0)return s;if(!iw(e))return e;var u=ew(e);if(u){if(s=QI(e),!o)return qI(e,s)}else{var d=XI(e),m=d==cu||d==mw;if(tw(e))return HI(e,o);if(d==uu||d==lu||m&&!r){if(s=l||m?{}:JI(e),!o)return l?zI(e,GI(s,e)):WI(e,VI(s,e))}else{if(!z[d])return r?e:{};s=ZI(e,d,o)}}a||(a=new NI);var p=a.get(e);if(p)return p;a.set(e,s),rw(e)?e.forEach(function(g){s.add(li(g,n,t,g,e,a))}):nw(e)&&e.forEach(function(g,x){s.set(x,li(g,n,t,x,e,a))});var h=c?l?YI:KI:l?sw:aw,v=u?void 0:h(e);return BI(v||e,function(g,x){v&&(x=g,g=e[x]),jI(s,x,li(g,n,t,x,e,a))}),s}var du=li,Ow=du,Rw=1,Cw=4;function Sw(e){return Ow(e,Rw|Cw)}var Uw=Sw;const Fw=X(Uw);function Nw(e){return e}var Ur=Nw;function Bw(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}var jw=Bw,Vw=jw,hu=Math.max;function Gw(e,n,t){return n=hu(n===void 0?e.length-1:n,0),function(){for(var i=arguments,r=-1,a=hu(i.length-n,0),s=Array(a);++r<a;)s[r]=i[n+r];r=-1;for(var o=Array(n+1);++r<n;)o[r]=i[r];return o[n]=t(s),Vw(e,this,o)}}var fu=Gw;function Hw(e){return function(){return e}}var qw=Hw,Ww=qw,mu=Hc,zw=Ur,Kw=mu?function(e,n){return mu(e,"toString",{configurable:!0,enumerable:!1,value:Ww(n),writable:!0})}:zw,Yw=Kw,Xw=800,Qw=16,Zw=Date.now;function Jw(e){var n=0,t=0;return function(){var i=Zw(),r=Qw-(i-t);if(t=i,r>0){if(++n>=Xw)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}var eA=Jw,tA=Yw,nA=eA,iA=nA(tA),pu=iA,rA=Ur,aA=fu,sA=pu;function oA(e,n){return sA(aA(e,n,rA),e+"")}var gu=oA,lA=Jt,cA=rt,uA=ai,dA=Oe;function hA(e,n,t){if(!dA(t))return!1;var i=typeof n;return(i=="number"?cA(t)&&uA(n,t.length):i=="string"&&n in t)?lA(t[n],e):!1}var fA=hA,mA=gu,pA=Jt,gA=fA,vA=si,vu=Object.prototype,xA=vu.hasOwnProperty,bA=mA(function(e,n){e=Object(e);var t=-1,i=n.length,r=i>2?n[2]:void 0;for(r&&gA(n[0],n[1],r)&&(i=1);++t<i;)for(var a=n[t],s=vA(a),o=-1,l=s.length;++o<l;){var c=s[o],u=e[c];(u===void 0||pA(u,vu[c])&&!xA.call(e,c))&&(e[c]=a[c])}return e}),yA=bA;const _A=X(yA);var $A="__lodash_hash_undefined__";function IA(e){return this.__data__.set(e,$A),this}var wA=IA;function AA(e){return this.__data__.has(e)}var TA=AA,PA=Mr,MA=wA,DA=TA;function ci(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new PA;++n<t;)this.add(e[n])}ci.prototype.add=ci.prototype.push=MA,ci.prototype.has=DA;var xu=ci;function kA(e,n){for(var t=-1,i=e==null?0:e.length;++t<i;)if(n(e[t],t,e))return!0;return!1}var LA=kA;function EA(e,n){return e.has(n)}var bu=EA,OA=xu,RA=LA,CA=bu,SA=1,UA=2;function FA(e,n,t,i,r,a){var s=t&SA,o=e.length,l=n.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),u=a.get(n);if(c&&u)return c==n&&u==e;var d=-1,m=!0,p=t&UA?new OA:void 0;for(a.set(e,n),a.set(n,e);++d<o;){var h=e[d],v=n[d];if(i)var g=s?i(v,h,d,n,e,a):i(h,v,d,e,n,a);if(g!==void 0){if(g)continue;m=!1;break}if(p){if(!RA(n,function(x,P){if(!CA(p,P)&&(h===x||r(h,x,t,i,a)))return p.push(P)})){m=!1;break}}else if(!(h===v||r(h,v,t,i,a))){m=!1;break}}return a.delete(e),a.delete(n),m}var yu=FA;function NA(e){var n=-1,t=Array(e.size);return e.forEach(function(i,r){t[++n]=[r,i]}),t}var BA=NA;function jA(e){var n=-1,t=Array(e.size);return e.forEach(function(i){t[++n]=i}),t}var VA=jA,_u=et,$u=Zc,GA=Jt,HA=yu,qA=BA,WA=VA,zA=1,KA=2,YA="[object Boolean]",XA="[object Date]",QA="[object Error]",ZA="[object Map]",JA="[object Number]",eT="[object RegExp]",tT="[object Set]",nT="[object String]",iT="[object Symbol]",rT="[object ArrayBuffer]",aT="[object DataView]",Iu=_u?_u.prototype:void 0,Fr=Iu?Iu.valueOf:void 0;function sT(e,n,t,i,r,a,s){switch(t){case aT:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case rT:return!(e.byteLength!=n.byteLength||!a(new $u(e),new $u(n)));case YA:case XA:case JA:return GA(+e,+n);case QA:return e.name==n.name&&e.message==n.message;case eT:case nT:return e==n+"";case ZA:var o=qA;case tT:var l=i&zA;if(o||(o=WA),e.size!=n.size&&!l)return!1;var c=s.get(e);if(c)return c==n;i|=KA,s.set(e,n);var u=HA(o(e),o(n),i,r,a,s);return s.delete(e),u;case iT:if(Fr)return Fr.call(e)==Fr.call(n)}return!1}var oT=sT,wu=Qc,lT=1,cT=Object.prototype,uT=cT.hasOwnProperty;function dT(e,n,t,i,r,a){var s=t&lT,o=wu(e),l=o.length,c=wu(n),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var m=o[d];if(!(s?m in n:uT.call(n,m)))return!1}var p=a.get(e),h=a.get(n);if(p&&h)return p==n&&h==e;var v=!0;a.set(e,n),a.set(n,e);for(var g=s;++d<l;){m=o[d];var x=e[m],P=n[m];if(i)var _=s?i(P,x,m,n,e,a):i(x,P,m,e,n,a);if(!(_===void 0?x===P||r(x,P,t,i,a):_)){v=!1;break}g||(g=m=="constructor")}if(v&&!g){var S=e.constructor,E=n.constructor;S!=E&&"constructor"in e&&"constructor"in n&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(v=!1)}return a.delete(e),a.delete(n),v}var hT=dT,Nr=Dr,fT=yu,mT=oT,pT=hT,Au=Ft,Tu=pe,Pu=un,gT=Li,vT=1,Mu="[object Arguments]",Du="[object Array]",ui="[object Object]",xT=Object.prototype,ku=xT.hasOwnProperty;function bT(e,n,t,i,r,a){var s=Tu(e),o=Tu(n),l=s?Du:Au(e),c=o?Du:Au(n);l=l==Mu?ui:l,c=c==Mu?ui:c;var u=l==ui,d=c==ui,m=l==c;if(m&&Pu(e)){if(!Pu(n))return!1;s=!0,u=!1}if(m&&!u)return a||(a=new Nr),s||gT(e)?fT(e,n,t,i,r,a):mT(e,n,l,t,i,r,a);if(!(t&vT)){var p=u&&ku.call(e,"__wrapped__"),h=d&&ku.call(n,"__wrapped__");if(p||h){var v=p?e.value():e,g=h?n.value():n;return a||(a=new Nr),r(v,g,t,i,a)}}return m?(a||(a=new Nr),pT(e,n,t,i,r,a)):!1}var yT=bT,_T=yT,Lu=Me;function Eu(e,n,t,i,r){return e===n?!0:e==null||n==null||!Lu(e)&&!Lu(n)?e!==e&&n!==n:_T(e,n,t,i,Eu,r)}var Br=Eu,$T=Br;function IT(e,n){return $T(e,n)}var wT=IT;const Ou=X(wT);function AT(e){return e==null}var TT=AT;const di=X(TT);function PT(e,n,t,i){for(var r=-1,a=e==null?0:e.length;++r<a;){var s=e[r];n(i,s,t(s),e)}return i}var MT=PT;function DT(e){return function(n,t,i){for(var r=-1,a=Object(n),s=i(n),o=s.length;o--;){var l=s[e?o:++r];if(t(a[l],l,a)===!1)break}return n}}var kT=DT,LT=kT,ET=LT(),OT=ET,RT=OT,CT=tn;function ST(e,n){return e&&RT(e,n,CT)}var UT=ST,FT=rt;function NT(e,n){return function(t,i){if(t==null)return t;if(!FT(t))return e(t,i);for(var r=t.length,a=n?r:-1,s=Object(t);(n?a--:++a<r)&&i(s[a],a,s)!==!1;);return t}}var BT=NT,jT=UT,VT=BT,GT=VT(jT),HT=GT,qT=HT;function WT(e,n,t,i){return qT(e,function(r,a,s){n(i,r,t(r),s)}),i}var zT=WT,KT=Dr,YT=Br,XT=1,QT=2;function ZT(e,n,t,i){var r=t.length,a=r,s=!i;if(e==null)return!a;for(e=Object(e);r--;){var o=t[r];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<a;){o=t[r];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new KT;if(i)var m=i(c,u,l,e,n,d);if(!(m===void 0?YT(u,c,XT|QT,i,d):m))return!1}}return!0}var JT=ZT,eP=Oe;function tP(e){return e===e&&!eP(e)}var Ru=tP,nP=Ru,iP=tn;function rP(e){for(var n=iP(e),t=n.length;t--;){var i=n[t],r=e[i];n[t]=[i,r,nP(r)]}return n}var aP=rP;function sP(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}var Cu=sP,oP=JT,lP=aP,cP=Cu;function uP(e){var n=lP(e);return n.length==1&&n[0][2]?cP(n[0][0],n[0][1]):function(t){return t===e||oP(t,e,n)}}var dP=uP,hP=pe,fP=yi,mP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pP=/^\w*$/;function gP(e,n){if(hP(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||fP(e)?!0:pP.test(e)||!mP.test(e)||n!=null&&e in Object(n)}var jr=gP,Su=Mr,vP="Expected a function";function Vr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(vP);var t=function(){var i=arguments,r=n?n.apply(this,i):i[0],a=t.cache;if(a.has(r))return a.get(r);var s=e.apply(this,i);return t.cache=a.set(r,s)||a,s};return t.cache=new(Vr.Cache||Su),t}Vr.Cache=Su;var xP=Vr,bP=xP,yP=500;function _P(e){var n=bP(e,function(i){return t.size===yP&&t.clear(),i}),t=n.cache;return n}var $P=_P,IP=$P,wP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AP=/\\(\\)?/g,TP=IP(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(wP,function(t,i,r,a){n.push(r?a.replace(AP,"$1"):i||t)}),n}),PP=TP,MP=pe,DP=jr,kP=PP,LP=la;function EP(e,n){return MP(e)?e:DP(e,n)?[e]:kP(LP(e))}var Mt=EP,OP=yi,RP=1/0;function CP(e){if(typeof e=="string"||OP(e))return e;var n=e+"";return n=="0"&&1/e==-RP?"-0":n}var Dt=CP,SP=Mt,UP=Dt;function FP(e,n){n=SP(n,e);for(var t=0,i=n.length;e!=null&&t<i;)e=e[UP(n[t++])];return t&&t==i?e:void 0}var hi=FP,NP=hi;function BP(e,n,t){var i=e==null?void 0:NP(e,n);return i===void 0?t:i}var jP=BP;function VP(e,n){return e!=null&&n in Object(e)}var GP=VP,HP=Mt,qP=ln,WP=pe,zP=ai,KP=Di,YP=Dt;function XP(e,n,t){n=HP(n,e);for(var i=-1,r=n.length,a=!1;++i<r;){var s=YP(n[i]);if(!(a=e!=null&&t(e,s)))break;e=e[s]}return a||++i!=r?a:(r=e==null?0:e.length,!!r&&KP(r)&&zP(s,r)&&(WP(e)||qP(e)))}var QP=XP,ZP=GP,JP=QP;function eM(e,n){return e!=null&&JP(e,n,ZP)}var tM=eM,nM=Br,iM=jP,rM=tM,aM=jr,sM=Ru,oM=Cu,lM=Dt,cM=1,uM=2;function dM(e,n){return aM(e)&&sM(n)?oM(lM(e),n):function(t){var i=iM(t,e);return i===void 0&&i===n?rM(t,e):nM(n,i,cM|uM)}}var hM=dM;function fM(e){return function(n){return n==null?void 0:n[e]}}var mM=fM,pM=hi;function gM(e){return function(n){return pM(n,e)}}var vM=gM,xM=mM,bM=vM,yM=jr,_M=Dt;function $M(e){return yM(e)?xM(_M(e)):bM(e)}var IM=$M,wM=dP,AM=hM,TM=Ur,PM=pe,MM=IM;function DM(e){return typeof e=="function"?e:e==null?TM:typeof e=="object"?PM(e)?AM(e[0],e[1]):wM(e):MM(e)}var Gr=DM,kM=MT,LM=zT,EM=Gr,OM=pe;function RM(e,n){return function(t,i){var r=OM(t)?kM:LM,a=n?n():{};return r(t,e,EM(i),a)}}var CM=RM,SM=kr,UM=CM,FM=UM(function(e,n,t){SM(e,t,n)}),NM=FM;const BM=X(NM);function jM(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}var VM=jM;function GM(e,n,t){var i=-1,r=e.length;n<0&&(n=-n>r?0:r+n),t=t>r?r:t,t<0&&(t+=r),r=n>t?0:t-n>>>0,n>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+n];return a}var HM=GM,qM=hi,WM=HM;function zM(e,n){return n.length<2?e:qM(e,WM(n,0,-1))}var KM=zM,YM=Mt,XM=VM,QM=KM,ZM=Dt;function JM(e,n){return n=YM(n,e),e=QM(e,n),e==null||delete e[ZM(XM(n))]}var eD=JM,tD=tt,nD=Rr,iD=Me,rD="[object Object]",aD=Function.prototype,sD=Object.prototype,Uu=aD.toString,oD=sD.hasOwnProperty,lD=Uu.call(Object);function cD(e){if(!iD(e)||tD(e)!=rD)return!1;var n=nD(e);if(n===null)return!0;var t=oD.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Uu.call(t)==lD}var uD=cD,dD=uD;function hD(e){return dD(e)?void 0:e}var fD=hD,Fu=et,mD=ln,pD=pe,Nu=Fu?Fu.isConcatSpreadable:void 0;function gD(e){return pD(e)||mD(e)||!!(Nu&&e&&e[Nu])}var vD=gD,xD=Or,bD=vD;function Bu(e,n,t,i,r){var a=-1,s=e.length;for(t||(t=bD),r||(r=[]);++a<s;){var o=e[a];n>0&&t(o)?n>1?Bu(o,n-1,t,i,r):xD(r,o):i||(r[r.length]=o)}return r}var ju=Bu,yD=ju;function _D(e){var n=e==null?0:e.length;return n?yD(e,1):[]}var $D=_D,ID=$D,wD=fu,AD=pu;function TD(e){return AD(wD(e,void 0,ID),e+"")}var PD=TD,MD=sn,DD=du,kD=eD,LD=Mt,ED=en,OD=fD,RD=PD,CD=Cr,SD=1,UD=2,FD=4,ND=RD(function(e,n){var t={};if(e==null)return t;var i=!1;n=MD(n,function(a){return a=LD(a,e),i||(i=a.length>1),a}),ED(e,CD(e),t),i&&(t=DD(t,SD|UD|FD,OD));for(var r=n.length;r--;)kD(t,n[r]);return t}),BD=ND;const Vu=X(BD);var jD="Expected a function";function VD(e){if(typeof e!="function")throw new TypeError(jD);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}var GD=VD,HD=Lr,qD=Mt,WD=ai,Gu=Oe,zD=Dt;function KD(e,n,t,i){if(!Gu(e))return e;n=qD(n,e);for(var r=-1,a=n.length,s=a-1,o=e;o!=null&&++r<a;){var l=zD(n[r]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(r!=s){var u=o[l];c=i?i(u,l,o):void 0,c===void 0&&(c=Gu(u)?u:WD(n[r+1])?[]:{})}HD(o,l,c),o=o[l]}return e}var YD=KD,XD=hi,QD=YD,ZD=Mt;function JD(e,n,t){for(var i=-1,r=n.length,a={};++i<r;){var s=n[i],o=XD(e,s);t(o,s)&&QD(a,ZD(s,e),o)}return a}var ek=JD,tk=sn,nk=Gr,ik=ek,rk=Cr;function ak(e,n){if(e==null)return{};var t=tk(rk(e),function(i){return[i]});return n=nk(n),ik(e,t,function(i,r){return n(i,r[0])})}var sk=ak,ok=Gr,lk=GD,ck=sk;function uk(e,n){return ck(e,lk(ok(n)))}var dk=uk;const fi=X(dk);class hk{constructor(n){$(this,"value");$(this,"next");this.value=n}}class fk{constructor(){me(this,be);me(this,Xe);me(this,Qe);this.clear()}enqueue(n){const t=new hk(n);j(this,be)?(j(this,Xe).next=t,ae(this,Xe,t)):(ae(this,be,t),ae(this,Xe,t)),Xr(this,Qe)._++}dequeue(){const n=j(this,be);if(n)return ae(this,be,j(this,be).next),Xr(this,Qe)._--,n.value}peek(){if(j(this,be))return j(this,be).value}clear(){ae(this,be,void 0),ae(this,Xe,void 0),ae(this,Qe,0)}get size(){return j(this,Qe)}*[Symbol.iterator](){let n=j(this,be);for(;n;)yield n.value,n=n.next}}be=new WeakMap,Xe=new WeakMap,Qe=new WeakMap;function mk(e){Hu(e);const n=new fk;let t=0;const i=()=>{t<e&&n.size>0&&(n.dequeue()(),t++)},r=()=>{t--,i()},a=async(l,c,u)=>{const d=(async()=>l(...u))();c(d);try{await d}catch{}r()},s=(l,c,u)=>{new Promise(d=>{n.enqueue(d)}).then(a.bind(void 0,l,c,u)),(async()=>(await Promise.resolve(),t<e&&i()))()},o=(l,...c)=>new Promise(u=>{s(l,u,c)});return Object.defineProperties(o,{activeCount:{get:()=>t},pendingCount:{get:()=>n.size},clearQueue:{value(){n.clear()}},concurrency:{get:()=>e,set(l){Hu(l),e=l,queueMicrotask(()=>{for(;t<e&&n.size>0;)i()})}}}),o}function Hu(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}class pk extends an{constructor(t,i){super();$(this,"log",kt.extend("PresenceManager"));$(this,"oldSettingsKey","");$(this,"oldSettings",{});$(this,"getSettingLimit",mk(1));this.languageManager=t,this.storageManager=i,this.storageManager.on("presenceSettingUpdate",async()=>{this.oldSettings={},this.oldSettingsKey=""})}async init(){await this.updatePresence();const t=await Ge.getValue();t&&await this.verifySettingsIntegrity(...t),t===null&&await this.add(...Fd)}async verifySettingsIntegrity(...t){const i=Object.values(await this.getLocalMetadata(...t)).filter(s=>s.settings);await this.languageManager.fetchPresenceAvailableLanguages(...i.filter(s=>{var o;return!!((o=s.settings)!=null&&o.some(l=>l.multiLanguage))}).map(s=>s.service));const r=[],a=await this.storageManager.get("local",...i.map(s=>`${s.service}_settings`));for(const s of i){let o=a[`${s.service}_settings`];const l=Fw(o);o=_A(o,BM(s.settings,c=>c.id));for(const[c,u]of Object.entries(o)){if(c==="lang"){o[c]=await this.initMultiLanguage(u,s.service);continue}const d=Vu(u,"value","hidden");if(s.settings&&!Ou(d,Vu(s.settings.find(m=>m.id===c),"value","hidden"))){const m=s.settings.find(p=>p.id===c);if(!m)continue;o[c]=m,this.log(`Updated outdated setting ${c} for presence ${s.service}`)}}for(const c of Object.keys(o))s.settings&&(s.settings.some(u=>u.id===c)||(delete o[c],this.log(`Removed old setting ${c} for presence ${s.service}`)));Ou(o,l)||(await this.storageManager.set("local",{[`${s.service}_settings`]:o}),r.push(s.service))}this.log("Saved settings for %o",r)}async getLocalMetadata(...t){return(await Promise.all(t.map(async r=>await fetch(A.runtime.getURL(`/presences/${r}/metadata.json`)).then(a=>a.json()).catch(()=>{this.log("Failed to fetch metadata for %s",r)})))).filter(r=>r!==void 0)}async add(...t){const i=await Ge.getValue(),r=await Ve.getValue();let a=await this.getLocalMetadata(...t);a=a.map(l=>(l=fi(l,di),l.settings&&(l.settings=l.settings.map(c=>(c=fi(c,di),c.if&&(c.if=fi(c.if,di),Object.keys(c.if).length===0&&delete c.if),c))),l=fi(l,di),l));const s=t.filter(l=>!a.some(c=>c.service===l));s.length>0&&this.log("Not found Presences: %o",s);const o=[...r||[],...a.filter(l=>!(i!=null&&i.includes(l.service))).map(l=>l.service)];this.storageManager.set("local",Object.assign({addedPresences:[...new Set([...i||[],...a.map(l=>l.service)])],enabledPresences:o},...a.map(l=>({[`presence_${l.service}`]:{...l},[`${l.service}_changedLanguage`]:!1})))),await this.verifySettingsIntegrity(...a.map(l=>l.service))}async remove(t){const i=await this.storageManager.get("local",`presence_${t}`);let r=await Ve.getValue(),a=await Ge.getValue();if(!a)return;a=a.filter(o=>o!==t),r=r==null?void 0:r.filter(o=>o!==t),await Ve.setValue(r),await Ge.setValue(a),await _0(t);const s=i[`presence_${t}`];s&&this.emit("remove",s)}async setEnabled(t,i){const r=await Ve.getValue(),a=await Ge.getValue();let s=r;if(!(a!=null&&a.includes(t)))return this.log("Presence not added");s||(s=[]),i?s.includes(t)||s.push(t):s=s.filter(o=>o!==t),await Ve.setValue(s)}async updatePresence(...t){this.log("Checking for updates...");const i=await this.get(...t);if(i.length===0||Date.now()>0)return this.log("No presences to update");const r=await this.getLocalMetadata(...t),a=i.filter(s=>{var l;const o=(l=r==null?void 0:r.find(c=>c.service===s.service))==null?void 0:l.version;return An.valid(o)&&An.valid(s.version)?An.gt(o||"",s.version):!0});if(a.length===0)return this.log("No presences to update");await this.add(...a.map(s=>s.service)),this.log("Updated: %o",a.map(s=>s.service))}async get(...t){const i=await Ge.getValue(),r=await this.storageManager.get("local",...(t.length>0?t:i||[]).map(o=>`presence_${o}`)),a=Object.values(r),s=await Ve.getValue();return a.map(o=>({...o,enabled:s.includes(o.service)}))}async getFullSettingsObject(t){const i=await this.storageManager.get("local",`${t}_settings`);return i==null?void 0:i[`${t}_settings`]}async getSettingObject(t,i){var a;const r=await this.storageManager.get("local",`${t}_settings`);return(a=r==null?void 0:r[`${t}_settings`])==null?void 0:a[i]}async hideSetting(t,i){const r=await this.storageManager.get("local",`${t}_settings`),a=r==null?void 0:r[`${t}_settings`];if(a){if(Array.isArray(i))for(const s of i){const o=a[s];o&&(o.hidden=!0)}else{const s=a[i];s&&(s.hidden=!0)}await this.storageManager.set("local",{[`${t}_settings`]:a})}}async showSetting(t,i){const r=await this.storageManager.get("local",`${t}_settings`),a=r==null?void 0:r[`${t}_settings`];if(a){if(Array.isArray(i))for(const s of i){const o=a[s];o&&(o.hidden=!1)}else{const s=a[i];s&&delete s.hidden}await this.storageManager.set("local",{[`${t}_settings`]:a})}}async getSetting(t,i){return this.getSettingLimit(async()=>{var r,a;if(this.oldSettingsKey!==t){const s=await this.storageManager.get("local",`${t}_settings`);this.oldSettings=(s==null?void 0:s[`${t}_settings`])||{}}return this.oldSettingsKey=t,(a=(r=this.oldSettings)==null?void 0:r[i])==null?void 0:a.value})}async setSetting(t,i,r){const a=await this.storageManager.get("local",`${t}_settings`),s=a==null?void 0:a[`${t}_settings`];if(s){if(s[i]===void 0)throw new Error("Setting not found");return s[i].value=r,await this.storageManager.set("local",{[`${t}_settings`]:s}),i==="lang"&&await this.languageManager.fetchPresenceStrings(t),r}}async initMultiLanguage(t,i){await this.languageManager.fetchPresenceStrings(i);const r=await this.storageManager.get("local",`${i}_availableLanguages`,`${i}_changedLanguage`),a=((r==null?void 0:r[`${i}_availableLanguages`])||[zt]).map(c=>({title:c.nativeName,value:c.lang})),s=await le.getValue();let o=zt.lang;t.value&&a.map(c=>c.value).includes(t.value)&&(r!=null&&r[`${i}_changedLanguage`])?{value:o}=t:s!=null&&s.presencesLanguage&&a.map(c=>c.value).includes(s.presencesLanguage)&&(o=s.presencesLanguage);const l=await this.languageManager.getStrings({language:"general.language"});return t.title=l.language,t.icon="fad fa-language",t.values=a,t.value=o,t}async setPresencesLanguage(t){const i=await Ge.getValue();i&&await Promise.all(i.map(async r=>{const a=await this.storageManager.get("local",`${r}_settings`,`${r}_changedLanguage`,`${r}_availableLanguages`),s=a==null?void 0:a[`${r}_settings`],o=a==null?void 0:a[`${r}_availableLanguages`];if(!s||!o||a!=null&&a[`${r}_changedLanguage`])return;let l=zt.lang;o.map(c=>c.lang).includes(t)&&(l=t),await Promise.all(Object.entries(s).map(async([c,u])=>{u.id!=="lang"||!u.multiLanguage||u.value===l||await this.setSetting(r,c,l)}))}))}}function gk(e,n,t,i){for(var r=e.length,a=t+(i?1:-1);i?a--:++a<r;)if(n(e[a],a,e))return a;return-1}var vk=gk;function xk(e){return e!==e}var bk=xk;function yk(e,n,t){for(var i=t-1,r=e.length;++i<r;)if(e[i]===n)return i;return-1}var _k=yk,$k=vk,Ik=bk,wk=_k;function Ak(e,n,t){return n===n?wk(e,n,t):$k(e,Ik,t)}var Tk=Ak,Pk=Tk;function Mk(e,n){var t=e==null?0:e.length;return!!t&&Pk(e,n,0)>-1}var Dk=Mk;function kk(e,n,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(n,e[i]))return!0;return!1}var Lk=kk,Ek=xu,Ok=Dk,Rk=Lk,Ck=sn,Sk=dn,Uk=bu,Fk=200;function Nk(e,n,t,i){var r=-1,a=Ok,s=!0,o=e.length,l=[],c=n.length;if(!o)return l;t&&(n=Ck(n,Sk(t))),i?(a=Rk,s=!1):n.length>=Fk&&(a=Uk,s=!1,n=new Ek(n));e:for(;++r<o;){var u=e[r],d=t==null?u:t(u);if(u=i||u!==0?u:0,s&&d===d){for(var m=c;m--;)if(n[m]===d)continue e;l.push(u)}else a(n,d,i)||l.push(u)}return l}var Bk=Nk,jk=rt,Vk=Me;function Gk(e){return Vk(e)&&jk(e)}var Hk=Gk,qk=Bk,Wk=ju,zk=gu,qu=Hk,Kk=zk(function(e,n){return qu(e)?qk(e,Wk(n,1,qu,!0)):[]}),Yk=Kk;const Hr=X(Yk);class Xk extends an{constructor(){super();$(this,"log",kt.extend("StorageManager"));$(this,"logGet",this.log.extend("get"));$(this,"logSet",this.log.extend("set"));Ve.watch((t,i)=>{if(i===void 0)return;const r=Hr(i,t)[0]||Hr(t,i)[0],a=Hr(i,t).length===0;this.emit("presenceEnableDisable",r,a)}),A.storage.onChanged.addListener(t=>{var r;const i=Object.keys(t)[0];i!=null&&i.endsWith("_settings")&&this.emit("presenceSettingUpdate",i.split("_")[0],(r=t[i])==null?void 0:r.newValue)})}async get(t,...i){return this.logGet("%s %s",t,i),await A.storage[t].get(i)}async set(t,i){return this.logSet("%s %O",t,i),A.storage[t].set(i)}}const kt=Da("PreMiD");Da.enable("PreMiD*");class Qk{constructor(n,t){$(this,"storageManager",new Xk);$(this,"languageManager",new jg(this));$(this,"presenceManager",new pk(this.languageManager,this.storageManager));$(this,"tabPriority");$(this,"oAuthManager",new zb(this));$(this,"installedDetails");var i;this.websocketManager=n,this.sessionKeepAlive=t,(i=A==null?void 0:A.runtime)!=null&&i.onInstalled&&A.runtime.onInstalled.addListener(r=>{this.installedDetails=r}),this.init()}async initBackground(n){await nt()&&(await I0(this),le.watch(Ci),await this.languageManager.initialized,this.tabPriority=n,this.presenceManager.init())}async init(){var r;const{name:n,version:t,version_name:i}=A.runtime.getManifest();if(await this.languageManager.initialized,await nt()){switch((r=this.installedDetails)==null?void 0:r.reason){case"install":A.tabs.create({active:!0,url:A.runtime.getURL("/installed.html")}),await Ri.setValue(t);break;case"update":{const a=await Ri.getValue();if(a&&(!An.gt(t,a)||Ud===t))break;A.tabs.create({url:A.runtime.getURL("/updated.html")}),await Ri.setValue(t);break}}console.log(`%c${n}%c v${i||t}
%cUse %cpmd%c to access PreMiD.

%cAnalytics Id: %c${await $0()}

%cMade with %c❤️%c by Recodive`,"color: #7289da; font-size: 2rem; font-weight: bold;","color: unset","color: #7289da; font-size: 1rem;","color: #7289da; font-size: 1rem; font-weight: bold;","color: #7289da; font-size: 1rem;","color: unset; font-size: 1rem;","color: gray;","color: unset; font-size: 1rem;","color: red; font-size: 1rem;","color: unset; font-size: 1rem;"),Ci()}}async reset(){await Promise.allSettled([A.storage.local.clear(),A.storage.sync.clear()]),A.runtime.reload()}reload(){A.runtime.reload()}formatDiscordUser(n){return n?n.discriminator==="0"&&"global_name"in n?`${n.global_name} (@${n.username})`:`${n.username}#${n.discriminator}`:""}}class Zk{constructor(n,t,i){$(this,"id");$(this,"data");$(this,"_interval");this.id=n,this.data=t,this._interval=i}get interval(){return this._interval}set interval(n){n<=mi&&(n=mi),this._interval=n}updateData(n){this.data=n??this.data}updateInterval(n){this.interval=n??this.interval}}const mi=5e3;class qr{constructor(){$(this,"index",0);$(this,"slides",[]);$(this,"currentSlide",{});this.pollSlide()}pollSlide(n=!0){if(this.index>this.slides.length-1&&(this.index=0),this.slides.length>0){const t=this.slides[this.index];if(!t){this.currentSlide={},setTimeout(this.pollSlide.bind(this),mi);return}this.currentSlide=t.data,this.index++,n&&setTimeout(this.pollSlide.bind(this),t.interval)}else this.currentSlide={},n&&setTimeout(this.pollSlide.bind(this),mi)}addSlide(n,t,i){if(this.hasSlide(n))return this.updateSlide(n,t,i);const r=new Zk(n,t,i);return this.slides.push(r),Object.keys(this.currentSlide).length===0&&this.pollSlide(!1),r}deleteSlide(n){this.slides=this.slides.filter(t=>t.id!==n)}deleteAllSlides(){this.slides=[],this.currentSlide={}}updateSlide(n,t,i){for(const r of this.slides)if(r.id===n)return r.updateData(t),r.updateInterval(i),Object.keys(this.currentSlide).length===0&&this.pollSlide(!1),r}hasSlide(n){return this.slides.some(t=>t.id===n)}getSlides(){return this.slides}}window.Slideshow=qr;class Jk extends an{constructor(t){super();$(this,"clientId");$(this,"injectOnComplete");$(this,"internalPresence",{});$(this,"port");$(this,"pmd",new Qk);$(this,"service",window.PreMiD_PresenceName);$(this,"log",kt.extend(this.service));$(this,"logInfo",this.log.extend("info"));$(this,"logError",this.log.extend("error"));$(this,"logSuccess",this.log.extend("success"));$(this,"imageSrcToBlob",new Map);$(this,"uploadedBlobs",new Map);this.clientId=t.clientId,this.injectOnComplete=t.injectOnComplete??!1,this.connectToBackground()}connectToBackground(){this.port=A.runtime.connect({name:"contentScript"}),this.port.onMessage.addListener(async t=>{switch(t.event){case"iFrameData":return this.emit("iFrameData",t.data);case"updateData":return this.injectOnComplete&&document.readyState!=="complete"?void 0:this.emit("UpdateData")}}),this.port.onDisconnect.addListener(this.connectToBackground.bind(this))}getActivity(){return this.internalPresence}async setActivity(t={},i=!0){var r;t instanceof qr&&(t=t.currentSlide),this.internalPresence=t,this.postEvent({data:{clientId:this.clientId,presenceData:{buttons:((r=this.internalPresence.buttons)==null?void 0:r.filter(a=>!!a).map(a=>({label:this.getTextFromElement(a.label)??"",url:typeof a.url=="string"?a.url:a.url.href??""})))??void 0,details:(this.internalPresence.details&&this.getTextFromElement(this.internalPresence.details))??void 0,endTimestamp:this.internalPresence.endTimestamp,largeImageKey:(this.internalPresence.largeImageKey&&await this.getImageFromElement(this.internalPresence.largeImageKey))??void 0,largeImageText:this.internalPresence.largeImageText,name:this.internalPresence.name,smallImageKey:(this.internalPresence.smallImageKey&&await this.getImageFromElement(this.internalPresence.smallImageKey))??void 0,smallImageText:(this.internalPresence.smallImageText&&this.getTextFromElement(this.internalPresence.smallImageText))??void 0,startTimestamp:this.internalPresence.startTimestamp,state:(this.internalPresence.state&&this.getTextFromElement(this.internalPresence.state))??void 0,type:this.internalPresence.type}},event:"setActivity"})}getTextFromElement(t){if(t)return typeof t=="string"?t:t.textContent??void 0}async getImageFromElement(t){if(!t)return;if(typeof t=="string")return t;if(t instanceof Blob)return await this.uploadBlob(t);if(!t.src.startsWith("blob:"))return t.src;if(this.imageSrcToBlob.has(t.src))return await this.uploadBlob(this.imageSrcToBlob.get(t.src));const i=await fetch(t.src).then(r=>r.blob());return this.imageSrcToBlob.set(t.src,i),await this.uploadBlob(i)}async uploadBlob(t){const i=await t.text();if(this.uploadedBlobs.has(i))return this.uploadedBlobs.get(i);const r=new FormData;r.append("file",t);const a=await fetch("https://pd.premid.app/create/image",{body:r,method:"POST"}).then(s=>s.text());return this.uploadedBlobs.set(i,a),a}clearActivity(){this.internalPresence={},this.postEvent({event:"clearActivity"})}setTrayTitle(t){}getStrings(t,i){return this.pmd.languageManager.getPresenceStrings(this.service,t)}async getPageletiable(t){return this.error("getPageletiable has been deprecated since 2.5, use getPageVariable instead. This function will be removed in 2.7/3.0."),t=`window["${t}"]`,t=t.replaceAll(/\["(.*?)"\]/g,".$1"),(await this.getPageVariable(t))[t]}async getLogs(t,i){const r=(i==null?void 0:i.types)??["log"],a=(i==null?void 0:i.contentOnly)??!0;let{console:{logs:s}}=await this.getPageVariable("console");return s===void 0&&(s=[]),r&&(s=s.filter(o=>r.includes(o.type))),t&&(s=s.filter(o=>typeof o.content=="string"&&new RegExp(t).test(o.content))),s=s.slice(Math.max(s.length-100,0)),a?s.map(o=>o.content):s}getExtensionVersion(t=!0){return t?Number.parseInt(A.runtime.getManifest().version.replaceAll(/\D/g,"")):A.runtime.getManifest().version}async getSetting(t){return this.pmd.presenceManager.getSetting(this.service,t)}hideSetting(t){return this.pmd.presenceManager.hideSetting(this.service,t)}showSetting(t){return this.pmd.presenceManager.showSetting(this.service,t)}getTimestampsfromMedia(t){return this.getTimestamps(t.currentTime,t.duration)}getTimestamps(t,i){const r=Date.now()/1e3-t,a=r+i;return[Math.floor(r),Math.floor(a)]}timestampFromFormat(t){return t.split(":").map(i=>Number.parseInt(i)).reduce((i,r)=>60*i+r)}info(t){this.logInfo(t)}success(t){this.logSuccess(t)}error(t){this.logError(t)}createSlideshow(){return new qr}async getPageVariable(...t){return new Promise(i=>{const r=Sd(),a=s=>{s.detail.nonce===r&&(window.removeEventListener("pmdPageVariable",a),i(s.detail.variables))};window.addEventListener("pmdPageVariable",a),window.dispatchEvent(new CustomEvent("pmdGetPageVariable",{detail:JSON.stringify({nonce:r,variables:t})}))})}postEvent(t){var i;(i=this.port)==null||i.postMessage(t)}}window.Presence=Jk;const eL={main(){},matches:["<all_urls>"],runAt:"document_start",world:"ISOLATED"},tL={BASE_URL:"/",BROWSER:"chrome",CHROME:!0,COMMAND:"build",DEV:!1,EDGE:!1,ENTRYPOINT:"content",FIREFOX:!1,MANIFEST_VERSION:3,MODE:"production",OPERA:!1,PROD:!0,SAFARI:!1,SSR:!1,VITE_CJS_IGNORE_WARNING:"true"},gi=class gi extends Event{constructor(n,t){super(gi.EVENT_NAME,{}),this.newUrl=n,this.oldUrl=t}};$(gi,"EVENT_NAME",Wu("wxt:locationchange"));let Wr=gi;function Wu(e){var t;const n=typeof tL>"u"?"build":"content";return`${(t=A==null?void 0:A.runtime)==null?void 0:t.id}:${n}:${e}`}function nL(e){let n,t;return{run(){n==null&&(t=new URL(location.href),n=e.setInterval(()=>{let i=new URL(location.href);i.href!==t.href&&(window.dispatchEvent(new Wr(i,t)),t=i)},1e3))}}}const nn=class nn{constructor(n,t){me(this,Ze);me(this,vi,window.self===window.top);me(this,St);me(this,xi,nL(this));this.contentScriptName=n,this.options=t,ae(this,St,new AbortController),j(this,vi)?(bi(this,Ze,Qr).call(this,{ignoreFirstEvent:!0}),bi(this,Ze,Qu).call(this)):bi(this,Ze,Qr).call(this)}get signal(){return j(this,St).signal}abort(n){return j(this,St).abort(n)}get isInvalid(){return A.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(n){return this.signal.addEventListener("abort",n),()=>this.signal.removeEventListener("abort",n)}block(){return new Promise(()=>{})}setInterval(n,t){const i=setInterval(()=>{this.isValid&&n()},t);return this.onInvalidated(()=>clearInterval(i)),i}setTimeout(n,t){const i=setTimeout(()=>{this.isValid&&n()},t);return this.onInvalidated(()=>clearTimeout(i)),i}requestAnimationFrame(n){const t=requestAnimationFrame((...i)=>{this.isValid&&n(...i)});return this.onInvalidated(()=>cancelAnimationFrame(t)),t}requestIdleCallback(n,t){const i=requestIdleCallback((...r)=>{this.signal.aborted||n(...r)},t);return this.onInvalidated(()=>cancelIdleCallback(i)),i}addEventListener(n,t,i,r){var a;t==="wxt:locationchange"&&this.isValid&&j(this,xi).run(),(a=n.addEventListener)==null||a.call(n,t.startsWith("wxt:")?Wu(t):t,i,{...r,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),mn.debug(`Content script "${this.contentScriptName}" context invalidated`)}};vi=new WeakMap,St=new WeakMap,xi=new WeakMap,Ze=new WeakSet,Qu=function(){window.postMessage({type:nn.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")},Qr=function(n){let t=!0;const i=r=>{var a,s;if(((a=r.data)==null?void 0:a.type)===nn.SCRIPT_STARTED_MESSAGE_TYPE&&((s=r.data)==null?void 0:s.contentScriptName)===this.contentScriptName){const o=t;if(t=!1,o&&(n!=null&&n.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",i),this.onInvalidated(()=>removeEventListener("message",i))},$(nn,"SCRIPT_STARTED_MESSAGE_TYPE","wxt:content-script-started");let zr=nn;function hE(){}function pi(e,...n){}const iL={debug:(...e)=>pi(console.debug,...e),log:(...e)=>pi(console.log,...e),warn:(...e)=>pi(console.warn,...e),error:(...e)=>pi(console.error,...e)};return(async()=>{try{const{main:e,...n}=eL,t=new zr("content",n);return await e(t)}catch(e){throw iL.error('The content script "content" crashed on startup!',e),e}})()}();
content;
//# sourceMappingURL=content.js.map
